<xml xmlns="http://www.w3.org/1999/xhtml"><block type="root_block_ui_builder_text_onContentAssignment_handler" id="T##M?P1JD7^pN~r-BRN{" deletable="false" x="20" y="50"><statement name="statements_code"><block type="controls_if" id="pvYIIE0OM?U{sNjUW$Ez"><value name="IF0"><block type="logic_compare" id="w$HDj+8!ZcLe]^7KE$hy"><field name="OP">NEQ</field><value name="A"><block type="get_object_property" id="^UdJ3xL_h:ob^Io`aW0#"><value name="prop_name"><shadow type="text" id="XAyfL#{}CMfoJYtTcfkr"><field name="TEXT">serviceName</field></shadow></value><value name="object"><block type="root_block_ui_builder_common__context_blocks_pageData" id="M]+Aw{~Lx9zi9Qe*CeQS" bl_meta="{&quot;label&quot;:&quot;Page Data&quot;}"></block></value></block></value><value name="B"><block type="get_object_property" id="u$i_1]g600BX*Hg8y2fo"><value name="prop_name"><shadow type="text" id="D|VPa8OgH,exX^bgkB*="><field name="TEXT">oldServiceName</field></shadow></value><value name="object"><block type="root_block_ui_builder_common__context_blocks_pageData" id="woB6cDWY{W;,-]E3E6};" bl_meta="{&quot;label&quot;:&quot;Page Data&quot;}"></block></value></block></value></block></value><statement name="DO0"><block type="controls_if" id="[3P%dp?Otva5VgY]1068"><value name="IF0"><block type="get_object_property" id="46%f=TTT#0?$?P*y9C?!"><value name="prop_name"><shadow type="text" id="8*xgjm/a1hT|2F]#-.]-"><field name="TEXT">oldServiceName</field></shadow></value><value name="object"><block type="root_block_ui_builder_common__context_blocks_pageData" id="2lvV`j}?-Z#.HvKpL#._" bl_meta="{&quot;label&quot;:&quot;Page Data&quot;}"></block></value></block></value><statement name="DO0"><block type="text_print" id="^5Jp3FmUb4n_:Aai.0%."><value name="TEXT"><shadow type="text" id="vZLuOn8lMoYBbwPe9Yb{"><field name="TEXT">abc</field></shadow><block type="text_join" id="eTSL?5Z/Nh)VYsX}}9Wv"><mutation items="2"></mutation><value name="ADD0"><block type="text" id="#Sm=IWEX..9A5;cUY8K;"><field name="TEXT">старая строка</field></block></value><value name="ADD1"><block type="get_object_property" id="x?=/y!2)yEoN;bj_EuD6"><value name="prop_name"><shadow type="text" id="k!Mm+lsl}/m}X];||~pn"><field name="TEXT">oldServiceName</field></shadow></value><value name="object"><block type="root_block_ui_builder_common__context_blocks_pageData" id="pR|Ro1ud8s[-f!C!q8YD" bl_meta="{&quot;label&quot;:&quot;Page Data&quot;}"></block></value></block></value></block></value></block></statement><next><block type="set_object_property" id="ME_;WmcIz;$x)06@5dbQ"><value name="object"><block type="root_block_ui_builder_common__context_blocks_pageData" id=",wbGJ],8BR(t?mq|8cn#" bl_meta="{&quot;label&quot;:&quot;Page Data&quot;}"></block></value><value name="propName"><shadow type="text" id="N0rEjvg=D:ay{MZ{sY.9"><field name="TEXT">oldServiceName</field></shadow></value><value name="propValue"><block type="get_object_property" id="oFO1|YXa7atDB/ix5@}["><value name="prop_name"><shadow type="text" id="Vu(YFea/DRZ_R=r53yR["><field name="TEXT">serviceName</field></shadow></value><value name="object"><block type="root_block_ui_builder_common__context_blocks_pageData" id="jhs8qQ];yR%;qsfp6L}R" bl_meta="{&quot;label&quot;:&quot;Page Data&quot;}"></block></value></block></value><next><block type="text_print" id="da@e^#?Iv!WA~!pDRhY5"><value name="TEXT"><shadow type="text" id="3vt=n2rnY@guBfR6xSB+"><field name="TEXT">вызов</field></shadow></value><next><block type="custom_js_code" id="!S0{#y0+y(on~G*{:^.X"><mutation output="false"><arg arg-name="serviceName"></arg><code>//console.log (serviceName);\n\nconst output = document.querySelector ('.block');\n\nwhile (output.firstChild) {\n    output.removeChild(output.firstChild);\n}\n\nconst io = await BackendlessUI.requireModule('https://cdn.jsdelivr.net/npm/socket.io-client@4.4.0/dist/socket.io.min.js');\n\nconst socket = io.connect('http://localhost:5051', { transports : ['websocket'] });\n\nconsole.log(socket.connected)\n\n        \n  socket.on (`${serviceName}-logs`, function (data) {\n    let outputItem = document.createElement ('span');\n    outputItem.innerHTML = data;\n    output.append (outputItem);\n    // console.log(data);\n    // console.log(socket.connected);\n  });\n        \n  socket.emit ('service-logs:subscribe', {\n    "serviceName":`${serviceName}`,\n    "channelName": `${serviceName}-logs`\n  });\n  \n  setTimeout ( () =&gt; {\n    console.log ('stop');\n    \n    socket.emit ('service-logs:unsubscribe', {\n    "serviceName":`${serviceName}`,\n    "channelName":`${serviceName}-logs`\n  });\n    \n  },2000  )\n  \n  \n  \n  \n\n  \n  </code></mutation><field name="name">getSocketIoData</field><value name="serviceName"><block type="get_object_property" id="W}.*T#3/]a^`2p12M2!~"><value name="prop_name"><shadow type="text" id="Dz@O4n@LBy@jF`YY8P|J"><field name="TEXT">serviceName</field></shadow></value><value name="object"><block type="root_block_ui_builder_common__context_blocks_pageData" id="aW}W:sz4P!o;Sr_Em-%Y" bl_meta="{&quot;label&quot;:&quot;Page Data&quot;}"></block></value></block></value></block></next></block></next></block></next></block></statement></block></statement><value name="return"><block type="text" id="jWFI9%VD:[seBu?;MC0C"><field name="TEXT">Content</field></block></value></block></xml>