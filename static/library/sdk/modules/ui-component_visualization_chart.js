(self.webpackChunkbackendless_ui_sdk=self.webpackChunkbackendless_ui_sdk||[]).push([[200],{8355:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Q});var a=n(67294),o=n(1762),r=n(93379),s=n.n(r),l=n(7795),c=n.n(l),d=n(90569),u=n.n(d),h=n(3565),p=n.n(h),g=n(70609),m=n.n(g),b=n(44589),v=n.n(b),y=n(65781),x={};x.styleTagTransform=v(),x.setAttributes=p(),x.insert=u().bind(null,"head"),x.domAPI=c(),x.insertStyleElement=m();s()(y.Z,x);y.Z&&y.Z.locals&&y.Z.locals;n(12404);var _=n(94184),O=n.n(_),S=n(94770),w=n(28121),P=n(78527),C=n(29217),E=n(71943);function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach((function(e){_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}window.ChartJS=C.Z;var getSerieId=t=>"serie-".concat(t),getMinTimeStepSize=(t,e)=>{if(!e||!t)return 1;var{min:n,max:a}=(t=>{var e={min:null,max:null};for(var{data:n}of t)for(var{x:a}of n)null===e.min&&(e.min=a),null===e.max&&(e.max=a),a<e.min&&(e.min=a),a>e.max&&(e.max=a);return e})(e),o=(a-n)/E.Cq[t]/1e5,r=Math.round(1.3*o);return Math.max(1,r)},k={titlePosition:E.zI.TOP,titleText:null,legendPosition:E.zI.BOTTOM,legendItemsSize:16,legendItemsType:E.hH.RECTANGLE},getDefaultChartModelComponentsSetting=t=>{var e=t?"".concat(t," Chart"):null;return _objectSpread(_objectSpread({},k),{},{titleText:e})},M=function createColorsGenerator(){var t=["#2f7ed8","#0d233a","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a","#4572A7","#AA4643","#89A54E","#80699B","#3D96AE","#DB843D","#92A8CD","#A47D7C","#B5CA92","#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"].map((t=>function hexToRGB(t,e){var n=parseInt(t.slice(1,3),16),a=parseInt(t.slice(3,5),16),o=parseInt(t.slice(5,7),16);return e?"rgba(".concat(n,", ").concat(a,", ").concat(o,", ").concat(e,")"):"rgb(".concat(n,", ").concat(a,", ").concat(o,")")}(t,.8)));return e=>t[e]?t[e]:t[(e+t.length)%t.length]}();function getStaticColorByIndex(t){return M(t)}function composeChartAxis(t){var e={display:!0,offset:!0,title:{display:!!t.scaleLabelString,text:t.scaleLabelString},grid:{display:!!t.gridLinesBorderDash,lineWidth:t.gridLinesWidth||1,borderWidth:t.gridLinesWidth||1,color:t.gridLinesColor,borderColor:t.gridLinesColor,borderDash:t.gridLinesBorderDash},ticks:{display:!0,source:"data"}};return t.position&&(e.position=t.position),"false"===t.ticksDisplay&&(e.ticks.display=!1),e}var D={[E.$X.TIME]:(t,e,n)=>{var a=e.xAxis||{},o=[];if(e.series.forEach((t=>{t.type&&t.field&&((t=_objectSpread({},t)).color||(t.color=getStaticColorByIndex(o.length)),o.push(t))})),o.forEach(((e,n)=>{var a={yAxisID:getSerieId(n),type:e.type===E.xT.AREA?E.xT.LINE:e.type,label:e.label||e.field,data:[],fill:e.type===E.xT.AREA,backgroundColor:e.color,borderColor:e.color,tension:.4};t.data.datasets.push(a)})),n){var r=[...n];r.sort(((t,e)=>t[a.field]-e[a.field])),o.forEach(((e,n)=>{var o={};r.forEach((r=>{o[r[a.field]]||(o[r[a.field]]=!0,t.data.datasets[n].data.push({x:r[a.field],y:r[e.field]}))}))}))}var s=Object.assign(composeChartAxis(a),{position:E.zI.BOTTOM,type:"time",offset:!1,time:{unit:e.xAxis.timeUnit,stepSize:getMinTimeStepSize(e.xAxis.timeUnit,t.data.datasets)}});return s.grid.offset=!1,t.options.scales={x:s},o.forEach(((e,n)=>{var a=Object.assign(composeChartAxis(e.yAxis),{display:!!e.yAxis.position,offset:!1});a.position=a.position||E.zI.LEFT,t.options.scales[getSerieId(n)]=a})),t.type=E.xT.BAR,t.options.plugins.tooltip={mode:"x",intersect:!1},t},[E.$X.CATEGORIES]:(t,e,n)=>{var a=e.xAxis||{};t.data.labels=[];var o=[];return e.series.forEach((t=>{t.type&&t.field&&((t=_objectSpread({},t)).color||(t.color=getStaticColorByIndex(o.length)),o.push(t))})),o.forEach(((e,n)=>{var a={yAxisID:getSerieId(n),type:e.type===E.xT.AREA?E.xT.LINE:e.type,label:e.label||e.field,data:[],fill:e.type===E.xT.AREA,backgroundColor:e.color,borderColor:e.color,tension:.4};t.data.datasets.push(a)})),n&&n.forEach((e=>{t.data.labels.push(e[a.field]),o.forEach(((n,a)=>{t.data.datasets[a].data.push(e[n.field])}))})),t.options.scales={x:composeChartAxis(a)},o.forEach(((e,n)=>{var a=Object.assign(composeChartAxis(e.yAxis),{display:!!e.yAxis.position,offset:!1});a.position=a.position||E.zI.LEFT,a.ticks.min=0,t.options.scales[getSerieId(n)]=a})),t.type=E.xT.BAR,t.options.plugins.tooltip={mode:"x",intersect:!1},t},[E.$X.PIE]:(t,e,n)=>{var a=e.xAxis||{};t.data.labels=[];var o=[];return e.series.forEach((t=>{t.type&&t.field&&((t=_objectSpread({},t)).color||(t.color=getStaticColorByIndex(o.length)),o.push(t))})),o.forEach((e=>{t.data.datasets.push({label:e.label||e.field,data:[],backgroundColor:[]})})),n&&n.forEach(((e,n)=>{t.data.labels.push(e[a.field]),o.forEach(((a,o)=>{t.data.datasets[o].backgroundColor.push(getStaticColorByIndex(n)),t.data.datasets[o].data.push(e[a.field])}))})),t.type=E.xT.PIE,t.options.plugins.tooltip={callbacks:{label:function label(t){var label=t.dataset.label||"",e=t.parsed||0;return"".concat(label," - ").concat(e)}}},t}};function normalizeChartModel(t){var e=Object.assign({},_objectSpread({type:E.$X.TIME,xAxis:{field:null,gridLines:{}},series:[]},k),t);return e.xAxis=Object.assign({},{gridLinesWidth:1,gridLinesColor:"rgba(0, 0, 0, 0.1)",gridLinesBorderDash:[],scaleLabelString:""},e.xAxis),Array.isArray(e.series)&&e.series.length||(e.series=[{}]),e.series=e.series.map((t=>{var e,n;return(t=Object.assign({},(e=C.Z.defaults.elements.point,n=C.Z.defaults.elements.line,{pointStyle:e.pointStyle,pointRadius:e.radius,pointBorderWidth:e.borderWidth,pointBackgroundColor:e.backgroundColor,pointBorderColor:e.borderColor,pointRotation:e.rotation,lineBorderColor:n.borderColor,lineBorderWidth:n.borderWidth,lineBorderDash:n.borderDash}),t)).type||(t.type=E.xT.LINE),t.yAxis=Object.assign({},{gridLinesWidth:1,gridLinesColor:"rgba(0, 0, 0, 0.1)",gridLinesBorderDash:[],scaleLabelString:""},t.yAxis),t})),e}var T=n(92333),A={};A.styleTagTransform=v(),A.setAttributes=p(),A.insert=u().bind(null,"head"),A.domAPI=c(),A.insertStyleElement=m();s()(T.Z,A);T.Z&&T.Z.locals&&T.Z.locals;var j=n(78916),I=n(25512),L=n(99490);const N={datetime:L.ou.DATETIME_MED_WITH_SECONDS,millisecond:"h:mm:ss.SSS a",second:L.ou.TIME_WITH_SECONDS,minute:L.ou.TIME_SIMPLE,hour:{hour:"numeric"},day:{day:"numeric",month:"short"},week:"DD",month:{month:"short",year:"numeric"},quarter:"'Q'q - yyyy",year:{year:"numeric"}};I.IQ._date.override({_id:"luxon",_create:function(t){return L.ou.fromMillis(t,this.options)},init(t){this.options.locale||(this.options.locale=t.locale)},formats:function(){return N},parse:function(t,e){const n=this.options,a=typeof t;return null===t||"undefined"===a?null:("number"===a?t=this._create(t):"string"===a?t="string"==typeof e?L.ou.fromFormat(t,e,n):L.ou.fromISO(t,n):t instanceof Date?t=L.ou.fromJSDate(t,n):"object"!==a||t instanceof L.ou||(t=L.ou.fromObject(t,n)),t.isValid?t.valueOf():null)},format:function(t,e){const n=this._create(t);return"string"==typeof e?n.toFormat(e):n.toLocaleString(e)},add:function(t,e,n){const a={};return a[n]=e,this._create(t).plus(a).valueOf()},diff:function(t,e,n){return this._create(t).diff(this._create(e)).as(n).valueOf()},startOf:function(t,e,n){if("isoWeek"===e){n=Math.trunc(Math.min(Math.max(0,n),6));const e=this._create(t);return e.minus({days:(e.weekday-n+7)%7}).startOf("day").valueOf()}return e?this._create(t).startOf(e).valueOf():t},endOf:function(t,e){return this._create(t).endOf(e).valueOf()}});var R=n(23279),z=n.n(R),B=n(17788);function Chart(t){var{chartModel:e,chartData:n}=t,o=(0,S.useHelpers)({chartModelSnapshot:null,chartDataItemsSnapshot:null,chart:null}),r=(0,S.useIsMounted)(),s=(0,S.useRef)(null),l=(0,S.useRef)(z()(((t,e)=>{renderChart(t,e)}),300)).current;(0,S.useEffect)((()=>l(e,n)),[e,n]);var renderChart=(t,e)=>{if(!r.current)return null;var n=function composeChartOptions(t,e){if(!t)return null;var n={data:{datasets:[]},options:{plugins:{title:{display:!!t.titlePosition,position:t.titlePosition,text:t.titleText},legend:{display:!!t.legendPosition,position:t.legendPosition,labels:{boxWidth:t.legendItemsSize,usePointStyle:t.legendItemsType===E.hH.POINT}},tooltip:{}},maintainAspectRatio:!1,responsive:!0,scales:{}}};return D[t.type]&&D[t.type](n,t,e),n}(t,e.items);(0,B.h)(o.chartModelSnapshot,t)&&(o.chart&&o.chart.destroy(),n&&(o.chartModelSnapshot=JSON.parse(JSON.stringify(t)),o.chart=new C.Z(s.current,n))),(0,B.h)(o.chartDataItemsSnapshot,e.items)&&(o.chart&&(o.chart.data=n.data,o.chart.update()),o.chartDataItemsSnapshot=JSON.parse(JSON.stringify(e.items)))};return a.createElement("canvas",{className:"chart-canvas",ref:s})}var F=(0,a.createContext)(null),useComponentsContext=()=>(0,S.useContext)(F).components;const W=F;function ChartPreview(t){var e,n,o,r,{chartData:s,showTable:l,chartModel:c,chartDataFields:d}=t,{loadingStatus:u}=s,{components:h,errorMessageMapByCode:p}=(0,S.useContext)(W),{TableView:g,Spinner:m}=h,b=(null===(e=u.records)||void 0===e?void 0:e.loading)||(null===(n=u.columns)||void 0===n?void 0:n.loading),v=(null===(o=u.records)||void 0===o?void 0:o.error)||(null===(r=u.columns)||void 0===r?void 0:r.error);return a.createElement("div",{className:"bl-chart-visualization-preview"},a.createElement(j.Z,{loading:b,error:v,spinner:m,errorMessageMapByCode:p},l?a.createElement(g,{chartDataFields:d,chartData:s}):a.createElement(Chart,{chartModel:c,chartData:s})))}var V=n(34410),H=n(47970),Z=n(91420),U=n(79723),Y=n(68334);function ChartSeriesTypeSettings(t){var{chartModel:e,onModelChange:n}=t,{type:o}=e,{Select:r}=useComponentsContext(),s=(0,S.useCallback)((t=>{var{value:e}=t;return n({type:e})}),[n]);return a.createElement(Y.Z.Group,{label:"Type"},a.createElement(r,{options:E.$X.Options,value:o,onChange:s,size:"small"}))}function modal_ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function modal_objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?modal_ownKeys(Object(n),!0).forEach((function(e){modal_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):modal_ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function modal_defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SeriesSettingsModal(t){var{onModelChange:e,show:n,onHide:o,chartModel:r,chartDataFields:s}=t,{type:l,xAxis:c,series:d}=r,[u,h]=(0,S.useObjectState)({type:l,xAxis:c,series:d}),{XAxisSettings:p,SeriesSettings:g,Button:m}=useComponentsContext(),b=(0,S.useCallback)((()=>{e(u),o()}),[o,e,u]),v=(0,S.useCallback)((t=>{var e=t?modal_objectSpread(modal_objectSpread({},u),t):{},{type:n,xAxis:a,series:o}=normalizeChartModel(e);h({type:n,xAxis:a,series:o})}),[u]),y=(0,S.useCallback)((()=>v()),[v]),x=(0,S.useCallback)((()=>{v({series:[...u.series,{}]})}),[u,v]);return a.createElement(U.Z,{open:n,onClose:o},a.createElement(U.Z.Header,{title:"Components",onClose:o}),a.createElement(U.Z.Body,null,a.createElement("div",{className:"chart-visualization-series-settings"},a.createElement(ChartSeriesTypeSettings,{chartModel:u,onModelChange:v}),a.createElement(p,{chartModel:u,chartDataFields:s,onModelChange:v}),a.createElement("div",null,u.series.map(((t,e)=>a.createElement(g,{key:e,seriesItem:t,seriesItemIndex:e,chartModel:u,chartDataFields:s,onModelChange:v})))),a.createElement(m,{primary:!0,onClick:x},"ADD SERIES"))),a.createElement(U.Z.Footer,null,a.createElement(m,{onClick:y},"RESET ALL"),a.createElement(m,{onClick:o},"CANCEL"),a.createElement(m,{onClick:b,primary:!0},"SAVE")))}function series_SeriesSettings(t){var{chartModel:e,onModelChange:n,chartDataFields:o}=t,{queryParams:r,removeQueryParams:s}=(0,S.useQueryParams)("showDialogChartCreated"),[l,c]=(0,S.useState)(r.showDialogChartCreated||!1),d=(0,S.useCallback)((()=>c(!0)),[]),u=(0,S.useCallback)((()=>{s("showDialogChartCreated"),c(!1)}),[]);return a.createElement(H.Z.ButtonContainer,null,a.createElement(Z.Z,{onClick:d},"Series"),l&&a.createElement(SeriesSettingsModal,{show:l,onHide:u,onModelChange:n,chartModel:e,chartDataFields:o}))}series_SeriesSettings.defaultProps={chartModel:{}};var K=n(73237),$={};$.styleTagTransform=v(),$.setAttributes=p(),$.insert=u().bind(null,"head"),$.domAPI=c(),$.insertStyleElement=m();s()(K.Z,$);K.Z&&K.Z.locals&&K.Z.locals;function ChartLegendSettings(t){var{chartComponentsModel:e,onModelChange:n}=t,{legendPosition:o,legendItemsType:r,legendItemsSize:s}=e,{Select:l,NumberInput:c}=useComponentsContext(),d=(0,S.useCallback)((t=>{var{value:e}=t;n({legendPosition:e===E.zI.NONE?null:e})}),[n]),u=(0,S.useCallback)((t=>{var{value:e}=t;n({legendItemsType:e})}),[n]),h=(0,S.useCallback)((t=>{n({legendItemsSize:t})}),[n]);return a.createElement(Y.Z.Group,{fieldClassName:"bl-chart-legend-settings",label:"Chart Legend"},a.createElement(l,{className:"bl-chart-legend-position-group",value:o||E.zI.NONE,options:E.zI.Options,onChange:d,size:"small"}),a.createElement(l,{className:"bl-chart-legend-items-type-group",value:r,options:E.hH.Options,disabled:!o,onChange:u,size:"small"}),a.createElement(c,{className:"bl-chart-legend-items-size-group",value:s,disabled:!o,onChange:h,size:"small"}))}function ChartTitleSettings(t){var{chartComponentsModel:e,onModelChange:n}=t,{titlePosition:o,titleText:r}=e,{Select:s,Input:l}=useComponentsContext(),c=(0,S.useCallback)((t=>{var{value:e}=t;n({titlePosition:e===E.zI.NONE?null:e})}),[n]),d=(0,S.useCallback)((t=>n({titleText:t})),[n]);return a.createElement(Y.Z.Group,{fieldClassName:"bl-chart-title-settings",label:"Chart Title"},a.createElement(s,{className:"bl-chart-title-position-group",value:o||E.zI.NONE,options:E.zI.Options,onChange:c,size:"small"}),a.createElement(l,{className:"bl-chart-title-value-group",value:r,placeholder:"title text",disabled:!o,onChange:d,size:"small"}))}function ComponentsSettingsModal(t){var{onModelChange:e,show:n,onHide:o,chartModel:r,chartName:s}=t,{titlePosition:l,titleText:c,legendPosition:d,legendItemsSize:u,legendItemsType:h}=r,{Button:p}=useComponentsContext(),[g,m]=(0,S.useObjectState)({titlePosition:l,titleText:c,legendPosition:d,legendItemsSize:u,legendItemsType:h}),b=(0,S.useCallback)((()=>m(getDefaultChartModelComponentsSetting(s))),[s]),v=(0,S.useCallback)((()=>{e(g),o()}),[o,e,g]);return a.createElement(U.Z,{open:n,onClose:o,className:"bl-chart-visualization-modal bl-chart-visualization-components-modal"},a.createElement(U.Z.Header,{title:"Components",onClose:o}),a.createElement(U.Z.Body,null,a.createElement(ChartTitleSettings,{chartComponentsModel:g,onModelChange:m}),a.createElement(ChartLegendSettings,{chartComponentsModel:g,onModelChange:m})),a.createElement(U.Z.Footer,null,a.createElement(p,{onClick:b},"RESET ALL"),a.createElement(p,{onClick:o},"CANCEL"),a.createElement(p,{onClick:v,primary:!0},"SAVE")))}function ComponentsSettings(t){var{chartModel:e,onModelChange:n,chartName:o}=t,[r,s]=(0,S.useState)(!1),l=(0,S.useMemo)((()=>{var t=getDefaultChartModelComponentsSetting(o);return(0,B.h)(t,e,Object.keys(t))}),[o,e]),c=(0,S.useCallback)((()=>s(!0)),[]),d=(0,S.useCallback)((()=>s(!1)),[]);return a.createElement(H.Z.ButtonContainer,{isActive:l},a.createElement(Z.Z,{onClick:c},"Components"),r&&a.createElement(ComponentsSettingsModal,{show:r,onHide:d,onModelChange:n,chartModel:e,chartName:o}))}ComponentsSettings.defaultProps={chartModel:{}};function ChartToolbar(t){var{columns:e,model:n,query:o,onQueryChange:r,onModelChange:s,dataSource:l,chartName:c,loadingStatus:d}=t,{showTable:u,setShowTable:h,chartDataFields:p}=t,{components:g,LocalStorageManager:m,featureToggle:b}=(0,S.useContext)(W),{XAxisSettings:v,SeriesSettings:y,CheckBox:x,TableView:_}=g,O=(0,S.useMemo)((()=>(t=>t.filter((t=>{var{type:e}=t;return w.O$.includes(e)})))(e)),[e]);return a.createElement(H.Z,{loadingStatus:d},v&&y&&a.createElement(series_SeriesSettings,{chartModel:n,chartDataFields:p,onModelChange:s}),b.components&&a.createElement(ComponentsSettings,{chartModel:n,onModelChange:s,chartName:c}),b.dataSettings&&a.createElement(V.Z,{modalClassName:"bl-chart-visualization-modal",dataSource:l,query:o,columns:e,filterableColumns:O,onQueryChange:r,components:g,LocalStorageManager:m,hideAdvanced:!b.dataSettingsAdvanced}),_&&a.createElement(x,{className:"bl-chart-table-view",label:"Table View",value:u,onChange:h}))}function chart_ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function chart_objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?chart_ownKeys(Object(n),!0).forEach((function(e){chart_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):chart_ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function chart_defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function chart_Chart(t){var{data:e,onQueryChange:n,model:o={},dataSource:r,onModelChange:s,className:l,style:c,featureToggle:d}=t,{components:u,LocalStorageManager:h,name:p,errorMessageMapByCode:g}=t,{query:m={},columns:b,loadingStatus:v}=e,[y,x]=(0,S.useState)(!1),_=(0,S.useMemo)((()=>(0,P.vD)(u)),[u]),C=(0,S.useMemo)((()=>chart_objectSpread(chart_objectSpread({},w.kl[w.ZN.CHART]),d)),[d]),E=(0,S.persistContextValue)({components:_,LocalStorageManager:h,featureToggle:C,errorMessageMapByCode:g}),k=(0,S.useMemo)((()=>t.chartDataFields||b.map((t=>{var{name:e}=t;return e}))),[t.chartDataFields,b]),M=(0,S.useCallback)((t=>{s(normalizeChartModel(chart_objectSpread(chart_objectSpread({},o),t)))}),[o,s]);return r?a.createElement("div",{className:O()("bl-chart-visualization-container",l),style:c},a.createElement(W.Provider,{value:E},C.toolbar&&a.createElement(ChartToolbar,{columns:b,model:o,query:m,onQueryChange:n,onModelChange:M,dataSource:r,showTable:y,setShowTable:x,chartDataFields:k,chartName:p,loadingStatus:v.records}),a.createElement(ChartPreview,{chartModel:o,chartData:e,chartDataFields:k,showTable:y}))):null}var q=n(83993);function useChartDataFields(t,e,n){return(0,S.useMemo)((()=>n===w.SM.DATA_TABLE?function getChartTableDataFields(t,e){var{aggregateFunction:n,aggregateColumn:a}=e,o=[];if(t&&t.forEach((t=>{var e,{name:n,metaInfo:a,type:r}=t,s=(null==a||null===(e=a.localData)||void 0===e?void 0:e.type)||r;!E.Yb.includes(n)&&E.zF.includes(s)&&o.push(n)})),n&&a){var r=(0,q.s2)(n,a);o.push(r)}return o}(t,e):n===w.SM.DATA_VIEW?function getChartViewDataFields(t){var e=[];return t&&t.forEach((t=>{var n,{name:a,metaInfo:o,type:r}=t,s=(null==o||null===(n=o.localData)||void 0===n?void 0:n.type)||r,l=o.viewInfo.sourceColumnName;!E.Yb.includes(l)&&E.zF.includes(s)&&e.push(a)})),e}(t):void 0),[t,n,e])}var G=n(65468),X=n(53947);const Q=(0,G.Z)((0,X.Z)((function chart_visualization_chart_Chart(t){var{data:e,dataActions:n,className:r,model:s,onModelChange:l,config:c,LocalStorageManager:d,featureToggle:u}=t,{onQueryChange:h}=n,{dataSource:p,name:g}=c,{query:m,columns:b}=e,{type:v}=p,y=(0,o.X)(c,u),x=useChartDataFields(b,m,v);return a.createElement(chart_Chart,{chartDataFields:x,className:r,model:s,onModelChange:l,onQueryChange:h,data:e,dataSource:p,name:g,LocalStorageManager:d,featureToggle:y})})))},91367:(t,e,n)=>{"use strict";n.d(e,{W:()=>a,w:()=>o});var a={DAY:"day",MONTH:"month",YEAR:"year",DATE:"date"},o={DATE_PICKER:"DATE_PICKER",TIME_PICKER:"TIME_PICKER",MONTH_PICKER:"MONTH_PICKER",YEAR_PICKER:"YEAR_PICKER"}},72660:(t,e,n)=>{"use strict";n.d(e,{Z:()=>DateTime});n(21607);var a=n(67294),o=n(50066),r=n(94770),s=n(66986),l=n(68319),c=n(28121),d=["mode","onChange","value","size","className","classNameDialog"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},_extends.apply(this,arguments)}function _objectWithoutProperties(t,e){if(null==t)return{};var n,a,o=function _objectWithoutPropertiesLoose(t,e){if(null==t)return{};var n,a,o={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function DateTime(t){var{mode:e,onChange:n,value:u,size:h,className:p,classNameDialog:g}=t,m=_objectWithoutProperties(t,d),b=(0,r.useCallback)((t=>{var{ts:e}=t;return n(e)}),[n]);return a.createElement("div",{className:"bl-datetime-picker-input"},a.createElement(s.Z.MuiPickersUtilsProvider,{utils:s.Z.LuxonUtils},a.createElement(s.Z.DatePicker,_extends({className:(0,o.cn)(p,"bl-datetime-picker"),PopoverProps:{className:(0,o.cn)(g,"bl-datetime-picker-dialog")},variant:e,onChange:b,defaultValue:null,value:u||null,size:h||"small"},m))),a.createElement(l.Z,{icon:c.gW.CALENDAR_MONTH,className:"bl-datetime-picker-input-icon"}))}DateTime.defaultProps={mode:"inline",disableToolbar:!0,inputVariant:"outlined",animateYearScrolling:!1}},90255:(t,e,n)=>{"use strict";n.d(e,{Z:()=>DatePicker});var a=n(67294),o=n(94770),r=n(72660),s=n(78527),l=["value"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},_extends.apply(this,arguments)}function _objectWithoutProperties(t,e){if(null==t)return{};var n,a,o=function _objectWithoutPropertiesLoose(t,e){if(null==t)return{};var n,a,o={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var c="MM/dd/yyyy";function DatePicker(t){var{value:e}=t,n=_objectWithoutProperties(t,l),d=(0,o.useMemo)((()=>(0,s.PL)(e,c)),[e]);return a.createElement(r.Z,_extends({value:d,format:c,className:"bl-data-grid-date-picker",classNameDialog:"bl-data-grid-date-picker-dialog"},n))}},77574:(t,e,n)=>{"use strict";n.d(e,{Z:()=>DateTime});n(21607);var a=n(67294),o=n(50066),r=n(94770),s=n(66986),l=n(68319),c=n(28121),d=["value","onChange","mode","size","className","classNameDialog","icon"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},_extends.apply(this,arguments)}function _objectWithoutProperties(t,e){if(null==t)return{};var n,a,o=function _objectWithoutPropertiesLoose(t,e){if(null==t)return{};var n,a,o={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function DateTime(t){var{value:e,onChange:n,mode:c,size:u,className:h,classNameDialog:p,icon:g}=t,m=_objectWithoutProperties(t,d),b=(0,r.useCallback)((t=>{var{ts:e}=t;return n(e)}),[n]);return a.createElement("div",{className:"bl-datetime-picker-input"},a.createElement(s.Z.MuiPickersUtilsProvider,{utils:s.Z.LuxonUtils},a.createElement(s.Z.DateTimePicker,_extends({className:(0,o.cn)(h,"bl-datetime-picker"),value:e||null,onChange:b,variant:c,PopoverProps:{className:(0,o.cn)(p,"bl-datetime-picker-dialog")},size:u||"small",ampm:!1},m))),g&&a.createElement(l.Z,{icon:g,className:"bl-datetime-picker-input-icon"}))}DateTime.defaultProps={icon:c.gW.CALENDAR_MONTH,mode:"inline",disableToolbar:!0,inputVariant:"outlined"}},55166:(t,e,n)=>{"use strict";n.d(e,{Z:()=>MonthPicker});var a=n(67294),o=n(72660),r=n(91367),s=["value"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},_extends.apply(this,arguments)}function _objectWithoutProperties(t,e){if(null==t)return{};var n,a,o=function _objectWithoutPropertiesLoose(t,e){if(null==t)return{};var n,a,o={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var l=[r.W.YEAR,r.W.MONTH];function MonthPicker(t){var{value:e}=t,n=_objectWithoutProperties(t,s);return a.createElement(o.Z,_extends({value:e&&new Date(e),views:l,format:"MM/yyyy",className:"bl-data-grid-date-picker",classNameDialog:"bl-data-grid-date-picker-dialog"},n))}},25242:(t,e,n)=>{"use strict";n.d(e,{Z:()=>TimePicker});var a=n(67294),o=n(94770),r=n(77574),s=n(78527),l=["value"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},_extends.apply(this,arguments)}function _objectWithoutProperties(t,e){if(null==t)return{};var n,a,o=function _objectWithoutPropertiesLoose(t,e){if(null==t)return{};var n,a,o={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var c="MM/dd/yyyy HH:mm";function TimePicker(t){var{value:e}=t,n=_objectWithoutProperties(t,l),d=(0,o.useMemo)((()=>(0,s.PL)(e,c)),[e]);return a.createElement(r.Z,_extends({value:d,format:c,className:"bl-data-grid-date-picker",classNameDialog:"bl-data-grid-date-picker-dialog"},n))}},83850:(t,e,n)=>{"use strict";n.d(e,{Z:()=>YearPicker});var a=n(67294),o=n(94770),r=n(72660),s=n(78527),l=n(91367),c=["value"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},_extends.apply(this,arguments)}function _objectWithoutProperties(t,e){if(null==t)return{};var n,a,o=function _objectWithoutPropertiesLoose(t,e){if(null==t)return{};var n,a,o={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var d="yyyy",u=[l.W.YEAR];function YearPicker(t){var{value:e}=t,n=_objectWithoutProperties(t,c),l=(0,o.useMemo)((()=>(0,s.PL)(e,d)),[e]);return a.createElement(r.Z,_extends({value:l,views:u,format:d,className:"bl-data-grid-date-picker",classNameDialog:"bl-data-grid-date-picker-dialog"},n))}},68319:(t,e,n)=>{"use strict";n.d(e,{Z:()=>FontIcon});var a=n(93379),o=n.n(a),r=n(7795),s=n.n(r),l=n(90569),c=n.n(l),d=n(3565),u=n.n(d),h=n(70609),p=n.n(h),g=n(44589),m=n.n(g),b=n(34104),v={};v.styleTagTransform=m(),v.setAttributes=u(),v.insert=c().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=p();o()(b.Z,v);b.Z&&b.Z.locals&&b.Z.locals;var y=n(67294),x=n(66986),_=n(50066),O=n(28121),S={[O.gW.TOOLBAR_DATA_SETTINGS_BTN]:"filter_alt",[O.gW.TOOLBAR_TEXT_SIZE_BTN]:"format_size",[O.gW.BODY_GROUP_TITLE_CHEVRON_DOWN]:"expand_more",[O.gW.BODY_GROUP_TITLE_CHEVRON_UP]:"expand_less",[O.gW.BODY_GROUP_PAGING_NEXT]:"arrow_right",[O.gW.BODY_GROUP_PAGING_PREV]:"arrow_left",[O.gW.FOOTER_PAGING_LEFT]:"chevron_left",[O.gW.FOOTER_PAGING_RIGHT]:"chevron_right",[O.gW.MULTIPLE_CONTROLS_ADD]:"add",[O.gW.MULTIPLE_CONTROLS_REMOVE]:"clear",[O.gW.SORT_ARROW_UP]:"arrow_drop_up",[O.gW.SORT_ARROW_DOWN]:"arrow_drop_down",[O.gW.SETTINGS_GEAR]:"settings",[O.gW.CUSTOMIZE_LABEL_COLOR]:"format_color_fill",[O.gW.DELETE]:"delete",[O.gW.CALENDAR]:"event_note",[O.gW.ARROW_RIGHT]:"arrow_forward",[O.gW.ARROW_DOWN]:"arrow_downward",[O.gW.INFO]:"info",[O.gW.VISIBILITY]:"visibility",[O.gW.VISIBILITY_OFF]:"visibility_off",[O.gW.MULTILINE_EDITOR]:"format_indent_increase",[O.gW.GEO_EDITOR]:"add_location",[O.gW.CALENDAR_MONTH]:"calendar_month",[O.gW.WARNING]:"warning_amber",[O.gW.PLUS]:"add"};function FontIcon(t){var{className:e,icon:n,onClick:a,disabled:o,action:r,style:s}=t,l=(0,_.cn)("material-icons-round","bl-visualization-icon",e,{"bl-visualization-icon--disabled":o,"bl-visualization-icon--action":r});return y.createElement(x.Z.Icon,{className:l,component:"i",fontSize:"small",onClick:t=>{!o&&a&&a(t)},style:s},S[n]||n)}},68334:(t,e,n)=>{"use strict";n.d(e,{Z:()=>Form});var a=n(67294),o=n(94184),r=n.n(o),s=n(94770),l=n(93379),c=n.n(l),d=n(7795),u=n.n(d),h=n(90569),p=n.n(h),g=n(3565),m=n.n(g),b=n(70609),v=n.n(b),y=n(44589),x=n.n(y),_=n(87094),O={};O.styleTagTransform=x(),O.setAttributes=m(),O.insert=p().bind(null,"head"),O.domAPI=u(),O.insertStyleElement=v();c()(_.Z,O);_.Z&&_.Z.locals&&_.Z.locals;var S=n(45697),w=n.n(S);function HelpBlock(t){var{children:e,className:n,small:o}=t;return e?a.createElement("span",{className:r()("bl-help-block",{small:o},n)},e):null}function Group(t){var{id:e,error:n,label:o,title:l,holdLabel:c,simpleLabel:d,onRef:u,children:h}=t,{className:p,labelClassName:g,fieldClassName:m,optional:b,inline:v,helpBlock:y}=t,x=o||c,_=(0,s.useMemo)((()=>r()("bl-form-group",p,{"bl-form-group--has-error":n,"bl-form-group--inline":v})),[p,n,v]),O=(0,s.useMemo)((()=>r()({"bl-control-label":!d},g)),[d,g]),S=r()("bl-control-field",m);return a.createElement("div",{id:e,ref:u,className:_},x&&a.createElement("label",{className:O,title:l},o,b?a.createElement("i",{className:"bl-optional-label"}," - optional"):"","string"==typeof o&&v?":":""),a.createElement("div",{className:S},h,a.createElement(HelpBlock,{small:!0},n)),a.createElement(HelpBlock,{small:!0},y))}Group.propTypes={id:w().string,className:w().string,error:w().oneOfType([w().string,w().node]),title:w().string,label:w().oneOfType([w().string,w().node]),inline:w().bool,helpBlock:w().oneOfType([w().string,w().node])};var P=["children"];function _objectWithoutProperties(t,e){if(null==t)return{};var n,a,o=function _objectWithoutPropertiesLoose(t,e){if(null==t)return{};var n,a,o={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function Form(t){var{children:e}=t,n=_objectWithoutProperties(t,P),{id:o,className:l,inline:c,errors:d,onSubmit:u}=n;e&&(e=a.Children.toArray(e).map(((t,e)=>{if(!t)return t;var declaredProp=e=>t.type.propTypes&&t.type.propTypes[e],{id:n,name:o,label:r,error:s,optional:l}=t.props,u={key:t.key||n||o||r||e,optional:l};return declaredProp("error")&&(u.error=s||d&&d[n||o]),declaredProp("inline")&&(u.inline=c),(0,a.cloneElement)(t,u)})));var h=(0,s.useMemo)((()=>r()(l,{"form-inline":c})),[l,c]);return a.createElement("form",{id:o,className:h,onSubmit:t=>{t.preventDefault(),u&&u(t)}},e,a.createElement("button",{className:"hidden"}))}Form.Group=Group},49450:(t,e,n)=>{"use strict";n.d(e,{Z:()=>TextInput});var a=n(67294),o=n(50066),r=n(66986),s=n(94770),l=["label","onChange","className","value","type","variant","disabled","size","readOnly"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},_extends.apply(this,arguments)}function _objectWithoutProperties(t,e){if(null==t)return{};var n,a,o=function _objectWithoutPropertiesLoose(t,e){if(null==t)return{};var n,a,o={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var c=["outlined","filled","standard"];function TextInput(t){var{label:e,onChange:n,className:d,value:u,type:h,variant:p,disabled:g,size:m,readOnly:b}=t,v=_objectWithoutProperties(t,l),y=(0,s.useCallback)((t=>{var e=t.target.value;if("text"!==h)if("number"!==h)n(e);else{var a=Number(e);if(isNaN(a))return;n(a)}else n(e)}),[n,h]),x=(0,s.useMemo)((()=>p&&c.includes(p)||"outlined"),[p]);return a.createElement(r.Z.TextField,_extends({label:e,size:m,onChange:y,type:h||"text",value:null==u?"":u.toString(),variant:x,disabled:g,className:(0,o.cn)(d,"bl-input","bl-input--".concat(x),{"bl-input--disabled":!!g,"bl-input--with-value":!!u}),InputLabelProps:{classes:{root:"bl-input-label",focused:"bl-input-label--focused",disabled:"bl-input-label--disabled",required:"bl-input-label--required",filled:"bl-input-label--filled",outlined:"bl-input-label--outlined"}},InputProps:{classes:{root:"bl-input-input-root",focused:"bl-input-input--focused",disabled:"bl-input-input--disabled"}},inputProps:{step:"number"===h?"any":void 0,readOnly:b}},v))}},91420:(t,e,n)=>{"use strict";n.d(e,{Z:()=>Button});var a=n(67294),o=n(66986),r=n(15885),s=o.Z.makeStyles({root:{color:"#0CA0E5",textTransform:"capitalize",fontSize:12,minWidth:"auto","&:hover":{color:"#086d9c",background:"transparent"}}});function Button(t){var{onClick:e,disabled:n,className:l,tooltip:c,children:d}=t,u=s(),h=a.createElement(o.Z.Button,{className:l,onClick:e,disabled:n,disableRipple:!0,classes:u},d);return c?a.createElement(r.Z,{tooltip:c},a.createElement("span",null,h)):h}},78916:(t,e,n)=>{"use strict";n.d(e,{Z:()=>LoadingOverlay});var a=n(93379),o=n.n(a),r=n(7795),s=n.n(r),l=n(90569),c=n.n(l),d=n(3565),u=n.n(d),h=n(70609),p=n.n(h),g=n(44589),m=n.n(g),b=n(56754),v={};v.styleTagTransform=m(),v.setAttributes=u(),v.insert=c().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=p();o()(b.Z,v);b.Z&&b.Z.locals&&b.Z.locals;var y=n(67294),x=n(50066),_=n(88686);function ErrorPanel(t){var{error:e,errorMessageMapByCode:n}=t,a=n&&n[null==e?void 0:e.code];return y.createElement("div",{className:"bl-overlay-loading--error-container"},y.createElement(_.z.ErrorPanel,{error:e,title:"Error",showStack:!1},y.createElement("h4",null,'Error: "'.concat(a||e.message,'"')),a&&y.createElement("h5",null,'Server error: "'.concat(e.message,'"'))))}function LoadingOverlay(t){var{children:e,loading:n,spinner:a,error:o,blurred:r=!0,errorMessageMapByCode:s}=t,l=a||_.z.Spinner;return y.createElement(y.Fragment,null,y.createElement("div",{className:(0,x.cn)("bl-overlay-loading--content",{"with-overlay":r&&(n||o)})},e),n&&y.createElement("div",{className:"bl-overlay-loading--spinner-container"},y.createElement(l,null)),o&&y.createElement(ErrorPanel,{error:o,errorMessageMapByCode:s}))}},79723:(t,e,n)=>{"use strict";n.d(e,{Z:()=>k});var a=n(93379),o=n.n(a),r=n(7795),s=n.n(r),l=n(90569),c=n.n(l),d=n(3565),u=n.n(d),h=n(70609),p=n.n(h),g=n(44589),m=n.n(g),b=n(72328),v={};v.styleTagTransform=m(),v.setAttributes=u(),v.insert=c().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=p();o()(b.Z,v);b.Z&&b.Z.locals&&b.Z.locals;var y=n(67294),x=n(94184),_=n.n(x),O=n(36015),S=n(66986),w=S.Z.makeStyles({root:{display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#fff",borderBottomColor:"#e7e7e7",padding:15,borderBottom:"1px solid #e5e5e5"},button:{backgroundColor:"transparent","&:hover":{backgroundColor:"transparent",cursor:"pointer","&::before":{color:"#888"}},"&::before":{content:"'x'",fontSize:16,color:"#999"}},title:{fontSize:18,color:"#000"}});var P=S.Z.makeStyles({root:{padding:15,backgroundColor:"#fff",overflow:"auto"}});var C=S.Z.makeStyles({root:{display:"flex",justifyContent:"flex-end",alignItems:"center",padding:15,borderTop:"1px solid #e5e5e5",backgroundColor:"#f4f4f4",borderTopColor:"#e7e7e7"}});var E=S.Z.makeStyles({paper:{position:"absolute",width:600,backgroundColor:"#FFF",marginTop:20,left:"50%",transform:"translateX(-50%)",display:"flex",flexDirection:"column",flex:"1 1",maxHeight:"90%"}});function modal_Modal(t){var{className:e,open:n,onClose:a,children:o}=t,r=E();return y.createElement(O.Z,{open:n,onClose:a,className:_()("bl-ui-sdk-modal",e),style:{zIndex:1050}},y.createElement("div",{className:_()("bl-modal-content",r.paper)},o))}modal_Modal.Header=function Header(t){var{title:e,onClose:n,children:a}=t,o=w();return y.createElement("div",{className:_()("bl-modal-header",o.root)},a||y.createElement("div",{className:_()("bl-modal-header-title",o.title)},e),y.createElement("div",{onClick:n,className:_()("bl-modal-header-button",o.button)}))},modal_Modal.Body=function Body(t){var{children:e}=t,n=P();return y.createElement("div",{className:_()("bl-modal-body",n.root)},e)},modal_Modal.Footer=function Footer(t){var{children:e}=t,n=C();return y.createElement("div",{className:_()("bl-modal-footer",n.root)},e)};const k=modal_Modal},76249:(t,e,n)=>{"use strict";n.d(e,{Z:()=>Multiple});var a=n(93379),o=n.n(a),r=n(7795),s=n.n(r),l=n(90569),c=n.n(l),d=n(3565),u=n.n(d),h=n(70609),p=n.n(h),g=n(44589),m=n.n(g),b=n(11424),v={};v.styleTagTransform=m(),v.setAttributes=u(),v.insert=c().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=p();o()(b.Z,v);b.Z&&b.Z.locals&&b.Z.locals;var y=n(67294),x=n(45697),_=n.n(x),O=n(94184),S=n.n(O),w=n(13218),P=n.n(w),C=n(73955),E=n.n(C),k=n(28121),M=n(94770),D=n(68319);function MultipleControls(t){var{removeBtn:e,disableAddBtn:n,onRemoveClick:a,onAddClick:o,FontIconComponent:r}=t;return y.createElement("div",{className:"multiple-controls"},y.createElement(r,{icon:k.gW.MULTIPLE_CONTROLS_ADD,action:!0,onClick:o,className:"add-control",disabled:n}),e&&y.createElement(r,{icon:k.gW.MULTIPLE_CONTROLS_REMOVE,action:!0,onClick:a,className:"remove-control"}))}function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach((function(e){_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}MultipleControls.propTypes={disableAddBtn:_().bool,removeBtn:_().bool,onRemoveClick:_().func,onAddClick:_().func.isRequired};var generateKey=()=>E()("multiple-element-"),getValuesFromProps=t=>{var{values:e,initialValue:n,keyValue:a,allowEmpty:o}=t,r=[];if(e&&e.length>0)r=e;else if(!o){r=["function"==typeof n?n():n]}return r.map((t=>P()(t)&&void 0===t[a]?_objectSpread(_objectSpread({},t),{},{[a]:generateKey()}):t))};function Multiple(t){var{readOnly:e,className:n,min:a,max:o,keyValue:r,disabledAddBtn:s,modern:l,showRemoveBtnRequired:c}=t,{FontIconComponent:d,hideRemoveBtn:u}=t,[h,p]=(0,M.useState)((()=>getValuesFromProps(t)));(0,M.useEffect)((()=>p(getValuesFromProps(t))),[t.values]);var onChildValueChange=e=>n=>{var a=[...h],{keyValue:o}=t;n=P()(n)?_objectSpread(_objectSpread({},n),{},{[o]:a[e][o]}):n,a[e]=n,changeValues(a)},changeValues=e=>{var{onChange:n}=t;p(e),n(e)},onAddClick=e=>()=>{var{initialValue:n,keyValue:a}=t,o=[...h],r="function"==typeof n?n(e+1):n,s=P()(r)?_objectSpread(_objectSpread({},r),{},{[a]:generateKey()}):r;o.splice(e+1,0,s),changeValues(o)},onRemoveClick=e=>()=>{var n=[...h];n.splice(e,1),n.length>=a&&changeValues(n),t.onRemoveClick&&t.onRemoveClick(n,e)},g=s||o&&o<=h.length,m=!u&&(c||h.length>a),getKey=t=>P()(t)?t[r]:t;return y.createElement("div",{className:S()("bl-multiple",{modern:l},n)},h.map(((n,a)=>y.createElement("div",{key:getKey(n),className:"multiple-child-wrapper"},((e,n)=>{var{children:a}=t;return(0,y.cloneElement)(a,{index:n,value:e,onChange:onChildValueChange(n),onRemoveClick:onRemoveClick(n)})})(n,a),!(e||l)&&y.createElement(MultipleControls,{removeBtn:m,disableAddBtn:g,onAddClick:onAddClick(a),onRemoveClick:onRemoveClick(a),FontIconComponent:d}),l&&m&&y.createElement(d,{icon:k.gW.MULTIPLE_CONTROLS_REMOVE,onClick:onRemoveClick(a),className:"remove-control",action:!0})))),!e&&l&&y.createElement("div",{className:"add-icon-wrapper"},y.createElement(d,{icon:k.gW.MULTIPLE_CONTROLS_ADD,onClick:onAddClick(h.length-1),className:"add-control",disabled:g,action:!0})))}Multiple.defaultProps={keyValue:"_key",min:1,allowEmpty:!1,FontIconComponent:D.Z},Multiple.propTypes={readOnly:_().bool,values:_().array,min:_().number,max:_().number,keyValue:_().string,initialValue:_().any,onChange:_().func.isRequired,modern:_().bool,onRemoveClick:_().func}},79035:(t,e,n)=>{"use strict";n.d(e,{Z:()=>NumberInput});var a=n(67294),o=n(49450);function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},_extends.apply(this,arguments)}function NumberInput(t){return a.createElement(o.Z,_extends({type:"number"},t))}},80306:(t,e,n)=>{"use strict";n.d(e,{Z:()=>Select});var a=n(67294),o=n(13218),r=n.n(o),s=n(24350),l=n.n(s),c=n(66986),d=n(50066),u=n(94770);function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},_extends.apply(this,arguments)}var h=["outlined","filled","standard"],p=[{value:"true",label:"TRUE",itemValue:!0},{value:"false",label:"FALSE",itemValue:!1},{value:"null",label:"NULL",itemValue:null}],getValue=(t,e)=>e&&!t?[]:Array.isArray(t)?t.map((t=>getValue(t))):r()(t)?t.value||"":t||"";function Select(t){var{className:e,label:n,value:o,onChange:r,disabled:s,multiple:p,variant:g,size:m,valuesRenderer:b,clearable:v}=t,{readOnly:y}=t,x=t.classNamesPrefix||"bl-select",_=(0,u.useMemo)((()=>getValue(o,p)),[o,p]),O=(0,u.useMemo)((()=>g&&h.includes(g)||"outlined"),[g]),S=(0,u.useMemo)((()=>{var e=t.options||[];return v?[{value:"",label:"None"},...e]:e}),[t.options,v]),w=s||!S.length,P=(0,u.useMemo)((()=>l()(S,(t=>getValue(t)))),[S]),C=(0,u.useCallback)((t=>p?t.map((t=>P[t])):P[t]),[p,P]),E=(0,u.useCallback)((t=>{r(C(t.target.value))}),[r,C]),k=(0,u.useCallback)((t=>b?b(C(t)):null),[b,C]),M=(0,u.useCallback)(((t,e)=>v&&0===e?a.createElement("em",null,t.label):void 0===t.label?t:t.label),[v]);return a.createElement(c.Z.FormControl,{className:(0,d.cn)(e,x,{["".concat(x,"--disabled")]:!!w}),disabled:w,variant:O,size:m},a.createElement(c.Z.InputLabel,{classes:{root:"".concat(x,"-label"),disabled:"".concat(x,"-label--disabled"),focused:"".concat(x,"-label--focused"),outlined:"".concat(x,"-label-outlined"),filled:"".concat(x,"-label-filled")},className:(0,d.cn)({["".concat(x,"-label-standard")]:"standard"===O})},n),a.createElement(c.Z.MuiSelect,{label:n||void 0,value:_,onChange:E,renderValue:b&&k,multiple:p,className:(0,d.cn)("".concat(x,"-box"),{["".concat(x,"--disabled")]:!!w,["".concat(x,"-outlined")]:"outlined"===O,["".concat(x,"-filled")]:"filled"===O,["".concat(x,"-standard")]:"standard"===O}),classes:{root:"".concat(x,"-root"),icon:"".concat(x,"-icon")},inputProps:{readOnly:y}},S.map(((t,e)=>a.createElement(c.Z.MenuItem,{key:e,value:void 0===t.value?t:t.value,classes:{root:"".concat(x,"-option")}},M(t,e))))))}Select.Boolean=function BooleanSelect(t){var e=_extends({},(function _objectDestructuringEmpty(t){if(null==t)throw new TypeError("Cannot destructure "+t)}(t),t)),n=(0,u.useCallback)((e=>t.onChange(e&&e.itemValue)),[t.onChange]),o=p.find((t=>t.value==="".concat(e.value)));return a.createElement(Select,_extends({},e,{options:p,value:o,onChange:n}))}},59209:(t,e,n)=>{"use strict";n.d(e,{Z:()=>Textarea});var a=n(67294),o=n(50066),r=n(66986),s=n(94770),l=["label","onChange","className","value","variant","disabled","size","readOnly","minRows","maxRows","maxLength"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},_extends.apply(this,arguments)}function _objectWithoutProperties(t,e){if(null==t)return{};var n,a,o=function _objectWithoutPropertiesLoose(t,e){if(null==t)return{};var n,a,o={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var c=["outlined","filled","standard"];function Textarea(t){var{label:e,onChange:n,className:d,value:u,variant:h,disabled:p,size:g,readOnly:m,minRows:b,maxRows:v,maxLength:y}=t,x=_objectWithoutProperties(t,l),{autoFocus:_}=t,O=(0,s.useCallback)((t=>{var e=t.target.value;n(e)}),[n]),S=(0,s.useMemo)((()=>h&&c.includes(h)||"outlined"),[h]);return a.createElement(r.Z.TextField,_extends({label:e,size:g,onChange:O,multiline:!0,autoFocus:_,minRows:b,maxRows:v,value:null==u?"":u.toString(),variant:S,disabled:p,className:(0,o.cn)(d,"bl-textarea","bl-textarea--".concat(S),{"bl-textarea--disabled":p,"bl-textarea--with-value":u}),InputLabelProps:{classes:{root:"bl-textarea-label",focused:"bl-textarea-label--focused",disabled:"bl-textarea-label--disabled",required:"bl-textarea-label--required",filled:"bl-textarea-label--filled",outlined:"bl-textarea-label--outlined"}},InputProps:{readOnly:!!m,classes:{root:"bl-textarea-input-root",focused:"bl-textarea-input--focused",disabled:"bl-textarea-input--disabled"}},inputProps:{maxLength:y}},x))}},84642:(t,e,n)=>{"use strict";n.d(e,{Z:()=>ConditionsSection});var a=n(93379),o=n.n(a),r=n(7795),s=n.n(r),l=n(90569),c=n.n(l),d=n(3565),u=n.n(d),h=n(70609),p=n.n(h),g=n(44589),m=n.n(g),b=n(61666),v={};v.styleTagTransform=m(),v.setAttributes=u(),v.insert=c().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=p();o()(b.Z,v);b.Z&&b.Z.locals&&b.Z.locals;var y=n(67294),x=n(94770),_=n(76249),O=n(24350),S=n.n(O),w=n(57557),P=n.n(w),C=n(27361),E=n.n(C),k=n(9087),M=n(28121);function OperatorSelect(t){var{dataType:e,value:n,onChange:a,operators:o,components:r}=t,{Select:s}=r;return e===M.oS.DATETIME?y.createElement(DateTimeOperatorSelect,{value:n,onChange:a,components:r}):y.createElement(s,{options:o,value:n,onChange:a,size:"small"})}function DateTimeOperatorSelect(t){var{value:e="",onChange:n,components:a}=t,{Select:o}=a,[r,s]=e.split("-"),l=k.Sq[r];return y.createElement("div",{className:"bl-visualization-data-settings-datetime-operator-select"},y.createElement(o,{options:k.Sk,value:r,onChange:t=>{var{value:e}=t;return n(e)},size:"small"}),y.createElement(o,{options:l,value:s,onChange:t=>{var{value:a}=t;n(s?r+"-"+a:e+"-"+a)},size:"small"}))}function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach((function(e){_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Item(t){var{columns:e,value:n,onChange:a,lastIndex:o,index:r,getColumnLabel:s,components:l}=t,{columnName:c,operator:d,conditionValue:u,combinator:h}=n,{Select:p}=l,g=(0,x.useMemo)((()=>((t,e)=>t.find((t=>t.name===e)))(e,c)),[e,c]),m=(0,x.useMemo)((()=>(t=>t.map((t=>{var{name:e}=t;return e})))(e)),[e]),b=(0,x.useMemo)((()=>m.map((t=>({value:t,label:s?s(t):t})))),[m,s]),v=null==g?void 0:g.type,_=k.HH[v]&&k.HH[v](l)||[],O=(0,x.useMemo)((()=>S()(_,"value")),[_]),w=E()(O,[d,"renderInput"]),onFieldChange=(t,e)=>o=>{var r=_objectSpread(_objectSpread({},n),{},{[t]:(null==o?void 0:o.value)||o});r=P()(r,e),a(r)},C=-1!==o&&o!==r;return y.createElement("div",{className:"bl-visualizations-data-settings-conditions-item"},y.createElement("div",{className:"bl-visualizations-data-settings-conditions-item__label bl-modal-field-label"},"Column:"),y.createElement(p,{options:b,value:c,onChange:onFieldChange("columnName",["operator","conditionValue"]),size:"small"}),c?y.createElement(OperatorSelect,{dataType:v,operators:_,value:d,onChange:onFieldChange("operator",["conditionValue"]),components:l}):y.createElement("div",null),w?y.createElement(w,{value:u,onChange:onFieldChange("conditionValue"),size:"small"}):y.createElement("div",null),C&&y.createElement(p,{options:k.c7,value:h||k.c7[0].value,onChange:onFieldChange("combinator"),size:"small"}))}Item.defaultProps={columns:[]};var D={columnName:null,operator:null,conditionValue:"",combinator:null};function ConditionsSection(t){var{columns:e,onChange:n,getColumnLabel:a,conditions:o,error:r,showError:s,components:l}=t,{FontIcon:c}=l,d=(0,x.useMemo)((()=>{if(!o.length)return!0;var{columnName:t}=o[o.length-1];return!t||!!r}),[o,r]),u=(0,x.useCallback)((t=>{t.length||n([])}),[n]);return y.createElement(y.Fragment,null,y.createElement(_.Z,{FontIconComponent:c,values:o,onChange:n,initialValue:D,readOnly:d,className:"bl-visualizations-data-settings-conditions",modern:!0,min:1,onRemoveClick:u,showRemoveBtnRequired:!0},y.createElement(Item,{lastIndex:o.length-1,columns:e,getColumnLabel:a,components:l})),s&&r&&y.createElement("div",{className:"bl-visualizations-data-settings-empty-field-alert bl-visualizations-text-danger"},r))}},9087:(t,e,n)=>{"use strict";n.d(e,{AT:()=>A,Ds:()=>T,HH:()=>M,Sk:()=>v,Sq:()=>_,c7:()=>k,g5:()=>g,kq:()=>m,on:()=>D});var a=n(28121),o=n(49450),r=n(79035),s=n(91367),l=n(25242),c=n(83850),d=n(55166),u=n(90255),h=n(83993),p=n(88390),g={[a.SM.DATA_TABLE]:{whereClause:h.I2.DefaultQuery.whereClause,filter:h.I2.DefaultQuery.filter,groupBy:h.I2.DefaultQuery.groupBy,sortBy:h.I2.DefaultQuery.sortBy,aggregateFunction:h.I2.DefaultQuery.aggregateFunction,aggregateColumn:h.I2.DefaultQuery.aggregateColumn,refreshPolicy:h.I2.DefaultQuery.refreshPolicy,refreshInterval:h.I2.DefaultQuery.refreshInterval},[a.SM.DATA_VIEW]:{filter:p.TI.DefaultQuery.filter}},m=[{value:"Count",label:"Count"},{value:"Sum",label:"Sum"},{value:"Avg",label:"Average"},{value:"Min",label:"Min"},{value:"Max",label:"Max"}],b=[{label:"IS NULL",value:"isNull"},{label:"IS NOT NULL",value:"isNotNull"},{label:"IS TRUE",value:"isTrue"},{label:"IS NOT TRUE",value:"isNotTrue"},{label:"IS FALSE",value:"isFalse"},{label:"IS NOT FALSE",value:"isNotFalse"}],v=[{value:"is",label:"IS"},{value:"isNot",label:"IS NOT"},{value:"before",label:"BEFORE"},{value:"after",label:"AFTER"},{value:"atOrBefore",label:"AT OR BEFORE"},{value:"atOrAfter",label:"AT OR AFTER"},{value:"within",label:"WITHIN"},{value:"notWithin",label:"NOT WITHIN"}],y=[{value:"specificDate",label:"SPECIFIC DATE"},{value:"specificTime",label:"SPECIFIC TIME"},{value:"specificMonth",label:"SPECIFIC MONTH"},{value:"specificYear",label:"SPECIFIC YEAR"},{value:"today",label:"TODAY"},{value:"tomorrow",label:"TOMORROW"},{value:"yesterday",label:"YESTERDAY"}],x=[{value:"thePastWeek",label:"THE PAST WEEK"},{value:"thePastMonth",label:"THE PAST MONTH"},{value:"thePastYear",label:"THE PAST YEAR"},{value:"theNextWeek",label:"THE NEXT WEEK"},{value:"theNextMonth",label:"THE NEXT MONTH"},{value:"theNextYear",label:"THE NEXT YEAR"},{value:"theNextDays",label:"THE NEXT DAYS"},{value:"thePastDays",label:"THE PAST DAYS"}],_={is:y,isNot:y,before:y,after:y,atOrBefore:y,atOrAfter:y,within:x,notWithin:x},O=function getDateTimeTypeOperators(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.DateTimePickers||{},n=e[s.w.DATE_PICKER]||u.Z,a=e[s.w.TIME_PICKER]||l.Z,o=e[s.w.MONTH_PICKER]||d.Z,h=e[s.w.YEAR_PICKER]||c.Z,p=t.NumberInput||r.Z;return[{value:"is-specificDate",renderInput:n},{value:"is-specificTime",renderInput:a},{value:"is-specificMonth",renderInput:o},{value:"is-specificYear",renderInput:h},{value:"is-today"},{value:"is-tomorrow"},{value:"is-yesterday"},{value:"isNot-specificDate",renderInput:n},{value:"isNot-specificTime",renderInput:a},{value:"isNot-specificMonth",renderInput:o},{value:"isNot-specificYear",renderInput:h},{value:"isNot-today"},{value:"isNot-tomorrow"},{value:"isNot-yesterday"},{value:"before-specificDate",renderInput:n},{value:"before-specificTime",renderInput:a},{value:"before-specificMonth",renderInput:o},{value:"before-specificYear",renderInput:h},{value:"before-today"},{value:"before-tomorrow"},{value:"before-yesterday"},{value:"after-specificDate",renderInput:n},{value:"after-specificTime",renderInput:a},{value:"after-specificMonth",renderInput:o},{value:"after-specificYear",renderInput:h},{value:"after-today"},{value:"after-tomorrow"},{value:"after-yesterday"},{value:"atOrBefore-specificDate",renderInput:n},{value:"atOrBefore-specificTime",renderInput:a},{value:"atOrBefore-specificMonth",renderInput:o},{value:"atOrBefore-specificYear",renderInput:h},{value:"atOrBefore-today"},{value:"atOrBefore-tomorrow"},{value:"atOrBefore-yesterday"},{value:"atOrAfter-specificDate",renderInput:n},{value:"atOrAfter-specificTime",renderInput:a},{value:"atOrAfter-specificMonth",renderInput:o},{value:"atOrAfter-specificYear",renderInput:h},{value:"atOrAfter-today"},{value:"atOrAfter-tomorrow"},{value:"atOrAfter-yesterday"},{value:"within-thePastWeek"},{value:"within-thePastMonth"},{value:"within-thePastYear"},{value:"within-theNextWeek"},{value:"within-theNextMonth"},{value:"within-theNextYear"},{value:"within-theNextDays",renderInput:p},{value:"within-thePastDays",renderInput:p},{value:"notWithin-thePastWeek"},{value:"notWithin-thePastMonth"},{value:"notWithin-thePastYear"},{value:"notWithin-theNextWeek"},{value:"notWithin-theNextMonth"},{value:"notWithin-theNextYear"},{value:"notWithin-theNextDays",renderInput:p},{value:"notWithin-thePastDays",renderInput:p}]},S=function getRawTypeOperators(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.Input||o.Z;return[{label:"EQUALS",value:"equal",renderInput:e},{label:"DOES NOT EQUAL",value:"notEqual",renderInput:e},{label:"CONTAINS",value:"contains",renderInput:e},{label:"DOES NOT CONTAIN",value:"notContains",renderInput:e},{label:"STARTS WITH",value:"startsWith",renderInput:e},{label:"DOES NOT START WITH",value:"notStartsWith",renderInput:e},{label:"ENDS WITH",value:"endsWith",renderInput:e},{label:"DOES NOT END WITH",value:"notEndsWith",renderInput:e},{label:"IS EMPTY",value:"isEmpty"},{label:"IS NOT EMPTY",value:"isNotEmpty"},{label:"IS NULL",value:"isNull"},{label:"IS NOT NULL",value:"isNotNull"}]},w=function getNumberTypeOperators(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.NumberInput||r.Z;return[{label:"GREATER THAN",value:">",renderInput:e},{label:"LESS THAN",value:"<",renderInput:e},{label:"GREATER OR EQUAL",value:">=",renderInput:e},{label:"LESS OR EQUAL",value:"<=",renderInput:e},{label:"EQUALS",value:"equal",renderInput:e},{label:"DOES NOT EQUAL",value:"notEqual",renderInput:e},{label:"STARTS WITH",value:"startsWith",renderInput:e},{label:"DOES NOT START WITH",value:"notStartsWith",renderInput:e},{label:"ENDS WITH",value:"endsWith",renderInput:e},{label:"DOES NOT END WITH",value:"notEndsWith",renderInput:e}]},P=O(),C=S(),E=w(),k=[{value:"AND",label:"AND"},{value:"OR",label:"OR"}],M={[a.oS.STRING]:S,[a.oS.TEXT]:S,[a.oS.FILE_REF]:S,[a.oS.BOOLEAN]:()=>b,[a.oS.INT]:w,[a.oS.DOUBLE]:w,[a.oS.AUTO_INCREMENT]:w,[a.oS.MONEY]:w,[a.oS.DECIMAL]:w,[a.oS.DATETIME]:O},D=[...C.map((t=>{var{value:e}=t;return e})),...b.map((t=>{var{value:e}=t;return e})),...E.map((t=>{var{value:e}=t;return e})),...P.map((t=>{var{value:e}=t;return e}))],T=[...C.filter((t=>{var{renderInput:e}=t;return!!e})).map((t=>{var{value:e}=t;return e})),...b.filter((t=>{var{renderInput:e}=t;return!!e})).map((t=>{var{value:e}=t;return e})),...E.filter((t=>{var{renderInput:e}=t;return!!e})).map((t=>{var{value:e}=t;return e})),...P.filter((t=>{var{renderInput:e}=t;return!!e})).map((t=>{var{value:e}=t;return e}))],A={WHERE_CLAUSE:"WHERE_CLAUSE",AGGREGATIONS:"AGGREGATIONS",GROUP_BY:"GROUP_BY",SORT_BY:"SORT_BY",REFRESH_POLICY:"REFRESH_POLICY"};A.Default={[A.WHERE_CLAUSE]:!0,[A.AGGREGATIONS]:!0,[A.GROUP_BY]:!0,[A.SORT_BY]:!0,[A.REFRESH_POLICY]:!0}},19331:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s,e:()=>useComponentsContext});var a=n(67294),o=n(94770),r=(0,a.createContext)(null),useComponentsContext=()=>(0,o.useContext)(r).components;const s=r},34410:(t,e,n)=>{"use strict";n.d(e,{Z:()=>DataSettings});var a=n(93379),o=n.n(a),r=n(7795),s=n.n(r),l=n(90569),c=n.n(l),d=n(3565),u=n.n(d),h=n(70609),p=n.n(h),g=n(44589),m=n.n(g),b=n(58177),v={};v.styleTagTransform=m(),v.setAttributes=u(),v.insert=c().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=p();o()(b.Z,v);b.Z&&b.Z.locals&&b.Z.locals;var y=n(67294),x=n(28121),_=n(17788),O=n(94770),S=n(91420),w=n(78527),P=n(47970),C=n(26288),E=n(19331),k=n(9087);function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach((function(e){_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DataSettings(t){var{query:e,columns:n,components:a,getColumnLabel:o,dataSource:r,hideAdvanced:s}=t,{onQueryChange:l,modalClassName:c,LocalStorageManager:d,filterableColumns:u}=t,[h,p]=(0,O.useState)(!1),g=(0,O.useMemo)((()=>(0,w.vD)(a)),[a]),m=(0,O.useMemo)((()=>_objectSpread(_objectSpread({},k.AT.Default),t.options)),[t.options]),b=(0,O.persistContextValue)({components:g,LocalStorageManager:d,options:m}),{FontIcon:v}=g,M=(0,O.useCallback)((()=>p(!0)),[]),D=(0,O.useCallback)((()=>p(!1)),[]),T=(0,O.useMemo)((()=>!(0,_.h)(e,k.g5[r.type],Object.keys(k.g5[r.type]))),[e,r.type]);return y.createElement(P.Z.ButtonContainer,{isActive:!T},y.createElement(E.Z.Provider,{value:b},y.createElement(S.Z,{onClick:M,tooltip:"Set data settings"},y.createElement(v,{icon:x.gW.TOOLBAR_DATA_SETTINGS_BTN})),h&&y.createElement(C.Z,{dataSource:r,onHide:D,onQueryChange:l,columns:n,filterableColumns:u,query:e,getColumnLabel:o,className:c,hideAdvanced:s})))}DataSettings.defaultProps={query:{},columns:[],filterableColumns:[],options:k.AT.Default}},26288:(t,e,n)=>{"use strict";n.d(e,{Z:()=>DataSettingsModal,F:()=>validateConditions});var a=n(67294),o=n(94184),r=n.n(o),s=n(87827),l=n(78700),c=n(17788),d=n(94770),u=n(28121),h=n(79723),p=n(68334),g=n(19331),m=n(9087),b=n(84642),v=n(93379),y=n.n(v),x=n(7795),_=n.n(x),O=n(90569),S=n.n(O),w=n(3565),P=n.n(w),C=n(70609),E=n.n(C),k=n(44589),M=n.n(k),D=n(26291),T={};T.styleTagTransform=M(),T.setAttributes=P(),T.insert=S().bind(null,"head"),T.domAPI=_(),T.insertStyleElement=E();y()(D.Z,T);D.Z&&D.Z.locals&&D.Z.locals;var A=n(83993),j=[{value:"false",label:"None"},{value:u.MJ.RT,label:"Real Time"},{value:u.MJ.INTERVAL,label:"Interval"}],I=m.g5[u.SM.DATA_TABLE],isColumnNameEqualToAggFunctions=t=>m.kq.some((e=>{var{value:n}=e;return n===t.toLowerCase()}));var L={[u.SM.DATA_TABLE]:function DataTableSource(t){var{query:e,onQueryChange:n,columns:o}=t,{whereClause:r,aggregateFunction:s,aggregateColumn:l,sortBy:c,groupBy:h,refreshInterval:b,refreshPolicy:v}=e,{options:y,components:x}=(0,d.useContext)(g.Z),{Select:_,Input:O,SortSelect:S,NumberInput:w}=x,P=(0,d.useMemo)((()=>{var t=[];return o.forEach((e=>{isColumnNameEqualToAggFunctions(e.name)&&"RELATION_LIST"!==e.type||t.push(e.name)})),t}),[o]),C=(0,d.useMemo)((()=>{var t=[];return o.forEach((e=>{isColumnNameEqualToAggFunctions(e.name)||t.push(e.name)})),t}),[o]),E=(0,d.useMemo)((()=>{var t=C.map((t=>({value:t,label:t})));if(s&&l){var e=(0,A.s2)(s,l);t.push({value:e,label:e.replace(/_/g," ")})}return t}),[s,l,C]),k=(0,d.useCallback)((t=>{var e=t||I.whereClause;n({whereClause:e})}),[n]),M=(0,d.useCallback)((t=>{var e=null==t?void 0:t.value,a={aggregateFunction:e};e||(a.aggregateFunction=I.aggregateFunction,a.aggregateColumn=I.aggregateColumn),n(a)}),[n]),D=(0,d.useCallback)((t=>{n({aggregateColumn:t})}),[n]),T=(0,d.useCallback)((t=>{var e=t||I.groupBy;n({groupBy:e})}),[n]),L=(0,d.useCallback)((t=>{var e=t&&t.length?t:I.sortBy;n({sortBy:e})}),[n]),N=(0,d.useCallback)((t=>{var{value:e}=t,a={refreshPolicy:e,refreshInterval:b||60};"false"===e&&(a.refreshPolicy=I.refreshPolicy,a.refreshInterval=I.refreshInterval),n(a)}),[n,b]),R=(0,d.useCallback)((t=>{n({refreshInterval:t})}),[n]),z=y[m.AT.WHERE_CLAUSE],B=y[m.AT.AGGREGATIONS],F=y[m.AT.GROUP_BY],W=y[m.AT.SORT_BY],V=y[m.AT.REFRESH_POLICY];return a.createElement("div",{className:"bl-visualizations-data-settings--advanced--data-table-content"},z&&a.createElement(p.Z.Group,{label:"Where Clause"},a.createElement(O,{value:r,onChange:k,size:"small"})),B&&a.createElement("div",{className:"aggregation-options"},a.createElement(p.Z.Group,{label:"Aggregation",className:"aggregation-function-group"},a.createElement(_,{value:s,options:m.kq,onChange:M,size:"small",clearable:!0})),a.createElement(p.Z.Group,{label:"Column",className:"aggregation-column-group"},a.createElement(_,{value:l,options:P,onChange:D,disabled:!s,size:"small"}))),(F||W)&&a.createElement("div",{className:"group-and-sort-options"},F&&a.createElement(p.Z.Group,{label:"Group By",className:"group-by-field-group"},a.createElement(_,{value:h,options:C,onChange:T,clearable:!0,size:"small"})),W&&a.createElement(p.Z.Group,{label:"Sort By",className:"sort-by-field-group"},a.createElement(S,{value:Array.isArray(c)?c:[],options:E,onChange:L,size:"small"}))),V&&a.createElement("div",{className:"refresh-policy-options"},a.createElement(p.Z.Group,{label:"Refresh Policy",className:"sort-by-field-group"},a.createElement(_,{className:"refresh-type-group",value:v||"false",options:j,onChange:N,size:"small"})),v===u.MJ.INTERVAL&&a.createElement(p.Z.Group,{className:"refresh-interval-group"},a.createElement("span",{className:"left-label"},"every"),a.createElement(w,{value:b,onChange:R,size:"small"}),a.createElement("span",{className:"right-label"},"seconds"))))}};function Advanced(t){var{dataSource:e,onQueryChange:n,query:o,columns:r}=t,{LocalStorageManager:s,components:l}=(0,d.useContext)(g.Z),{CheckBox:c}=l,u=L[e.type],[h,p]=(0,d.useState)((()=>!(!s||!s.getShowDataSettingsAdvanced)&&s.getShowDataSettingsAdvanced())),m=(0,d.useCallback)((()=>{var t=!h;s&&s.setShowDataSettingsAdvanced&&s.setShowDataSettingsAdvanced(t),p(t)}),[h,s]);return u?a.createElement("div",{className:"bl-visualizations-modal-data-settings-advanced-section"},a.createElement(c,{className:"bl-data-settings-advanced-control",onChange:m,value:h,label:"Show advanced settings"}),h&&a.createElement("div",{className:"bl-visualizations-data-settings--advanced-section-content"},a.createElement(u,{columns:r,query:o,onQueryChange:n}))):null}function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach((function(e){_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var validateConditions=t=>{for(var e=null,n=0;n<t.length;n++){var{columnName:a,operator:o,conditionValue:r}=t[n];if(a||n!==t.length-1){if(!m.on.includes(o)){e="Operator";break}if(m.Ds.includes(o)&&!r){e="Condition Value";break}}}if(e)return'Please fill field: "'.concat(e,'"')};function DataSettingsModal(t){var{columns:e,onHide:n,getColumnLabel:o,dataSource:v,className:y,onQueryChange:x,hideAdvanced:_}=t,{filterableColumns:O}=t,S=(0,g.e)(),{Button:w}=S,[P,C]=(0,d.useObjectState)({initialQuery:t.query,query:t.query,validated:!1,error:{}}),{query:E,validated:k,error:M,initialQuery:D}=P,{filter:T}=E;(0,d.useEffect)((()=>{var t=validateConditions(T);if(t)C({error:_objectSpread(_objectSpread({},M),{},{filter:t})});else{var e=_objectSpread({},M);delete e.filter,C({error:e})}}),[E]);var A=(0,d.useMemo)((()=>(t=>{var e=(t=>{var e=[];return t.forEach(((n,a)=>{var{columnName:o,operator:r,conditionValue:s,combinator:l}=n;if(1!==t.length||o){var c=t.length-1===a;!c||o?(l=c?null:l||"AND",e.push({columnName:o,operator:r,conditionValue:s,combinator:l})):e[a-1].combinator=null}})),e})(t.filter);return _objectSpread(_objectSpread({},t),{},{filter:e})})(E)),[E]),j=(0,d.useMemo)((()=>(0,c.h)(A,D)),[A,D]),I=(0,d.useCallback)((()=>{var t=_objectSpread(_objectSpread({},E),m.g5[v.type]);C({query:t})}),[E,v.type]),L=(0,d.useCallback)((()=>{Object.keys(M).length||(x(A),n()),C({validated:!0})}),[A,x,n,M]),N=(0,d.useCallback)((t=>C({query:_objectSpread(_objectSpread({},E),t)})),[E]),R=(0,d.useCallback)((t=>N({filter:t})),[N]),z=u.SM.Labels[v.type];return a.createElement(h.Z,{open:!0,onClose:n,className:r()("bl-visualization-modal-data-settings",y)},a.createElement(s.M,{utils:l.Z},a.createElement(h.Z.Header,{title:"Data Settings",onClose:n}),a.createElement(h.Z.Body,null,a.createElement(p.Z.Group,{label:"".concat(z," Name"),inline:!0,className:"bl-visualization-data-settings--data-source-name"},v.name),a.createElement(b.Z,{columns:O,onChange:R,conditions:T,getColumnLabel:o,error:M.filter,showError:k,components:S}),!_&&a.createElement(Advanced,{query:E,dataSource:v,onQueryChange:N,columns:e})),a.createElement(h.Z.Footer,null,a.createElement(w,{onClick:I},"RESET ALL"),a.createElement(w,{onClick:n},"CANCEL"),a.createElement(w,{onClick:L,primary:!0,disabled:!j},"SAVE"))))}},47970:(t,e,n)=>{"use strict";n.d(e,{Z:()=>O});var a=n(93379),o=n.n(a),r=n(7795),s=n.n(r),l=n(90569),c=n.n(l),d=n(3565),u=n.n(d),h=n(70609),p=n.n(h),g=n(44589),m=n.n(g),b=n(69802),v={};v.styleTagTransform=m(),v.setAttributes=u(),v.insert=c().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=p();o()(b.Z,v);b.Z&&b.Z.locals&&b.Z.locals;var y=n(67294),x=n(50066);function ProgressBar(t){var{loadingStatus:e}=t,{loading:n,progress:a}=e,o=n&&a?Math.round(100*a):0,r={width:"".concat(o,"%")};return y.createElement("div",{className:"bl-visualization-toolbar__progress-bar"},y.createElement("div",{className:"bl-visualization-toolbar__progress-bar-slider",style:r}))}function ToolbarButtonContainer(t){var{className:e,isDisabled:n,isActive:a,children:o}=t,r=(0,x.cn)(e,"bl-visualization-toolbar__btn-container",{"bl-visualization-toolbar__btn-container__disabled":n,"bl-visualization-toolbar__btn-container__active":a});return y.createElement("div",{className:r},o)}const _=(0,y.memo)(ToolbarButtonContainer);function VisualizationsToolbar(t){var{children:e,className:n,loadingStatus:a}=t;return y.createElement("div",{className:(0,x.cn)("bl-visualization-toolbar",n)},y.createElement("div",{className:"bl-visualization-toolbar__controls"},e),y.createElement(ProgressBar,{loadingStatus:a}))}VisualizationsToolbar.ButtonContainer=_;const O=VisualizationsToolbar},15885:(t,e,n)=>{"use strict";n.d(e,{Z:()=>Tooltip});var a=n(67294),o=n(66986),r=o.Z.makeStyles({arrow:{color:"#000"},tooltip:{color:"#FFF",background:"#000",borderRadius:0,fontSize:12}});function Tooltip(t){var{open:e,onOpen:n,onClose:s,tooltip:l,children:c}=t,d=r();return a.createElement(o.Z.Tooltip,{classes:d,open:e,onOpen:n,onClose:s,title:l,placement:"top",arrow:!0},c)}Tooltip.defaultProps={tooltip:null}},78527:(t,e,n)=>{"use strict";n.d(e,{nY:()=>K,fG:()=>composeOptions,PL:()=>formatTimestampDate,vD:()=>$});var a=n(99490),o=n(91367),r=n(68319),s=n(49450),l=n(59209),c=n(79035),d=n(80306),u=n(93379),h=n.n(u),p=n(7795),g=n.n(p),m=n(90569),b=n.n(m),v=n(3565),y=n.n(v),x=n(70609),_=n.n(x),O=n(44589),S=n.n(O),w=n(49150),P={};P.styleTagTransform=S(),P.setAttributes=y(),P.insert=b().bind(null,"head"),P.domAPI=g(),P.insertStyleElement=_();h()(w.Z,P);w.Z&&w.Z.locals&&w.Z.locals;var C=n(67294),E=n(28121),k=n(94770),M=["options","value","onChange"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},_extends.apply(this,arguments)}function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach((function(e){_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _objectWithoutProperties(t,e){if(null==t)return{};var n,a,o=function _objectWithoutPropertiesLoose(t,e){if(null==t)return{};var n,a,o={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var D="desc",T={asc:E.gW.SORT_ARROW_UP,[D]:E.gW.SORT_ARROW_DOWN};function SortingSelect(t){var{options:e,value:n,onChange:a}=t,o=_objectWithoutProperties(t,M),r=(0,k.useMemo)((()=>{var t={};return n.forEach((e=>{t[e.value]=e.dir})),e.map((e=>({value:e.value,label:e.label,dir:t[e.value]||"desc"})))}),[e,n]),onDirClick=t=>()=>{var e=t.dir===D?"asc":D,o=n.map((n=>_objectSpread(_objectSpread({},n),{},{dir:n.value===t.value?e:n.dir})));a(o)};return C.createElement(d.Z,_extends({value:n,options:r,valuesRenderer:t=>C.createElement("div",{className:"bl-select-sorting-values"},t.map((t=>C.createElement(SelectValue,{option:t,onDirClick:onDirClick(t)})))),onChange:a,multiple:!0},o))}var SelectValue=t=>{var{option:e,onDirClick:n}=t;return C.createElement("div",{className:"bl-select-sorting-value",onClick:n},e.label," ",C.createElement(r.Z,{icon:T[e.dir]}))},A=n(94184),j=n.n(A),I=n(66986),L=n(15885),onLabelClick=t=>t.stopPropagation();function Checkbox(t){var{value:e,onChange:n,label:a,className:o,onClick:r,tooltip:s}=t,l=C.createElement(I.Z.Checkbox,{checked:!!e,classes:{root:"bl-checkbox-root"},onChange:n,onClick:r}),c=C.createElement(L.Z,{tooltip:s},l);return C.createElement("div",{className:j()(o,"bl-checkbox",{"bl-checkbox--checked":!!e})},C.createElement(I.Z.FormControlLabel,{label:a,style:{marginLeft:0},classes:{root:"bl-checkbox-label-root",label:"bl-checkbox-label"},control:s?c:l,onClick:onLabelClick}))}var N=n(59002),R={};R.styleTagTransform=S(),R.setAttributes=y(),R.insert=b().bind(null,"head"),R.domAPI=g(),R.insertStyleElement=_();h()(N.Z,R);N.Z&&N.Z.locals&&N.Z.locals;var z=n(50066);function Spinner(t){var{className:e,size:n=50}=t;return C.createElement("svg",{className:(0,z.cn)("base-spinner",e),style:{color:"#c5c5c5",margin:"auto",width:n,height:n}},C.createElement("circle",{cx:"50%",cy:"50%",r:"40%",fill:"none",stroke:"currentColor",strokeWidth:3}))}var B=n(25242),F=n(83850),W=n(55166),V=n(90255),H=["children","className","tooltip","primary","size"];function button_extends(){return button_extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},button_extends.apply(this,arguments)}function button_objectWithoutProperties(t,e){if(null==t)return{};var n,a,o=function button_objectWithoutPropertiesLoose(t,e){if(null==t)return{};var n,a,o={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function Button(t){var{children:e,className:n,tooltip:a,primary:o,size:r}=t,s=button_objectWithoutProperties(t,H),l=s.variant||(o?"contained":"outlined"),c=C.createElement(I.Z.Button,button_extends({variant:l,size:r||"small",classes:{root:"bl-button",label:"bl-button-label",contained:"bl-button--contained",outlined:"bl-button--outlined",text:"bl-button--text",disableElevation:"bl-button--unelevated",disabled:"bl-button--disabled"},disableRipple:!0,disableElevation:!0,className:n},s),e);return a?C.createElement(L.Z,{tooltip:a},C.createElement("span",null,c)):c}var Z=n(77574),U=[o.W.YEAR,o.W.MONTH,o.W.DATE];function DatePickerButton(t){var{onChange:e,value:n,className:a,icon:s}=t,l=(0,k.useCallback)((t=>C.createElement("button",{onClick:t.onClick,className:a},C.createElement("span",{ref:t.inputRef},C.createElement(r.Z,{icon:s})))),[a]);return C.createElement(Z.Z,{value:n,openTo:o.W.YEAR,views:U,onChange:e,icon:!1,TextFieldComponent:l})}const Y=(0,C.memo)(DatePickerButton);function utils_ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function utils_objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?utils_ownKeys(Object(n),!0).forEach((function(e){utils_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):utils_ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function utils_defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var formatTimestampDate=(t,e)=>t?a.ou.fromMillis(t).toFormat(e):null,K=function composeOption(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return{value:t,label:e}},composeOptions=(t,e,n,a)=>t.reduce(((t,o)=>{if(e.includes(o)&&n!==o)return t;var r=a?a(o):o;return t.push(K(o,r)),t}),[]),$=function getDefaultComponents(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.DateTimePickers||{};return utils_objectSpread(utils_objectSpread({},t),{},{Button:t.Button||Button,Spinner:t.Spinner||Spinner,FontIcon:t.FontIcon||r.Z,Select:t.Select||d.Z,SortSelect:t.SortSelect||SortingSelect,Input:t.Input||s.Z,NumberInput:t.NumberInput||c.Z,CheckBox:t.CheckBox||Checkbox,Textarea:t.Textarea||l.Z,DateTimePickers:{[o.w.DATE_PICKER]:e[o.w.DATE_PICKER]||V.Z,[o.w.TIME_PICKER]:e[o.w.TIME_PICKER]||B.Z,[o.w.MONTH_PICKER]:e[o.w.MONTH_PICKER]||W.Z,[o.w.YEAR_PICKER]:e[o.w.YEAR_PICKER]||F.Z},DatePickerButton:t.DatePickerButton||Y})}},55485:(t,e,n)=>{"use strict";n.d(e,{Cd:()=>s,G$:()=>c,Kp:()=>r,L7:()=>o,X:()=>d,eE:()=>l,fP:()=>u,tf:()=>p,yP:()=>h});var a=n(28121),o={MONTH:"MONTH",TWO_WEEK:"TWO_WEEK",WEEK:"WEEK",THREE_DAY:"THREE_DAY",DAY:"DAY"};o.Labels={[o.MONTH]:"Month",[o.TWO_WEEK]:"2 week",[o.WEEK]:"Week",[o.THREE_DAY]:"3 day",[o.DAY]:"Day"},o.Options=[{value:o.MONTH,label:o.Labels[o.MONTH]},{value:o.TWO_WEEK,label:o.Labels[o.TWO_WEEK]},{value:o.WEEK,label:o.Labels[o.WEEK]},{value:o.THREE_DAY,label:o.Labels[o.THREE_DAY]},{value:o.DAY,label:o.Labels[o.DAY]}];var r=7,s=16,l={LARGE:"LARGE",MEDIUM:"MEDIUM",SMALL:"SMALL"},c={INDENT:"INDENT",STACK_SIZE:"STACK_SIZE"},d={[l.SMALL]:14,[l.MEDIUM]:20,[l.LARGE]:26},u={[o.WEEK]:o.WEEK,[o.DAY]:o.DAY,[o.THREE_DAY]:o.THREE_DAY},h={EVENT:"event"},p=[a.oS.STRING,a.oS.TEXT,a.oS.EXTENDED_STRING,a.oS.INT,a.oS.BOOLEAN,a.oS.DOUBLE,a.oS.DECIMAL,a.oS.FILE_REF,a.oS.STRING_ID]},31267:(t,e,n)=>{"use strict";n.d(e,{E6:()=>getOptimizeWhereClause,TO:()=>getLoadingRangeDates,xp:()=>isDateFieldsValid});var a=n(62760);function isDateFieldsValid(t){return t&&t.length&&t.some((t=>{var{startEventField:e}=t;return!!e}))}function getLoadingRangeDates(t){var e=a.E.getMonthsBefore(1,t),n=a.E.getMonthsAfter(1,t);return{startRangeDate:a.E.getStartDayOfStartWeekOfStartMonth(e),endRangeDate:a.E.getEndDayOfEndWeekOfEndMonth(n)}}function getOptimizeWhereClause(t,e){if(!isDateFieldsValid(e))return null;var{startRangeDate:n,endRangeDate:a}=getLoadingRangeDates(t);return e.map((t=>{var{startEventField:e,finishEventField:o}=t;return function getWhereClauseByDateFields(t,e,n,a){return e?"((".concat(t," is not null) AND (").concat(t," <= ").concat(a,") AND (").concat(e," is not null) AND (((").concat(t," < ").concat(e,") AND (").concat(e," >= ").concat(n,")) OR ((").concat(t," > ").concat(e,") AND (").concat(t," >= ").concat(e,"))))"):"(".concat(t," is not null AND ").concat(t," >= ").concat(n," AND ").concat(t," <= ").concat(a,")")}(e,o,n,a)})).join(" OR ")}},71943:(t,e,n)=>{"use strict";n.d(e,{$X:()=>r,Cq:()=>u,Yb:()=>d,hH:()=>o,xT:()=>s,zF:()=>c,zI:()=>l});var a=n(28121),o={RECTANGLE:"rectangle",POINT:"point"};o.Options=[{value:o.RECTANGLE,label:"rectangle"},{value:o.POINT,label:"point"}];var r={TIME:"time",CATEGORIES:"categories",PIE:"pie"};r.Options=[{value:r.TIME,label:"Time Line"},{value:r.CATEGORIES,label:"Categories"},{value:r.PIE,label:"Pie"}];var s={LINE:"line",BAR:"bar",AREA:"area",HORIZONTAL_BAR:"horizontalBar",DOUGHNUT:"doughnut",PIE:"pie"},l={NONE:"false",TOP:"top",BOTTOM:"bottom",LEFT:"left",RIGHT:"right"};l.Options=[{value:l.NONE,label:"None"},{value:l.TOP,label:"Top"},{value:l.BOTTOM,label:"Bottom"},{value:l.LEFT,label:"Left"},{value:l.RIGHT,label:"Right"}];var c=[a.oS.STRING,a.oS.TEXT,a.oS.BOOLEAN,a.oS.INT,a.oS.DOUBLE,a.oS.DECIMAL,a.oS.MONEY,a.oS.DATETIME,a.oS.MULTIPLE_CHOICE,a.oS.JSON,a.oS.AUTO_INCREMENT],d=["objectId","ownerId"],u={["millisecond"]:1,["second"]:1e3,["minute"]:6e4,["hour"]:36e5,["day"]:864e5,["week"]:6048e5,["month"]:2592e6,["quarter"]:7776e6,["year"]:31536e6}},57342:(t,e,n)=>{"use strict";n.d(e,{k:()=>composeColumnCondition});var a=n(99490);function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach((function(e){_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var composeColumnCondition=t=>e=>{var{operator:n,conditionValue:a,combinator:r}=e,s=(o[n]||o.default)(t.path,a,n);return r&&(s+=" ".concat(r)),s},o=_objectSpread(_objectSpread({equal:(t,e)=>"".concat(t," = '").concat(e,"'"),notEqual:(t,e)=>"".concat(t," != '").concat(e,"'"),contains:(t,e)=>"".concat(t," LIKE '%").concat(e,"%'"),notContains:(t,e)=>"".concat(t," NOT LIKE '%").concat(e,"%'"),startsWith:(t,e)=>"".concat(t," LIKE '").concat(e,"%'"),notStartsWith:(t,e)=>"".concat(t," NOT LIKE '").concat(e,"%'"),endsWith:(t,e)=>"".concat(t," LIKE '%").concat(e,"'"),notEndsWith:(t,e)=>"".concat(t," NOT LIKE '%").concat(e,"'"),isEmpty:t=>"".concat(t," = ''"),isNotEmpty:t=>"".concat(t," != ''"),isNull:t=>"".concat(t," IS NULL"),isNotNull:t=>"".concat(t," IS NOT NULL"),isTrue:t=>"".concat(t," = TRUE"),isNotTrue:t=>"".concat(t," != TRUE"),isFalse:t=>"".concat(t," = FALSE"),isNotFalse:t=>"".concat(t," != FALSE")},{"is-specificDate":(t,e)=>"".concat(t," >= '").concat(getDayStart(e),"' AND ").concat(t," <= '").concat(getDayEnd(e),"'"),"is-specificTime":(t,e)=>"".concat(t," >= '").concat(getSecondStart(e),"' AND ").concat(t," <= '").concat(getSecondEnd(e),"'"),"is-specificMonth":(t,e)=>"".concat(t," >= '").concat(getMonthStart(e),"' AND ").concat(t," <= '").concat(getMonthEnd(e),"'"),"is-specificYear":(t,e)=>"".concat(t," >= '").concat(getYearStart(e),"' AND ").concat(t," <= '").concat(getYearEnd(e),"'"),"is-today":t=>"".concat(t," >= '").concat(getTodayStart(),"' AND ").concat(t," <= '").concat(getTodayEnd(),"'"),"is-yesterday":t=>"".concat(t," >= '").concat(getYesterdayStart(),"' AND ").concat(t," <= '").concat(getYesterdayEnd(),"'"),"is-tomorrow":t=>"".concat(t," >= '").concat(getTomorrowStart(),"' AND ").concat(t," <= '").concat(getTomorrowEnd(),"'"),"isNot-specificDate":(t,e)=>"".concat(t," < '").concat(getDayStart(e),"' OR ").concat(t," > '").concat(getDayEnd(e),"'"),"isNot-specificTime":(t,e)=>"".concat(t," < '").concat(getSecondStart(e),"' OR ").concat(t," > '").concat(getSecondEnd(e),"'"),"isNot-specificMonth":(t,e)=>"".concat(t," < '").concat(getMonthStart(e),"' OR ").concat(t," > '").concat(getMonthEnd(e),"'"),"isNot-specificYear":(t,e)=>"".concat(t," < '").concat(getYearStart(e),"' OR ").concat(t," > '").concat(getYearEnd(e),"'"),"isNot-today":t=>"".concat(t," < '").concat(getTodayStart(),"' OR ").concat(t," > '").concat(getTodayEnd(),"'"),"isNot-yesterday":t=>"".concat(t," < '").concat(getYesterdayStart(),"' OR ").concat(t," > '").concat(getYesterdayEnd(),"'"),"isNot-tomorrow":t=>"".concat(t," < '").concat(getTomorrowStart(),"' OR ").concat(t," > '").concat(getTomorrowEnd(),"'"),"before-specificDate":(t,e)=>"".concat(t," < '").concat(getDayStart(e),"'"),"before-specificTime":(t,e)=>"".concat(t," < '").concat(getSecondStart(e),"'"),"before-specificMonth":(t,e)=>"".concat(t," < '").concat(getMonthStart(e),"'"),"before-specificYear":(t,e)=>"".concat(t," < '").concat(getYearStart(e),"'"),"before-today":t=>"".concat(t," < '").concat(getTodayStart(),"'"),"before-yesterday":t=>"".concat(t," < '").concat(getYesterdayStart(),"'"),"before-tomorrow":t=>"".concat(t," < '").concat(getTomorrowStart(),"'"),"after-specificDate":(t,e)=>"".concat(t," > '").concat(getDayEnd(e),"'"),"after-specificTime":(t,e)=>"".concat(t," > '").concat(getSecondEnd(e),"'"),"after-specificMonth":(t,e)=>"".concat(t," > '").concat(getMonthEnd(e),"'"),"after-specificYear":(t,e)=>"".concat(t," > '").concat(getYearEnd(e),"'"),"after-today":t=>"".concat(t," > '").concat(getTodayEnd(),"'"),"after-yesterday":t=>"".concat(t," > '").concat(getYesterdayEnd(),"'"),"after-tomorrow":t=>"".concat(t," > '").concat(getTomorrowEnd(),"'"),"atOrBefore-specificDate":(t,e)=>"".concat(t," <= '").concat(getDayEnd(e),"'"),"atOrBefore-specificTime":(t,e)=>"".concat(t," <= '").concat(getSecondEnd(e),"'"),"atOrBefore-specificMonth":(t,e)=>"".concat(t," <= '").concat(getMonthEnd(e),"'"),"atOrBefore-specificYear":(t,e)=>"".concat(t," <= '").concat(getYearEnd(e),"'"),"atOrBefore-today":t=>"".concat(t," <= '").concat(getTodayEnd(),"'"),"atOrBefore-yesterday":t=>"".concat(t," <= '").concat(getYesterdayEnd(),"'"),"atOrBefore-tomorrow":t=>"".concat(t," <= '").concat(getTomorrowEnd(),"'"),"atOrAfter-specificDate":(t,e)=>"".concat(t," >= '").concat(getDayStart(e),"'"),"atOrAfter-specificTime":(t,e)=>"".concat(t," >= '").concat(getSecondStart(e),"'"),"atOrAfter-specificMonth":(t,e)=>"".concat(t," >= '").concat(getMonthStart(e),"'"),"atOrAfter-specificYear":(t,e)=>"".concat(t," >= '").concat(getYearStart(e),"'"),"atOrAfter-today":t=>"".concat(t," >= '").concat(getTodayStart(),"'"),"atOrAfter-yesterday":t=>"".concat(t," >= '").concat(getYesterdayStart(),"'"),"atOrAfter-tomorrow":t=>"".concat(t," >= '").concat(getTomorrowStart(),"'"),"within-thePastWeek":t=>"".concat(t," >= '").concat(getWeekBefore(),"' AND ").concat(t," <= '").concat(getNow(),"'"),"within-thePastMonth":t=>"".concat(t," >= '").concat(getMonthBefore(),"' AND ").concat(t," <= '").concat(getNow(),"'"),"within-thePastYear":t=>"".concat(t," >= '").concat(getYearBefore(),"' AND ").concat(t," <= '").concat(getNow(),"'"),"within-theNextWeek":t=>"".concat(t," >= '").concat(getNow(),"' AND ").concat(t," <= '").concat(getWeekAfter(),"'"),"within-theNextMonth":t=>"".concat(t," >= '").concat(getNow(),"' AND ").concat(t," <= '").concat(getMonthAfter(),"'"),"within-theNextYear":t=>"".concat(t," >= '").concat(getNow(),"' AND ").concat(t," <= '").concat(getYearAfter(),"'"),"within-theNextDays":(t,e)=>"".concat(t," >= '").concat(getNow(),"' AND ").concat(t," <= '").concat(getDaysAfter(e),"'"),"within-thePastDays":(t,e)=>"".concat(t," <= '").concat(getNow(),"' AND ").concat(t," >= '").concat(getDaysBefore(e),"'"),"notWithin-thePastWeek":t=>"".concat(t," < '").concat(getWeekBefore(),"' OR ").concat(t," > '").concat(getNow(),"'"),"notWithin-thePastMonth":t=>"".concat(t," < '").concat(getMonthBefore(),"' OR ").concat(t," > '").concat(getNow(),"'"),"notWithin-thePastYear":t=>"".concat(t," < '").concat(getYearBefore(),"' OR ").concat(t," > '").concat(getNow(),"'"),"notWithin-theNextWeek":t=>"".concat(t," < '").concat(getNow(),"' OR ").concat(t," > '").concat(getWeekAfter(),"'"),"notWithin-theNextMonth":t=>"".concat(t," < '").concat(getNow(),"' OR ").concat(t," > '").concat(getMonthAfter(),"'"),"notWithin-theNextYear":t=>"".concat(t," < '").concat(getNow(),"' OR ").concat(t," > '").concat(getYearAfter(),"'"),"notWithin-theNextDays":(t,e)=>"".concat(t," < '").concat(getNow(),"' OR ").concat(t," > '").concat(getDaysAfter(e),"'"),"notWithin-thePastDays":(t,e)=>"".concat(t," > '").concat(getNow(),"' OR ").concat(t," < '").concat(getDaysBefore(e),"'")}),{},{default:(t,e,n)=>"".concat(t," ").concat(n," '").concat(e,"'")}),r=function getStartTimestamp(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:getNow();return a.ou.fromMillis(e.valueOf()).startOf(t).valueOf()},s=function getEndTimestamp(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:getNow();return a.ou.fromMillis(e.valueOf()).endOf(t).valueOf()},getYearStart=t=>r("year",t),getYearEnd=t=>s("year",t),getMonthStart=t=>r("month",t),getMonthEnd=t=>s("month",t),getDayStart=t=>r("day",t),getDayEnd=t=>s("day",t),getSecondStart=t=>r("minute",t),getSecondEnd=t=>s("minute",t),getTodayStart=()=>getDayStart(),getTodayEnd=()=>getDayEnd(),getYesterdayStart=()=>getDayStart(a.ou.now().minus({days:1})),getYesterdayEnd=()=>getDayEnd(a.ou.now().minus({days:1})),getTomorrowStart=()=>getDayStart(a.ou.now().plus({days:1})),getTomorrowEnd=()=>getDayEnd(a.ou.now().plus({days:1})),getWeekBefore=()=>a.ou.now().minus({weeks:1}).valueOf(),getMonthBefore=()=>a.ou.now().minus({months:1}).valueOf(),getYearBefore=()=>a.ou.now().minus({year:1}).valueOf(),getDaysBefore=t=>a.ou.now().minus({days:t}).valueOf(),getWeekAfter=()=>a.ou.now().plus({weeks:1}).valueOf(),getMonthAfter=()=>a.ou.now().plus({months:1}).valueOf(),getYearAfter=()=>a.ou.now().plus({years:1}).valueOf(),getDaysAfter=t=>a.ou.now().plus({days:t}).valueOf(),getNow=()=>Date.now()},83993:(t,e,n)=>{"use strict";n.d(e,{Dl:()=>normalizeColumns,I2:()=>c,IC:()=>composeQuery,Jc:()=>getWhereClause,s2:()=>getAggregateField});var a=n(24350),o=n.n(a),r=n(28121),s=n(57342),l=["columnName"];function _objectWithoutProperties(t,e){if(null==t)return{};var n,a,o=function _objectWithoutPropertiesLoose(t,e){if(null==t)return{};var n,a,o={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach((function(e){_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c={DefaultQuery:{pageSize:15,offset:0,whereClause:"",filter:[],groupBy:null,sortBy:[],aggregateFunction:null,aggregateColumn:null,refreshPolicy:null,refreshInterval:null,optimizeWhereClause:""},transformQueryByColumnsIds(t,e){var n=o()(e,"name"),a={};return t.filter&&(a.filter=t.filter.map((t=>_objectSpread(_objectSpread({},t),{},{columnId:n[t.columnName].id})))),t.groupBy&&(a.groupBy=n[t.groupBy].id),t.sortBy&&(a.sortBy=t.sortBy.map((t=>_objectSpread(_objectSpread({},t),{},{value:n[t.value].id})))),t.aggregateColumn&&(a.aggregateColumn=n[t.aggregateColumn].id),_objectSpread(_objectSpread({},t),a)},getMatchedQueryWithColumns(t,e){var{filter:n,groupBy:a,sortBy:r,aggregateColumn:s}=e,l=o()(t,"id"),c=n.filter((t=>l[t.columnId])),d=r.filter((t=>l[t.value])),u=l[a]?a:null,h=l[s]?s:null;return _objectSpread(_objectSpread({},e),{},{filter:c,groupBy:u,sortBy:d,aggregateColumn:h})},queryIdsToNames(t,e){var{filter:n,groupBy:a,sortBy:r,aggregateColumn:s}=t,l=o()(e,"id"),c=n.map((t=>_objectSpread(_objectSpread({},t),{},{columnName:l[t.columnId].name}))),d=r.map((t=>_objectSpread(_objectSpread({},t),{},{value:l[t.value].name}))),u=a&&l[a].name,h=s&&l[s].name;return _objectSpread(_objectSpread({},t),{},{filter:c,groupBy:u,sortBy:d,aggregateColumn:h})},saveQueryToLocalStorage(t,e,n){var a=this.transformQueryByColumnsIds(e,n),o=t.getLocalDataSourceQuery();t.setLocalDataSourceQuery(_objectSpread(_objectSpread({},o),a))}};function getAggregateField(t,e){return"".concat(t,"_of_").concat(e).toLowerCase().replace(/\./g,"_")}var getWhereClause=(t,e,n)=>{var a=[];if(n&&a.push("(".concat(n,")")),t&&t.length){var o=t.map((t=>{var{columnName:e}=t,n=_objectWithoutProperties(t,l);return(0,s.k)({path:"`".concat(e,"`")})(n)})).join(" ");a.push("(".concat(o,")"))}return e&&a.push("(".concat(e,")")),a.join(" AND ")},composeQuery=t=>{var{pageSize:e,offset:n,whereClause:a,filter:o,groupBy:r,sortBy:s}=t,{aggregateFunction:l,aggregateColumn:c,fields:d,optimizeWhereClause:u}=t,h={offset:n,pageSize:e,props:[]};if(r&&(h.groupBy=r,h.props.push(r)),(a||o&&o.length||u)&&(h.where=getWhereClause(o,a,u)),s&&s.length){var p=s.map((t=>"`".concat(t.value,"` ").concat(t.dir)));h.sortBy=p.join(", ")}if(l&&c){var g="".concat(l,"_of_").concat(c).toLowerCase().replace(/\./g,"_");h.props.push("".concat(l,"(").concat(c,") as ").concat(g))}return Array.isArray(d)&&d.forEach((t=>{h.props.includes(t)||h.props.push(t)})),h.props.length?h.props=h.props.join(","):delete h.props,h},normalizeColumns=t=>t.map((t=>{var{readOnly:e,type:n,name:a}=t,o=e||r.VK.includes(a)||r.kH.includes(n);return _objectSpread(_objectSpread({},t),{},{readOnly:o})}))},88390:(t,e,n)=>{"use strict";n.d(e,{TI:()=>l,W:()=>composeGroupQuery,ai:()=>c});var a=n(24350),o=n.n(a),r=n(57342),s=["columnName"];function _objectWithoutProperties(t,e){if(null==t)return{};var n,a,o=function _objectWithoutPropertiesLoose(t,e){if(null==t)return{};var n,a,o={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach((function(e){_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l={DefaultQuery:{offset:0,pageSize:15,sortDirection:null,sortField:null,groupBy:[],filter:[],refreshPolicy:null,refreshInterval:null},transformQueryByColumnsIds(t,e){var n=o()(e,"name"),a={};return t.groupBy&&(a.groupBy=t.groupBy.map((t=>n[t].id))),t.filter&&(a.filter=t.filter.map((t=>_objectSpread(_objectSpread({},t),{},{columnId:n[t.columnName].id})))),_objectSpread(_objectSpread({},t),a)},getMatchedQueryWithColumns(t,e){var{groupBy:n,filter:a}=e,r=o()(t,"id"),s=t.length>1?n.filter((t=>r[t])):[],l=a.filter((t=>r[t.columnId]));return _objectSpread(_objectSpread({},e),{},{groupBy:s,filter:l})},queryIdsToNames(t,e){var{groupBy:n,filter:a}=t,r=o()(e,"id"),s=n.map((t=>r[t].name)),l=a.map((t=>_objectSpread(_objectSpread({},t),{},{columnName:r[t.columnId].name})));return _objectSpread(_objectSpread({},t),{},{filter:l,groupBy:s})},saveQueryToLocalStorage(t,e,n){var a=this.transformQueryByColumnsIds(e,n),o=t.getLocalDataSourceQuery();t.setLocalDataSourceQuery(_objectSpread(_objectSpread({},o),a))}},composeGroupQuery=t=>{var{offset:e,pageSize:n,groupBy:a,groupPath:o,filter:l,sortField:c,sortDirection:d,fields:u}=t,h={offset:e,pageSize:n};return u&&(h.props=u),a&&a.length?(h.groupBy=a.join(","),h.groupDepth=a.length,h.recordsPageSize=5):h.recordsPageSize=n,o&&(h.groupPath=o),l&&l.length&&(h.where=l.map((t=>{var{columnName:e}=t,n=_objectWithoutProperties(t,s);return(0,r.k)({path:e})(n)})).join(" ")),c&&d&&!a.length&&(h.sortBy="`".concat(c,"` ").concat(d)),h},isTargetGroup=(t,e)=>t.groupBy.column===e.column&&t.groupBy.value===e.value,c=function updateDataViewGroup(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},[a,...o]=e,r=t.findIndex((t=>isTargetGroup(t,a))),s=1===e.length?_objectSpread(_objectSpread({},t[r]),n):_objectSpread(_objectSpread({},t[r]),{},{items:updateDataViewGroup(t[r].items,o,n)}),l=[...t];return l.splice(r,1,s),l}},65468:(t,e,n)=>{"use strict";n.d(e,{Z:()=>data_providers});var a=n(28121),o=n(67294),r=n(73935),s=n(17788),l=n(94770),c=n(96919),d=n(88390),u=n(78718),h=n.n(u),p=n(36699),g=n(83993);function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach((function(e){_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m={[a.SM.DATA_VIEW]:d.TI,[a.SM.DATA_TABLE]:g.I2},getConfigDataSource=(t,e,n)=>{var a=m[n.dataSource.type],o=n.dataSource,r=o.query;if(n.localStorageRules.query.length){var l=((t,e)=>{var n=t.getDefaultConfig(),a=e.dataSource.query,o=(0,p.P)(e);if((0,s.h)(o,n))return a;var r=t.getLocalDataSourceQuery();return _objectSpread(_objectSpread({},a),r)})(e,n);r=a.getMatchedQueryWithColumns(t,l);var c=h()(r,n.localStorageRules.query);e.setLocalDataSource({query:c})}var d=a.queryIdsToNames(r,t);return _objectSpread(_objectSpread({},o),{},{query:d})},isNextPageExist=(t,e,n)=>n-(e+t)>0,shouldReset=(t,e)=>e.some((e=>t[e])),getColumnsNames=t=>t.map((t=>t.name));function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},_extends.apply(this,arguments)}function data_view_ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function data_view_objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?data_view_ownKeys(Object(n),!0).forEach((function(e){data_view_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):data_view_ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function data_view_defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=["groupBy","filter","sortDirection","sortField"],v={loading:!1,loaded:!1,error:null};var y=n(23493),x=n.n(y),_=["optimizeWhereClause"];function data_table_extends(){return data_table_extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},data_table_extends.apply(this,arguments)}function _objectWithoutProperties(t,e){if(null==t)return{};var n,a,o=function _objectWithoutPropertiesLoose(t,e){if(null==t)return{};var n,a,o={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function asyncGeneratorStep(t,e,n,a,o,r,s){try{var l=t[r](s),c=l.value}catch(t){return void n(t)}l.done?e(c):Promise.resolve(c).then(a,o)}function data_table_ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function data_table_objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?data_table_ownKeys(Object(n),!0).forEach((function(e){data_table_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):data_table_ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function data_table_defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var O=["filter","sortBy"],S={loading:!1,loaded:!1,error:null};var w={[a.SM.DATA_VIEW]:function DataViewWrapper(t,e){var{columnsOverrider:n,config:u,LocalStorageManager:h}=t,{name:p}=u.dataSource,[g,m]=(0,l.useObjectState)({columns:[],items:[],totalRows:0,hasNextPage:!0,groupsParams:{},query:d.TI.DefaultQuery}),[y,x]=(0,l.useObjectState)(data_view_objectSpread(data_view_objectSpread({},v),{},{progress:null})),[_,O]=(0,l.useObjectState)(v),S=(0,l.useHelpers)({refreshIntervalId:null}),{columns:w,items:P,query:C,totalRows:E,hasNextPage:k,groupsParams:M}=g,{refreshPolicy:D,refreshInterval:T}=C,A=(0,l.useSafeAsync)();(0,l.useEffect)((()=>{O({loading:!0}),A((0,c.EH)(p)).then(loadDataViewColumnsSuccess).catch(loadDataViewColumnsFail)}),[]);var loadDataViewColumnsSuccess=t=>{var e=n?n(t):t,a=getConfigDataSource(e,h,u),o=data_view_objectSpread(data_view_objectSpread({},C),a.query);r.unstable_batchedUpdates((()=>{m({columns:e,query:o}),O({loading:!1,loaded:!0,error:null})}))},loadDataViewColumnsFail=t=>O({loading:!1,loaded:!0,error:t});(0,l.useEffect)((()=>{y.loaded&&_.loaded&&F(C)}),[D,T]);var j=(0,l.useCallback)((t=>{clearTimeout(S.refreshIntervalId),D===a.MJ.INTERVAL&&T&&(S.refreshIntervalId=setTimeout((()=>F(t)),1e3*T))}),[F,T]),I=(0,l.useCallback)((t=>{var e={};Object.keys(t).forEach((n=>{u.localStorageRules.query.includes(n)&&(e[n]=t[n])})),Object.keys(e).length&&d.TI.saveQueryToLocalStorage(h,e,w)}),[w,u,h]),L=(0,l.useCallback)(((t,e)=>{var{hasNextPage:n,items:a}=t,stateUpdater=t=>{var o=(0,s.h)(a,t.items)?a:t.items;return{hasNextPage:n,query:e,items:o}};r.unstable_batchedUpdates((()=>{m(stateUpdater),x({loading:!1,loaded:!0,error:null})}))}),[]),N=(0,l.useCallback)((t=>x({loading:!1,error:t,loaded:!0})),[]),R=(0,l.useCallback)(((t,e)=>{x({loading:!0}),A((0,c.gp)(p,e)).then((e=>{j(t),L(e,t)})).catch(N)}),[j,L,N]),z=(0,l.useCallback)(((t,e,n)=>{var{offset:a,pageSize:o}=n,l=isNextPageExist(o,a,e),stateUpdater=e=>{var a=(0,s.h)(t,e.items)?t:e.items;return{hasNextPage:l,query:n,items:a}};r.unstable_batchedUpdates((()=>{m(stateUpdater),x({loading:!1,loaded:!0,error:null})}))}),[]),B=(0,l.useCallback)(((t,e)=>{x({loading:!0}),Promise.all([A((0,c.Qq)(p,e,w)),A((0,c.O$)(p,e))]).then((e=>{var[n,a]=e;j(t),z(n,a,t)})).catch(N)}),[p,j,z,w]),F=(0,l.useCallback)(((t,e)=>{var n=getColumnsNames(w),a=e?data_view_objectSpread(data_view_objectSpread({},t),{},{offset:0}):t,o=(0,d.W)(data_view_objectSpread(data_view_objectSpread({},a),{},{fields:n}));t.groupBy.length?R(a,o):B(a,o)}),[w,R,B]),W=(0,l.useCallback)(((t,e)=>{var n=data_view_objectSpread(data_view_objectSpread({},M[t]),e),a=data_view_objectSpread(data_view_objectSpread({},M),{},{[t]:n});m({groupsParams:a})}),[M]),V=(0,l.useCallback)(((t,e,n)=>{W(t,data_view_objectSpread(data_view_objectSpread({},e),{},{loading:!1,loaded:!0,error:null})),m((t=>({items:(0,d.ai)(t.items,e.groupPath,n)})))}),[W]),H=(0,l.useCallback)(((t,e)=>{W(t,{loading:!1,error:e,loaded:!0})}),[W]),Z=(0,l.useCallback)(((t,e)=>{W(t,{loading:!0}),A((0,c.gp)(p,e)).then((n=>V(t,e,n))).catch((e=>H(t,e)))}),[W,V,H]),U=(0,l.useCallback)(((t,e)=>{var n=(0,d.W)(e);Z(t,data_view_objectSpread(data_view_objectSpread({},e),n))}),[Z]),Y=(0,l.useCallback)((t=>{I(t);var e=data_view_objectSpread(data_view_objectSpread({},C),t);m({query:e});var n=shouldReset(t,b);y.loading||F(e,n)}),[C,I,y.loading,F]),K={columns:w,items:P,query:C,loadingStatus:{records:y,columns:_},totalRows:E,hasNextPage:k,groupsParams:M,dataSourceType:a.SM.DATA_VIEW},$={onQueryChange:Y,onGroupParamsChange:U};return o.createElement(e,_extends({data:K,dataActions:$},t))},[a.SM.DATA_TABLE]:function DataTableWrapper(t,e){var{config:n,LocalStorageManager:d,columnsOverrider:u}=t,{name:h}=n.dataSource,[p,m]=(0,l.useObjectState)({columns:[],items:[],totalRows:0,hasNextPage:!0,groupsParams:{},query:g.I2.DefaultQuery}),{columns:b,items:v,query:y,totalRows:w,hasNextPage:P}=p,{refreshInterval:C,refreshPolicy:E,whereClause:k,optimizeWhereClause:M}=y,[D,T]=(0,l.useObjectState)(data_table_objectSpread(data_table_objectSpread({},S),{},{progress:null})),[A,j]=(0,l.useObjectState)(S),I=(0,l.useHelpers)((()=>({refreshIntervalId:null,rtHandlers:Backendless.Data.of(h).rt(),getQuery:null,cacheRtCallback:null})));I.getQuery=()=>p.query;var L=(0,l.useSafeAsync)();(0,l.useEffect)((()=>{j({loading:!0}),L((0,c.EH)(h)).then(onLoadDataTableColumnsSuccess).catch(onLoadDataTableColumnsFail)}),[]),(0,l.useEffect)((()=>{D.loaded&&A.loaded&&K(y)}),[E,C]),(0,l.useEffect)((()=>{var{rtHandlers:t}=I;I.cacheRtCallback&&(t.removeCreateListener(I.cacheRtCallback),t.removeUpdateListeners(I.cacheRtCallback),t.removeDeleteListeners(I.cacheRtCallback));var e=x()((()=>K(I.getQuery())),1e3);if(I.cacheRtCallback=e,E===a.MJ.RT){var n=[e],o=(0,g.Jc)(null,k,M);o&&n.unshift(o),t.addCreateListener(...n),t.addUpdateListener(...n),t.addDeleteListener(...n)}}),[E,k,M]);var onLoadDataTableColumnsSuccess=t=>{var e=(0,g.Dl)(t),a=u?u(e):e,o=getConfigDataSource(a,d,n),s=data_table_objectSpread(data_table_objectSpread({},y),o.query);r.unstable_batchedUpdates((()=>{m({columns:a,query:s}),j({loading:!1,loaded:!0,error:null})}))},onLoadDataTableColumnsFail=t=>j({loading:!1,loaded:!0,error:t}),N=(0,l.useCallback)((t=>{var e={};Object.keys(t).forEach((a=>{n.localStorageRules.query.includes(a)&&(e[a]=t[a])})),Object.keys(e).length&&g.I2.saveQueryToLocalStorage(d,e,b)}),[b,n,d]),R=(0,l.useCallback)((t=>{var{objectId:e}=t;return m((n=>{var a=n.items;return{items:a.some((t=>t.objectId===e))?a.map((n=>n.objectId===e?t:n)):[...a,t]}})),t}),[]),z=(0,l.useCallback)((t=>{throw new Error(t)}),[]),B=(0,l.useCallback)((t=>L((0,c.Do)(h,t,b)).then(R).catch(z)),[h,R,z,b]),F=(0,l.useCallback)((t=>{m((e=>({items:e.items.filter((e=>e.objectId!==t))})))}),[]),W=(0,l.useCallback)((t=>L((0,c.e7)(h,t)).then((()=>F(t)))),[h,F]),V=(0,l.useCallback)((t=>T({progress:t})),[]),H=(0,l.useCallback)((t=>{var e=(0,g.IC)(t);return Promise.all([L((0,c.Qq)(h,e,b)),L((0,c.O$)(h,e))])}),[h,b]),Z=(0,l.useCallback)(function(){var t=function _asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise((function(a,o){var r=t.apply(e,n);function _next(t){asyncGeneratorStep(r,a,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(r,a,o,_next,_throw,"throw",t)}_next(void 0)}))}}((function*(t,e){var n=(0,g.IC)(t),a=yield(0,c.O$)(h,n);return a>1e3&&e&&(n=(0,g.IC)(data_table_objectSpread(data_table_objectSpread({},t),{},{optimizeWhereClause:e})),a=yield(0,c.O$)(h,n)),[yield(0,c.uz)(h,n,b,a,V),a]}));return function(e,n){return t.apply(this,arguments)}}(),[V,h,b]),U=(0,l.useCallback)(((t,e,n)=>{var{offset:a,pageSize:o}=n,l=isNextPageExist(o,a,e);q(n);var stateUpdater=a=>{var o=(0,s.h)(a.items,t)?t:a.items;return{hasNextPage:l,totalRows:e,query:n,items:o}};r.unstable_batchedUpdates((()=>{m(stateUpdater),T({loading:!1,loaded:!0,error:null,progress:null})}))}),[q]),Y=(0,l.useCallback)((t=>{T({loading:!1,loaded:!0,error:t,progress:null})}),[]),K=(0,l.useCallback)(((t,e,n)=>{var{optimizeWhereClause:a}=t,o=_objectWithoutProperties(t,_);T({loading:!0,progress:0});var r=e?data_table_objectSpread(data_table_objectSpread({},o),{},{offset:0}):o;if(0===o.pageSize)return U([],0,r);n=n||p.columns;var s=getColumnsNames(n),l=data_table_objectSpread(data_table_objectSpread({},r),{},{fields:s}),c=o.pageSize?H:Z;L(c(l,a)).then((t=>{var[e,n]=t;return U(e,n,r)})).catch(Y)}),[U,b,H,Z,Y]),$=(0,l.useCallback)((t=>{N(t);var e=data_table_objectSpread(data_table_objectSpread({},y),t);m({query:e});var n=shouldReset(t,O);D.loading||K(e,n)}),[y,N,D.loading,K]),q=(0,l.useCallback)((t=>{var{refreshInterval:e,refreshPolicy:n}=t;clearTimeout(I.refreshIntervalId),n===a.MJ.INTERVAL&&e&&(I.refreshIntervalId=setTimeout((()=>K(t)),1e3*e))}),[K]),G={columns:b,items:v,query:y,loadingStatus:{records:D,columns:A},totalRows:w,hasNextPage:P,dataSourceType:a.SM.DATA_TABLE},X={onQueryChange:$,onRecordSave:B,onRecordDelete:W};return o.createElement(e,data_table_extends({data:G,dataActions:X},t))}};const data_providers=t=>function DataProvider(e){return(0,w[e.config.dataSource.type])(e,t)}},62760:(t,e,n)=>{"use strict";n.d(e,{E:()=>o});var a=n(99490),o={setTimezone(t){a.Zr.defaultZoneName=t},getNow:()=>Date.now(),getStartTimestamp(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getNow();return a.ou.fromMillis(e.valueOf()).startOf(t).valueOf()},getEndTimestamp(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getNow();return a.ou.fromMillis(e.valueOf()).endOf(t).valueOf()},getYearStart(t){return this.getStartTimestamp("year",t)},getYearEnd(t){return this.getEndTimestamp("year",t)},getMonthStart(t){return this.getStartTimestamp("month",t)},getMonthEnd(t){return this.getEndTimestamp("month",t)},getWeekStart(t){return this.getStartTimestamp("week",t)},getWeekEnd(t){return this.getEndTimestamp("week",t)},getDayStart(t){return this.getStartTimestamp("day",t)},getDayEnd(t){return this.getEndTimestamp("day",t)},getSecondStart(t){return this.getStartTimestamp("minute",t)},getSecondEnd(t){return this.getEndTimestamp("minute",t)},getTodayStart(){return this.getDayStart()},getTodayEnd(){return this.getDayEnd()},getYesterdayStart(){return this.getDayStart(a.ou.now().minus({days:1}))},getYesterdayEnd(){return this.getDayEnd(a.ou.now().minus({days:1}))},getTomorrowStart(){return this.getDayStart(a.ou.now().plus({days:1}))},getTomorrowEnd(){return this.getDayEnd(a.ou.now().plus({days:1}))},getWeekBefore:()=>a.ou.now().minus({weeks:1}).valueOf(),getMonthBefore:()=>a.ou.now().minus({months:1}).valueOf(),getMonthsBefore(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getNow();return a.ou.fromMillis(e.valueOf()).minus({months:t}).valueOf()},getYearBefore:()=>a.ou.now().minus({year:1}).valueOf(),getDaysBefore(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getNow();return a.ou.fromMillis(e.valueOf()).minus({days:t}).valueOf()},getWeekAfter:()=>a.ou.now().plus({weeks:1}).valueOf(),getMonthAfter:()=>a.ou.now().plus({months:1}).valueOf(),getMonthsAfter(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getNow();return a.ou.fromMillis(e.valueOf()).plus({months:t}).valueOf()},getYearAfter:()=>a.ou.now().plus({years:1}).valueOf(),getDaysAfter(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getNow();return a.ou.fromMillis(e.valueOf()).plus({days:t}).valueOf()},getMinutesAfter(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getNow();return a.ou.fromMillis(e.valueOf()).plus({minute:t}).valueOf()},getDay(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getNow();return a.ou.fromMillis(t.valueOf()).day},getWeekDay(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getNow();return a.ou.fromMillis(t.valueOf()).weekday},getMonth(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getNow();return a.ou.fromMillis(t.valueOf()).month},getStartDayOfStartWeekOfStartMonth(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getNow();return a.ou.fromMillis(t.valueOf()).startOf("month").startOf("week").valueOf()},getEndDayOfEndWeekOfEndMonth(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getNow();return a.ou.fromMillis(t.valueOf()).endOf("month").endOf("week").valueOf()},getWeekEndWeekAfter(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getNow();return a.ou.fromMillis(e.valueOf()).plus({week:t}).endOf("week").valueOf()},getStartDayOfDaysAfter(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getNow();return a.ou.fromMillis(e.valueOf()).plus({days:t}).startOf("day").valueOf()},getEndDayOfDaysAfter(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getNow();return a.ou.fromMillis(e.valueOf()).plus({days:t}).endOf("day").valueOf()},getStartDayOfDaysBefore(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getNow();return a.ou.fromMillis(e.valueOf()).minus({days:t}).startOf("day").valueOf()},getStartDayOfWeeksAfter(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getNow();return a.ou.fromMillis(e.valueOf()).plus({weeks:t}).startOf("day").valueOf()},getStartDayOfWeeksBefore(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getNow();return a.ou.fromMillis(e.valueOf()).minus({weeks:t}).startOf("day").valueOf()},getStartDayOfMonthsAfter(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getNow();return a.ou.fromMillis(e.valueOf()).plus({months:t}).startOf("day").valueOf()},getStartDayOfMonthsBefore(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getNow();return a.ou.fromMillis(e.valueOf()).minus({months:t}).startOf("day").valueOf()},getDiffBetween(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getNow();return a.ou.fromMillis(n.valueOf()).diff(a.ou.fromMillis(e.valueOf()),t).toObject()},getDaysDiffBetween(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getNow();return this.getDiffBetween("days",t,e).days},getMinutesDiffBetween(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getNow();return this.getDiffBetween("minute",t,e).minutes},getTimeSlotsObject(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getNow();return a.ou.fromMillis(t.valueOf()).toObject()},setTimeSlotsObject(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getNow();return a.ou.fromMillis(e.valueOf()).set(t).valueOf()},buildDayInfo(t){var e=a.ou.fromMillis(t),n=e.weekday;return{isWeekend:6===n||7===n,weekDay:n,date:e.day,month:e.month,isToday:this.getTodayStart()===e.startOf("day").valueOf(),endTimestamp:e.endOf("day").valueOf(),startTimestamp:t}}}},1762:(t,e,n)=>{"use strict";n.d(e,{X:()=>useFeatureToggle});var a=n(94770),o=n(28121);function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach((function(e){_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function useFeatureToggle(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{dataSource:n}=t;return(0,a.useMemo)((()=>{var t=_objectSpread({},e);return n.type===o.SM.DATA_VIEW&&(t.dataEditing=!1),t}),[e,n.type])}},13903:(t,e,n)=>{"use strict";n.d(e,{Z:()=>p});var a=n(24350),o=n.n(a),r=n(28121),s=n(55485),l=n(62760),c=n(31267);function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach((function(e){_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=["name","title","eventname","eventtitle"],u=["date","time","eventdate","eventtime","starttime","startdate","eventstarttime","eventstartdate"],h={DefaultModel:{timeScale:s.L7.MONTH,initTimestamp:l.E.getNow(),dateFields:[],labelsCustomization:{fields:[],size:s.eE.LARGE,depth:{mode:s.G$.INDENT,value:60}},labelsColors:{byFields:{apply:!0,value:[]},byCondition:{apply:!0,value:[]},byDateFields:{apply:!0,value:[]}}},getDefaultModel(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{columns:e}=t,n=e?function getDefaultStartEventColumnId(t){if(!t||!t.length)return null;for(var e=function replaceSystemColumnsToEnd(t){return[...t].sort(((t,e)=>(r.w$.includes(t.name)?1:-1)-(r.w$.includes(e.name)?1:-1)))}(t),n=[],a=function _loop(t){var a=e[t];if(e[t].type===r.oS.DATETIME&&(n.push(e[t]),u.some((t=>t===a.name.toLowerCase()))))return{v:a.id}},o=0;o<e.length;o++){var s=a(o);if("object"==typeof s)return s.v}return n[0].id}(e):null,a=n?[{startEventField:n}]:h.DefaultModel.dateFields,o=_objectSpread(_objectSpread({},h.DefaultModel.labelsCustomization),{},{fields:e?[getDefaultEventLabel(e)]:h.DefaultModel.labelsCustomization.fields});return _objectSpread(_objectSpread({},h.DefaultModel),{},{dateFields:a,labelsCustomization:o})},transformModelByColumnsIds(t,e){var{dateFields:n,labelsCustomization:a,labelsColors:r}=t,s=o()(e,"name"),l={};if(n&&(l.dateFields=n.map((t=>{var{startEventField:e,finishEventField:n}=t;return{startEventField:s[e]?s[e].id:null,finishEventField:s[n]?s[n].id:null}}))),a&&(l.labelsCustomization=_objectSpread(_objectSpread({},a),{},{fields:a.fields.map((t=>s[t].id))})),r){var c=r.byFields.value.map((t=>s[t].id)),d=r.byCondition.value.map((t=>{var e=t.conditions.map((t=>_objectSpread(_objectSpread({},t),{},{columnId:s[t.columnName].id})));return _objectSpread(_objectSpread({},t),{},{conditions:e})})),u=r.byDateFields.value.map((t=>{var e=t.fieldsBunch.split(" - ").map((t=>s[t].id)).join(" - ");return _objectSpread(_objectSpread({},t),{},{fieldsBunch:e})}));l.labelsColors={byFields:_objectSpread(_objectSpread({},r.byFields),{},{value:c}),byCondition:_objectSpread(_objectSpread({},r.byCondition),{},{value:d}),byDateFields:_objectSpread(_objectSpread({},r.byDateFields),{},{value:u})}}return _objectSpread(_objectSpread({},t),l)},getMatchedModelWithColumns(t,e){var{dateFields:n,labelsCustomization:a,labelsColors:r}=e,s=o()(t,"id"),l=_objectSpread(_objectSpread({},a),{},{fields:a.fields.filter((t=>s[t]))}),c=[];n.forEach((t=>{var{startEventField:e,finishEventField:n}=t,a={startEventField:s[e]?e:null,finishEventField:s[n]?n:null};a.startEventField&&c.push(a)}));var d={byFields:_objectSpread(_objectSpread({},r.byFields),{},{value:r.byFields.value.filter((t=>s[t]))}),byCondition:_objectSpread(_objectSpread({},r.byCondition),{},{value:r.byCondition.value.map((t=>{var e=t.conditions.filter((t=>s[t.columnId]));return _objectSpread(_objectSpread({},t),{},{conditions:e})}))}),byDateFields:_objectSpread(_objectSpread({},r.byDateFields),{},{value:r.byDateFields.value.filter((t=>{var{fieldsBunch:e}=t;return e.split(" - ").every((t=>s[t]))}))})};return _objectSpread(_objectSpread({},e),{},{labelsCustomization:l,labelsColors:d,dateFields:c})},modelIdsToNames(t,e){var{dateFields:n,labelsCustomization:a,labelsColors:r}=t,s=o()(e,"id"),l=a&&_objectSpread(_objectSpread({},a),{},{fields:a.fields.map((t=>s[t].name))}),c=n&&n.map((t=>{var{startEventField:e,finishEventField:n}=t;return{startEventField:s[e]?s[e].name:null,finishEventField:s[n]?s[n].name:null}})),d=r&&{byFields:_objectSpread(_objectSpread({},r.byFields),{},{value:r.byFields.value.map((t=>s[t].name))}),byCondition:_objectSpread(_objectSpread({},r.byCondition),{},{value:r.byCondition.value.map((t=>{var e=t.conditions.map((t=>_objectSpread(_objectSpread({},t),{},{columnName:s[t.columnId].name})));return _objectSpread(_objectSpread({},t),{},{conditions:e})}))}),byDateFields:_objectSpread(_objectSpread({},r.byDateFields),{},{value:r.byDateFields.value.map((t=>{var e=t.fieldsBunch.split(" - ").map((t=>s[t].name)).join(" - ");return _objectSpread(_objectSpread({},t),{},{fieldsBunch:e})}))})};return _objectSpread(_objectSpread({},t),{},{labelsCustomization:l||h.DefaultModel.labelsCustomization,labelsColors:d||h.DefaultModel.labelsColors,dateFields:c||h.DefaultModel.dateFields})},getQueryOnModelReady(t){var{dateFields:e,initTimestamp:n}=t;return{optimizeWhereClause:(0,c.E6)(n,e),pageSize:null}}};function getDefaultEventLabel(t){if(!t||!t.length)return null;for(var e=function getColumnsByAvailableType(t){var e={};return t.forEach((t=>{if(s.tf.includes(t.type))return e[t.type]?e[t.type].push(t):void(e[t.type]=[t])})),e}(t),n=[],a=[],o=0;o<s.tf.length;o++){var l=e[s.tf[o]];if(l)for(var c=function _loop2(t){var e=l[t];if(d.some((t=>t===e.name.toLowerCase())))return{v:e.id};r.w$.includes(e.name)?a.push(e):n.push(e)},u=0;u<l.length;u++){var h=c(u);if("object"==typeof h)return h.v}}return[...n,...a][0].id}const p=h},53947:(t,e,n)=>{"use strict";n.d(e,{Z:()=>model_provider});var a=n(67294),o=n(78718),r=n.n(o),s=n(17788),l=n(94770),c=n(28121),d=n(36699),u=n(24350),h=n.n(u);function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach((function(e){_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p={DefaultModel:{frozen:[],density:"md",columnsWidths:{}},getDefaultModel:()=>p.DefaultModel,transformModelByColumnsIds(t,e){var n=h()(e,"name"),a={};if(t.frozen&&(a.frozen=t.frozen.map((t=>n[t].id))),t.columnsWidths){var o={};Object.keys(t.columnsWidths).forEach((e=>{o[n[e].id]=t.columnsWidths[e]})),a.columnsWidths=o}return _objectSpread(_objectSpread({},t),a)},getMatchedModelWithColumns(t,e){var{frozen:n,columnsWidths:a}=e,o=h()(t,"id"),r=t.length>1?n.filter((t=>o[t])):[],s={};return Object.keys(a).forEach((t=>{o[t]&&(s[t]=a[t])})),_objectSpread(_objectSpread({},e),{},{frozen:r,columnsWidths:s})},modelIdsToNames(t,e){var{frozen:n,columnsWidths:a}=t,o=h()(e,"id"),r=n.map((t=>o[t].name)),s={};return Object.keys(a).forEach((t=>{s[o[t].name]=a[t]})),_objectSpread(_objectSpread({},t),{},{frozen:r,columnsWidths:s})},getQueryOnModelReady:()=>({offset:0})};const g=p;var m=n(29217),b=n(71943);function chart_ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function chart_objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?chart_ownKeys(Object(n),!0).forEach((function(e){chart_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):chart_ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function chart_defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v={DefaultModel:function getDefaultModel(){var t={gridLinesWidth:1,gridLinesColor:"rgba(0, 0, 0, 0.1)",gridLinesBorderDash:[],scaleLabelString:""},e=function getDefaultSeries(){var t=m.Z.defaults.elements.point,e=m.Z.defaults.elements.line;return{yAxis:{gridLinesWidth:1,gridLinesColor:"rgba(0, 0, 0, 0.1)",gridLinesBorderDash:[],scaleLabelString:""},type:b.xT.LINE,pointStyle:t.pointStyle,pointRadius:t.radius,pointBorderWidth:t.borderWidth,pointBackgroundColor:t.backgroundColor,pointBorderColor:t.borderColor,pointRotation:t.rotation,lineBorderColor:e.borderColor,lineBorderWidth:e.borderWidth,lineBorderDash:e.borderDash}}();return{type:b.$X.TIME,titlePosition:b.zI.TOP,titleText:null,xAxis:chart_objectSpread({field:null,gridLines:{}},t),series:[e],legendPosition:b.zI.BOTTOM,legendItemsSize:16,legendItemsType:b.hH.RECTANGLE,showFilterDataSettings:!1}}(),getDefaultModel(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.name?"".concat(t.name," Chart"):null;return chart_objectSpread(chart_objectSpread({},v.DefaultModel),{},{titleText:e})},transformModelByColumnsIds:t=>t,getMatchedModelWithColumns:(t,e)=>e,modelIdsToNames:t=>t,getQueryOnModelReady:()=>({pageSize:100,offset:0})};const y=v;var x=n(13903);function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},_extends.apply(this,arguments)}function model_provider_ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function model_provider_objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?model_provider_ownKeys(Object(n),!0).forEach((function(e){model_provider_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):model_provider_ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function model_provider_defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _={[c.ZN.DATA_GRID]:g,[c.ZN.CHART]:y,[c.ZN.CALENDAR]:x.Z},getConfigModel=(t,e,n)=>{var{getMatchedModelWithColumns:a,modelIdsToNames:o,DefaultModel:l}=_[n.type],c=model_provider_objectSpread(model_provider_objectSpread({},l),n.model);if(n.localStorageRules.model.length){c=a(t,((t,e)=>{var n=t.getDefaultConfig(),a=e.model,o=(0,d.P)(e);if((0,s.h)(o,n))return t.setDefaultConfig(o),a;var r=t.getLocalModel();return model_provider_objectSpread(model_provider_objectSpread({},a),r)})(e,n));var u=r()(c,n.localStorageRules.model);e.setLocalModel(u)}return o(c,t)};const model_provider=t=>function Wrapper(e){var{config:n,data:o,LocalStorageManager:r,dataActions:s}=e,{loadingStatus:c,columns:d}=o,{columns:u}=c,{onQueryChange:h}=s,{DefaultModel:p,transformModelByColumnsIds:g,getQueryOnModelReady:m}=_[n.type],[b,v]=(0,l.useState)(model_provider_objectSpread(model_provider_objectSpread({},p),n.model));(0,l.useEffect)((()=>{if(u.loaded){var t=getConfigModel(d,r,n),e=m&&m(t)||{};v(t),h(e)}}),[d,u.loaded,n]);var y=(0,l.useCallback)((t=>{if(n.localStorageRules.model.length){var e={};if(Object.keys(t).forEach((a=>{n.localStorageRules.model.includes(a)&&(e[a]=t[a])})),Object.keys(e).length){var a=g(e,d);((t,e)=>{var n=t.getLocalModel();t.setLocalModel(model_provider_objectSpread(model_provider_objectSpread({},n),e))})(r,a)}}}),[n,g,r,d]),x=(0,l.useCallback)((t=>{y(t),v(model_provider_objectSpread(model_provider_objectSpread({},b),t))}),[y,b]);return a.createElement(t,_extends({model:b,onModelChange:x},e))}},457:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var a=n(8081),o=n.n(a),r=n(23645),s=n.n(r)()(o());s.push([t.id,".bl-datetime-picker-input {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n}\n.bl-datetime-picker-input .bl-datetime-picker-input-icon {\n  position: absolute;\n  color: #333;\n  top: 11px;\n  right: 10px;\n}\n.bl-datetime-picker-input input {\n  padding-right: 30px;\n}\n",""]);const l=s},34104:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var a=n(8081),o=n.n(a),r=n(23645),s=n.n(r)()(o());s.push([t.id,".bl-visualization-icon.bl-visualization-icon--action:hover:not(.bl-visualization-icon--disabled) {\n  transform: scale(1.1);\n}\n.bl-visualization-icon.bl-visualization-icon--action {\n  cursor: pointer;\n}\n",""]);const l=s},87094:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var a=n(8081),o=n.n(a),r=n(23645),s=n.n(r)()(o());s.push([t.id,".bl-form-group {\n  margin-bottom: 15px;\n}\n.bl-form-group.bl-form-group--inline {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n.bl-form-group.bl-form-group--inline label {\n  margin-bottom: 0;\n}\n.bl-form-group label {\n  display: inline-block;\n  max-width: 100%;\n  margin-bottom: 5px;\n  font-weight: 700;\n  font-size: 14px;\n}\n.bl-form-group.bl-form-group--has-error .bl-control-label {\n  color: #df5c54;\n}\n.bl-form-group.bl-form-group--has-error .bl-help-block {\n  position: absolute;\n  color: #df5c54;\n  bottom: -15px;\n  font-size: 12px;\n}\n",""]);const l=s},56754:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var a=n(8081),o=n.n(a),r=n(23645),s=n.n(r)()(o());s.push([t.id,".bl-overlay-loading--content {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n}\n.bl-overlay-loading--content.with-overlay {\n  filter: blur(1.5px);\n}\n.bl-overlay-loading--spinner-container,\n.bl-overlay-loading--error-container {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n",""]);const l=s},72328:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var a=n(8081),o=n.n(a),r=n(23645),s=n.n(r)()(o());s.push([t.id,".bl-modal-content:focus-visible {\n  outline: none;\n}\n.bl-modal-content i {\n  font-size: 18px;\n}\n.bl-modal-content i.bl-visualization-icon--disabled {\n  cursor: not-allowed !important;\n}\n.bl-modal-content .bl-modal-footer > button:not(:first-child) {\n  margin-left: 10px;\n}\n",""]);const l=s},11424:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var a=n(8081),o=n.n(a),r=n(23645),s=n.n(r)()(o());s.push([t.id,".bl-multiple .multiple-child-wrapper {\n  position: relative;\n  padding-right: 45px;\n  margin-bottom: 5px;\n}\n.bl-multiple .multiple-child-wrapper:last-child {\n  margin-bottom: 0;\n}\n.bl-multiple .multiple-controls {\n  display: flex;\n  gap: 5px;\n  width: 40px;\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  right: 0;\n  font-size: 18px;\n}\n.bl-multiple .multiple-controls i {\n  cursor: pointer;\n}\n.bl-multiple .multiple-controls i:hover {\n  transform: scale(1.1);\n}\n.bl-multiple.modern .multiple-child-wrapper {\n  padding-right: 0;\n}\n.bl-multiple.modern .remove-control {\n  position: absolute;\n  top: 10px;\n  right: -7px;\n  color: #999;\n  cursor: pointer;\n  font-weight: 700;\n}\n.bl-multiple.modern .add-icon-wrapper {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.bl-multiple.modern .add-icon-wrapper .add-control {\n  font-size: 20px;\n  font-weight: 700;\n  color: #5BC069;\n  cursor: pointer;\n}\n",""]);const l=s},49150:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var a=n(8081),o=n.n(a),r=n(23645),s=n.n(r)()(o());s.push([t.id,".bl-select-sorting-values {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 4px;\n}\n.bl-select-sorting-values .bl-select-sorting-value {\n  line-height: 14px;\n  display: flex;\n  align-items: center;\n  border: 1px solid rgba(0, 126, 255, 0.24);\n  border-radius: 2px;\n  padding: 2px 5px;\n  background-color: rgba(0, 126, 255, 0.08);\n  color: #007eff;\n  font-size: 12px;\n  height: 19px;\n}\n",""]);const l=s},59002:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var a=n(8081),o=n.n(a),r=n(23645),s=n.n(r)()(o());s.push([t.id,".base-spinner {\n  position: relative;\n  animation: base-spinner_rotate 2s linear infinite;\n  color: white;\n}\n.base-spinner circle {\n  stroke-dasharray: 2, 400;\n  stroke-dashoffset: 0;\n  animation: base-spinner_dash 1.5s ease-in-out infinite;\n  stroke-linecap: round;\n}\n@keyframes base-spinner_rotate {\n  100% {\n    transform: rotate(360deg);\n  }\n}\n@keyframes base-spinner_dash {\n  0% {\n    stroke-dasharray: 2, 400;\n    stroke-dashoffset: 0;\n  }\n  50% {\n    stroke-dasharray: 89, 400;\n    stroke-dashoffset: -35;\n  }\n  100% {\n    stroke-dasharray: 89, 400;\n    stroke-dashoffset: -124;\n  }\n}\n",""]);const l=s},26291:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var a=n(8081),o=n.n(a),r=n(23645),s=n.n(r)()(o());s.push([t.id,".bl-visualization-modal-data-settings .bl-visualizations-modal-data-settings-advanced-section .bl-visualizations-data-settings--advanced-section-content {\n  padding-left: 10px;\n}\n.bl-visualization-modal-data-settings .bl-visualizations-modal-data-settings-advanced-section .bl-visualizations-data-settings--advanced-section-content .bl-select,\n.bl-visualization-modal-data-settings .bl-visualizations-modal-data-settings-advanced-section .bl-visualizations-data-settings--advanced-section-content .bl-input {\n  width: 100%;\n}\n.bl-visualization-modal-data-settings .bl-visualizations-modal-data-settings-advanced-section .bl-visualizations-data-settings--advanced-section-content .bl-visualizations-data-settings--advanced--data-table-content .aggregation-options {\n  display: flex;\n}\n.bl-visualization-modal-data-settings .bl-visualizations-modal-data-settings-advanced-section .bl-visualizations-data-settings--advanced-section-content .bl-visualizations-data-settings--advanced--data-table-content .aggregation-options .aggregation-function-group {\n  width: 130px;\n}\n.bl-visualization-modal-data-settings .bl-visualizations-modal-data-settings-advanced-section .bl-visualizations-data-settings--advanced-section-content .bl-visualizations-data-settings--advanced--data-table-content .aggregation-options .aggregation-column-group {\n  margin-left: 10px;\n  flex: 1;\n}\n.bl-visualization-modal-data-settings .bl-visualizations-modal-data-settings-advanced-section .bl-visualizations-data-settings--advanced-section-content .bl-visualizations-data-settings--advanced--data-table-content .group-and-sort-options {\n  display: flex;\n}\n.bl-visualization-modal-data-settings .bl-visualizations-modal-data-settings-advanced-section .bl-visualizations-data-settings--advanced-section-content .bl-visualizations-data-settings--advanced--data-table-content .group-and-sort-options > *:not(:first-child) {\n  margin-left: 10px;\n}\n.bl-visualization-modal-data-settings .bl-visualizations-modal-data-settings-advanced-section .bl-visualizations-data-settings--advanced-section-content .bl-visualizations-data-settings--advanced--data-table-content .group-and-sort-options .group-by-field-group {\n  flex: 1;\n}\n.bl-visualization-modal-data-settings .bl-visualizations-modal-data-settings-advanced-section .bl-visualizations-data-settings--advanced-section-content .bl-visualizations-data-settings--advanced--data-table-content .group-and-sort-options .sort-by-field-group {\n  flex: 1;\n}\n.bl-visualization-modal-data-settings .bl-visualizations-modal-data-settings-advanced-section .bl-visualizations-data-settings--advanced-section-content .bl-visualizations-data-settings--advanced--data-table-content .refresh-policy-options {\n  display: flex;\n}\n.bl-visualization-modal-data-settings .bl-visualizations-modal-data-settings-advanced-section .bl-visualizations-data-settings--advanced-section-content .bl-visualizations-data-settings--advanced--data-table-content .refresh-policy-options .refresh-type-group {\n  flex: 1;\n  max-width: 120px;\n}\n.bl-visualization-modal-data-settings .bl-visualizations-modal-data-settings-advanced-section .bl-visualizations-data-settings--advanced-section-content .bl-visualizations-data-settings--advanced--data-table-content .refresh-policy-options .refresh-interval-group {\n  margin-left: 10px;\n  flex: 1;\n  align-self: flex-end;\n}\n.bl-visualization-modal-data-settings .bl-visualizations-modal-data-settings-advanced-section .bl-visualizations-data-settings--advanced-section-content .bl-visualizations-data-settings--advanced--data-table-content .refresh-policy-options .refresh-interval-group > div {\n  display: flex;\n  align-items: center;\n}\n.bl-visualization-modal-data-settings .bl-visualizations-modal-data-settings-advanced-section .bl-visualizations-data-settings--advanced-section-content .bl-visualizations-data-settings--advanced--data-table-content .refresh-policy-options .refresh-interval-group > div .bl-input {\n  width: 120px;\n}\n.bl-visualization-modal-data-settings .bl-visualizations-modal-data-settings-advanced-section .bl-visualizations-data-settings--advanced-section-content .bl-visualizations-data-settings--advanced--data-table-content .refresh-policy-options .refresh-interval-group > div .left-label {\n  margin-right: 10px;\n}\n.bl-visualization-modal-data-settings .bl-visualizations-modal-data-settings-advanced-section .bl-visualizations-data-settings--advanced-section-content .bl-visualizations-data-settings--advanced--data-table-content .refresh-policy-options .refresh-interval-group > div .right-label {\n  margin-left: 10px;\n}\n",""]);const l=s},61666:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var a=n(8081),o=n.n(a),r=n(23645),s=n.n(r)()(o());s.push([t.id,".bl-ui-sdk-modal .bl-visualizations-data-settings-conditions {\n  padding: 0 0 10px 10px;\n}\n.bl-ui-sdk-modal .bl-visualizations-data-settings-conditions .bl-visualizations-data-settings-conditions-item {\n  display: grid;\n  grid-template-columns: minmax(70px, 1fr) minmax(70px, 2fr) minmax(70px, 4.5fr) minmax(70px, 2fr) minmax(70px, 1fr);\n  grid-gap: 10px;\n  padding-right: 17px;\n}\n.bl-ui-sdk-modal .bl-visualizations-data-settings-conditions .bl-visualizations-data-settings-conditions-item .bl-visualizations-data-settings-conditions-item__label {\n  color: #333;\n  font-weight: 600;\n  margin-top: 7px;\n  flex: 0;\n  display: flex;\n  align-items: center;\n}\n.bl-ui-sdk-modal .bl-visualizations-data-settings-conditions .bl-visualizations-data-settings-conditions-item .bl-visualization-data-settings-datetime-operator-select {\n  display: grid;\n  grid-template-columns: 1.5fr 2fr;\n  grid-gap: 10px;\n}\n.bl-ui-sdk-modal .bl-visualizations-data-settings-empty-field-alert {\n  padding-left: 10px;\n}\n",""]);const l=s},58177:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var a=n(8081),o=n.n(a),r=n(23645),s=n.n(r)()(o());s.push([t.id,".bl-visualization-modal-data-settings .bl-modal-content {\n  width: 90%;\n  max-width: 1000px;\n  min-width: 600px;\n}\n.bl-visualization-modal-data-settings .bl-visualization-data-settings--data-source-name {\n  padding-left: 10px;\n}\n.bl-visualization-modal-data-settings .Mui-error,\n.bl-visualization-modal-data-settings .bl-visualizations-text-danger {\n  color: #df5c54;\n}\n",""]);const l=s},69802:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var a=n(8081),o=n.n(a),r=n(23645),s=n.n(r)()(o());s.push([t.id,".bl-visualization-toolbar {\n  padding: 5px;\n  background-color: #F4F4F4;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n}\n.bl-visualization-toolbar i {\n  font-size: 20px;\n}\n.bl-visualization-toolbar .bl-visualization-toolbar__controls {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  color: #999;\n  width: 100%;\n}\n.bl-visualization-toolbar .bl-visualization-toolbar__btn-container button {\n  color: inherit;\n  font-size: inherit;\n}\n.bl-visualization-toolbar .bl-visualization-toolbar__btn-container {\n  color: #999;\n  font-size: 14px;\n}\n.bl-visualization-toolbar .bl-visualization-toolbar__btn-container:not(.bl-visualization-toolbar__btn-container__disabled):hover {\n  color: #086d9c;\n}\n.bl-visualization-toolbar .bl-visualization-toolbar__btn-container__active {\n  color: #0CA0E5;\n}\n.bl-visualization-toolbar .bl-visualization-toolbar__btn-container__disabled {\n  color: rgba(0, 0, 0, 0.26);\n}\n.bl-visualization-toolbar .bl-visualization-toolbar__progress-bar {\n  background-color: hsl(0, 0%, 87%);\n  height: 1px;\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n}\n.bl-visualization-toolbar .bl-visualization-toolbar__progress-bar-slider {\n  background-color: #0CA0E5;\n  height: 100%;\n}\n",""]);const l=s},92333:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var a=n(8081),o=n.n(a),r=n(23645),s=n.n(r)()(o());s.push([t.id,".bl-chart-visualization-preview {\n  display: flex;\n  flex: 1;\n  background: #fff;\n  position: relative;\n}\n",""]);const l=s},65781:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var a=n(8081),o=n.n(a),r=n(23645),s=n.n(r)()(o());s.push([t.id,".bl-chart-visualization-container {\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  font-weight: 500;\n  font-size: 14px;\n  color: #999;\n}\n.bl-chart-visualization-container i {\n  font-size: 20px;\n}\n.bl-chart-visualization-container i.bl-visualization-icon--disabled {\n  cursor: not-allowed !important;\n}\n.bl-chart-visualization-container .bl-visualization-toolbar .bl-chart-table-view {\n  margin-left: auto;\n  margin-right: 5px;\n}\n",""]);const l=s},73237:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var a=n(8081),o=n.n(a),r=n(23645),s=n.n(r)()(o());s.push([t.id,".bl-chart-visualization-components-modal .bl-chart-title-settings {\n  display: flex;\n}\n.bl-chart-visualization-components-modal .bl-chart-title-settings .bl-chart-title-position-group {\n  width: 100px;\n}\n.bl-chart-visualization-components-modal .bl-chart-title-settings .bl-chart-title-value-group {\n  margin-left: 10px;\n  flex: 1;\n}\n.bl-chart-visualization-components-modal .bl-chart-legend-settings {\n  display: flex;\n}\n.bl-chart-visualization-components-modal .bl-chart-legend-settings .bl-chart-legend-position-group {\n  width: 100px;\n}\n.bl-chart-visualization-components-modal .bl-chart-legend-settings .bl-chart-legend-items-type-group {\n  margin-left: 10px;\n  width: 130px;\n}\n.bl-chart-visualization-components-modal .bl-chart-legend-settings .bl-chart-legend-items-size-group {\n  margin-left: 10px;\n  width: 60px;\n}\n",""]);const l=s},952:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var a=n(8081),o=n.n(a),r=n(23645),s=n.n(r)()(o());s.push([t.id,".bl-ui-sdk-modal .bl-modal-footer .bl-button {\n  height: 32px;\n}\n",""]);const l=s},23645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function toString(){return this.map((function(e){var n="",a=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),a&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),a&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function i(t,n,a,o,r){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(a)for(var l=0;l<this.length;l++){var c=this[l][0];null!=c&&(s[c]=!0)}for(var d=0;d<t.length;d++){var u=[].concat(t[d]);a&&s[u[0]]||(void 0!==r&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=r),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),e.push(u))}},e}},8081:t=>{"use strict";t.exports=function(t){return t[1]}},77412:t=>{t.exports=function arrayEach(t,e){for(var n=-1,a=null==t?0:t.length;++n<a&&!1!==e(t[n],n,t););return t}},44037:(t,e,n)=>{var a=n(98363),o=n(3674);t.exports=function baseAssign(t,e){return t&&a(e,o(e),t)}},63886:(t,e,n)=>{var a=n(98363),o=n(81704);t.exports=function baseAssignIn(t,e){return t&&a(e,o(e),t)}},85990:(t,e,n)=>{var a=n(46384),o=n(77412),r=n(34865),s=n(44037),l=n(63886),c=n(64626),d=n(278),u=n(18805),h=n(1911),p=n(58234),g=n(46904),m=n(64160),b=n(43824),v=n(29148),y=n(38517),x=n(1469),_=n(44144),O=n(56688),S=n(13218),w=n(72928),P=n(3674),C=n(81704),E="[object Arguments]",k="[object Function]",M="[object Object]",D={};D[E]=D["[object Array]"]=D["[object ArrayBuffer]"]=D["[object DataView]"]=D["[object Boolean]"]=D["[object Date]"]=D["[object Float32Array]"]=D["[object Float64Array]"]=D["[object Int8Array]"]=D["[object Int16Array]"]=D["[object Int32Array]"]=D["[object Map]"]=D["[object Number]"]=D[M]=D["[object RegExp]"]=D["[object Set]"]=D["[object String]"]=D["[object Symbol]"]=D["[object Uint8Array]"]=D["[object Uint8ClampedArray]"]=D["[object Uint16Array]"]=D["[object Uint32Array]"]=!0,D["[object Error]"]=D[k]=D["[object WeakMap]"]=!1,t.exports=function baseClone(t,e,n,T,A,j){var I,L=1&e,N=2&e,R=4&e;if(n&&(I=A?n(t,T,A,j):n(t)),void 0!==I)return I;if(!S(t))return t;var z=x(t);if(z){if(I=b(t),!L)return d(t,I)}else{var B=m(t),F=B==k||"[object GeneratorFunction]"==B;if(_(t))return c(t,L);if(B==M||B==E||F&&!A){if(I=N||F?{}:y(t),!L)return N?h(t,l(I,t)):u(t,s(I,t))}else{if(!D[B])return A?t:{};I=v(t,B,L)}}j||(j=new a);var W=j.get(t);if(W)return W;j.set(t,I),w(t)?t.forEach((function(a){I.add(baseClone(a,e,n,a,t,j))})):O(t)&&t.forEach((function(a,o){I.set(o,baseClone(a,e,n,o,t,j))}));var V=z?void 0:(R?N?g:p:N?C:P)(t);return o(V||t,(function(a,o){V&&(a=t[o=a]),r(I,o,baseClone(a,e,n,o,t,j))})),I}},3118:(t,e,n)=>{var a=n(13218),o=Object.create,r=function(){function object(){}return function(t){if(!a(t))return{};if(o)return o(t);object.prototype=t;var e=new object;return object.prototype=void 0,e}}();t.exports=r},25588:(t,e,n)=>{var a=n(64160),o=n(37005);t.exports=function baseIsMap(t){return o(t)&&"[object Map]"==a(t)}},29221:(t,e,n)=>{var a=n(64160),o=n(37005);t.exports=function baseIsSet(t){return o(t)&&"[object Set]"==a(t)}},10313:(t,e,n)=>{var a=n(13218),o=n(25726),r=n(33498),s=Object.prototype.hasOwnProperty;t.exports=function baseKeysIn(t){if(!a(t))return r(t);var e=o(t),n=[];for(var l in t)("constructor"!=l||!e&&s.call(t,l))&&n.push(l);return n}},14259:t=>{t.exports=function baseSlice(t,e,n){var a=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var r=Array(o);++a<o;)r[a]=t[a+e];return r}},57406:(t,e,n)=>{var a=n(71811),o=n(10928),r=n(40292),s=n(40327);t.exports=function baseUnset(t,e){return e=a(e,t),null==(t=r(t,e))||delete t[s(o(e))]}},74318:(t,e,n)=>{var a=n(11149);t.exports=function cloneArrayBuffer(t){var e=new t.constructor(t.byteLength);return new a(e).set(new a(t)),e}},64626:(t,e,n)=>{t=n.nmd(t);var a=n(55639),o=e&&!e.nodeType&&e,r=o&&t&&!t.nodeType&&t,s=r&&r.exports===o?a.Buffer:void 0,l=s?s.allocUnsafe:void 0;t.exports=function cloneBuffer(t,e){if(e)return t.slice();var n=t.length,a=l?l(n):new t.constructor(n);return t.copy(a),a}},57157:(t,e,n)=>{var a=n(74318);t.exports=function cloneDataView(t,e){var n=e?a(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},93147:t=>{var e=/\w*$/;t.exports=function cloneRegExp(t){var n=new t.constructor(t.source,e.exec(t));return n.lastIndex=t.lastIndex,n}},40419:(t,e,n)=>{var a=n(62705),o=a?a.prototype:void 0,r=o?o.valueOf:void 0;t.exports=function cloneSymbol(t){return r?Object(r.call(t)):{}}},77133:(t,e,n)=>{var a=n(74318);t.exports=function cloneTypedArray(t,e){var n=e?a(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},278:t=>{t.exports=function copyArray(t,e){var n=-1,a=t.length;for(e||(e=Array(a));++n<a;)e[n]=t[n];return e}},98363:(t,e,n)=>{var a=n(34865),o=n(89465);t.exports=function copyObject(t,e,n,r){var s=!n;n||(n={});for(var l=-1,c=e.length;++l<c;){var d=e[l],u=r?r(n[d],t[d],d,n,t):void 0;void 0===u&&(u=t[d]),s?o(n,d,u):a(n,d,u)}return n}},18805:(t,e,n)=>{var a=n(98363),o=n(99551);t.exports=function copySymbols(t,e){return a(t,o(t),e)}},1911:(t,e,n)=>{var a=n(98363),o=n(51442);t.exports=function copySymbolsIn(t,e){return a(t,o(t),e)}},60696:(t,e,n)=>{var a=n(68630);t.exports=function customOmitClone(t){return a(t)?void 0:t}},46904:(t,e,n)=>{var a=n(68866),o=n(51442),r=n(81704);t.exports=function getAllKeysIn(t){return a(t,r,o)}},85924:(t,e,n)=>{var a=n(5569)(Object.getPrototypeOf,Object);t.exports=a},51442:(t,e,n)=>{var a=n(62488),o=n(85924),r=n(99551),s=n(70479),l=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)a(e,r(t)),t=o(t);return e}:s;t.exports=l},43824:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function initCloneArray(t){var n=t.length,a=new t.constructor(n);return n&&"string"==typeof t[0]&&e.call(t,"index")&&(a.index=t.index,a.input=t.input),a}},29148:(t,e,n)=>{var a=n(74318),o=n(57157),r=n(93147),s=n(40419),l=n(77133);t.exports=function initCloneByTag(t,e,n){var c=t.constructor;switch(e){case"[object ArrayBuffer]":return a(t);case"[object Boolean]":case"[object Date]":return new c(+t);case"[object DataView]":return o(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return l(t,n);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(t);case"[object RegExp]":return r(t);case"[object Symbol]":return s(t)}}},38517:(t,e,n)=>{var a=n(3118),o=n(85924),r=n(25726);t.exports=function initCloneObject(t){return"function"!=typeof t.constructor||r(t)?{}:a(o(t))}},33498:t=>{t.exports=function nativeKeysIn(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},40292:(t,e,n)=>{var a=n(97786),o=n(14259);t.exports=function parent(t,e){return e.length<2?t:a(t,o(e,0,-1))}},56688:(t,e,n)=>{var a=n(25588),o=n(7518),r=n(31167),s=r&&r.isMap,l=s?o(s):a;t.exports=l},68630:(t,e,n)=>{var a=n(44239),o=n(85924),r=n(37005),s=Function.prototype,l=Object.prototype,c=s.toString,d=l.hasOwnProperty,u=c.call(Object);t.exports=function isPlainObject(t){if(!r(t)||"[object Object]"!=a(t))return!1;var e=o(t);if(null===e)return!0;var n=d.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==u}},72928:(t,e,n)=>{var a=n(29221),o=n(7518),r=n(31167),s=r&&r.isSet,l=s?o(s):a;t.exports=l},81704:(t,e,n)=>{var a=n(14636),o=n(10313),r=n(98612);t.exports=function keysIn(t){return r(t)?a(t,!0):o(t)}},10928:t=>{t.exports=function last(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},57557:(t,e,n)=>{var a=n(29932),o=n(85990),r=n(57406),s=n(71811),l=n(98363),c=n(60696),d=n(99021),u=n(46904),h=d((function(t,e){var n={};if(null==t)return n;var d=!1;e=a(e,(function(e){return e=s(e,t),d||(d=e.length>1),e})),l(t,u(t),n),d&&(n=o(n,7,c));for(var h=e.length;h--;)r(n,e[h]);return n}));t.exports=h},73955:(t,e,n)=>{var a=n(79833),o=0;t.exports=function uniqueId(t){var e=++o;return a(t)+e}},21607:(t,e,n)=>{"use strict";var a=n(93379),o=n.n(a),r=n(7795),s=n.n(r),l=n(90569),c=n.n(l),d=n(3565),u=n.n(d),h=n(70609),p=n.n(h),g=n(44589),m=n.n(g),b=n(457),v={};v.styleTagTransform=m(),v.setAttributes=u(),v.insert=c().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=p();o()(b.Z,v),b.Z&&b.Z.locals&&b.Z.locals},12404:(t,e,n)=>{"use strict";var a=n(93379),o=n.n(a),r=n(7795),s=n.n(r),l=n(90569),c=n.n(l),d=n(3565),u=n.n(d),h=n(70609),p=n.n(h),g=n(44589),m=n.n(g),b=n(952),v={};v.styleTagTransform=m(),v.setAttributes=u(),v.insert=c().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=p();o()(b.Z,v),b.Z&&b.Z.locals&&b.Z.locals},93379:t=>{"use strict";var e=[];function getIndexByIdentifier(t){for(var n=-1,a=0;a<e.length;a++)if(e[a].identifier===t){n=a;break}return n}function modulesToDom(t,n){for(var a={},o=[],r=0;r<t.length;r++){var s=t[r],l=n.base?s[0]+n.base:s[0],c=a[l]||0,d="".concat(l," ").concat(c);a[l]=c+1;var u=getIndexByIdentifier(d),h={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==u)e[u].references++,e[u].updater(h);else{var p=addElementStyle(h,n);n.byIndex=r,e.splice(r,0,{identifier:d,updater:p,references:1})}o.push(d)}return o}function addElementStyle(t,e){var n=e.domAPI(e);n.update(t);return function updater(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,n){var a=modulesToDom(t=t||[],n=n||{});return function update(t){t=t||[];for(var o=0;o<a.length;o++){var r=getIndexByIdentifier(a[o]);e[r].references--}for(var s=modulesToDom(t,n),l=0;l<a.length;l++){var c=getIndexByIdentifier(a[l]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}a=s}}},90569:t=>{"use strict";var e={};t.exports=function insertBySelector(t,n){var a=function getTarget(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}},70609:t=>{"use strict";t.exports=function insertStyleElement(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},3565:(t,e,n)=>{"use strict";t.exports=function setAttributesWithoutAttributes(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},7795:t=>{"use strict";t.exports=function domAPI(t){var e=t.insertStyleElement(t);return{update:function update(n){!function apply(t,e,n){var a="";n.supports&&(a+="@supports (".concat(n.supports,") {")),n.media&&(a+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(a+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),a+=n.css,o&&(a+="}"),n.media&&(a+="}"),n.supports&&(a+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(a,t,e.options)}(e,t,n)},remove:function remove(){!function removeStyleElement(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},44589:t=>{"use strict";t.exports=function styleTagTransform(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},29217:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var a=n(25512);a.kL.register(...a.zX);const o=a.kL},25512:(t,e,n)=>{"use strict";function noop(){}n.d(e,{kL:()=>Chart,IQ:()=>Z,zX:()=>mt});const a=function(){let t=0;return function(){return t++}}();function isNullOrUndef(t){return null==t}function isArray(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function isObject(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}const isNumberFinite=t=>("number"==typeof t||t instanceof Number)&&isFinite(+t);function finiteOrDefault(t,e){return isNumberFinite(t)?t:e}function valueOrDefault(t,e){return void 0===t?e:t}const toDimension=(t,e)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function callback(t,e,n){if(t&&"function"==typeof t.call)return t.apply(n,e)}function each(t,e,n,a){let o,r,s;if(isArray(t))if(r=t.length,a)for(o=r-1;o>=0;o--)e.call(n,t[o],o);else for(o=0;o<r;o++)e.call(n,t[o],o);else if(isObject(t))for(s=Object.keys(t),r=s.length,o=0;o<r;o++)e.call(n,t[s[o]],s[o])}function _elementsEqual(t,e){let n,a,o,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,a=t.length;n<a;++n)if(o=t[n],r=e[n],o.datasetIndex!==r.datasetIndex||o.index!==r.index)return!1;return!0}function clone$1(t){if(isArray(t))return t.map(clone$1);if(isObject(t)){const e=Object.create(null),n=Object.keys(t),a=n.length;let o=0;for(;o<a;++o)e[n[o]]=clone$1(t[n[o]]);return e}return t}function isValidKey(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function _merger(t,e,n,a){if(!isValidKey(t))return;const o=e[t],r=n[t];isObject(o)&&isObject(r)?merge(o,r,a):e[t]=clone$1(r)}function merge(t,e,n){const a=isArray(e)?e:[e],o=a.length;if(!isObject(t))return t;const r=(n=n||{}).merger||_merger;for(let s=0;s<o;++s){if(!isObject(e=a[s]))continue;const o=Object.keys(e);for(let a=0,s=o.length;a<s;++a)r(o[a],t,e,n)}return t}function mergeIf(t,e){return merge(t,e,{merger:_mergerIf})}function _mergerIf(t,e,n){if(!isValidKey(t))return;const a=e[t],o=n[t];isObject(a)&&isObject(o)?mergeIf(a,o):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=clone$1(o))}const o={"":t=>t,x:t=>t.x,y:t=>t.y};function resolveObjectKey(t,e){const n=o[e]||(o[e]=function _getKeyResolver(t){const e=function _splitKey(t){const e=t.split("."),n=[];let a="";for(const t of e)a+=t,a.endsWith("\\")?a=a.slice(0,-1)+".":(n.push(a),a="");return n}(t);return t=>{for(const n of e){if(""===n)break;t=t&&t[n]}return t}}(e));return n(t)}function _capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)}const defined=t=>void 0!==t,isFunction=t=>"function"==typeof t,setsEqual=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};const r=Math.PI,s=2*r,l=s+r,c=Number.POSITIVE_INFINITY,d=r/180,u=r/2,h=r/4,p=2*r/3,g=Math.log10,m=Math.sign;function niceNum(t){const e=Math.round(t);t=almostEquals(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(g(t))),a=t/n;return(a<=1?1:a<=2?2:a<=5?5:10)*n}function isNumber(t){return!isNaN(parseFloat(t))&&isFinite(t)}function almostEquals(t,e,n){return Math.abs(t-e)<n}function _setMinAndMaxByKey(t,e,n){let a,o,r;for(a=0,o=t.length;a<o;a++)r=t[a][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function toRadians(t){return t*(r/180)}function toDegrees(t){return t*(180/r)}function _decimalPlaces(t){if(!isNumberFinite(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function getAngleFromPoint(t,e){const n=e.x-t.x,a=e.y-t.y,o=Math.sqrt(n*n+a*a);let l=Math.atan2(a,n);return l<-.5*r&&(l+=s),{angle:l,distance:o}}function distanceBetweenPoints(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function _angleDiff(t,e){return(t-e+l)%s-r}function _normalizeAngle(t){return(t%s+s)%s}function _angleBetween(t,e,n,a){const o=_normalizeAngle(t),r=_normalizeAngle(e),s=_normalizeAngle(n),l=_normalizeAngle(r-o),c=_normalizeAngle(s-o),d=_normalizeAngle(o-r),u=_normalizeAngle(o-s);return o===r||o===s||a&&r===s||l>c&&d<u}function _limitValue(t,e,n){return Math.max(e,Math.min(n,t))}function _isBetween(t,e,n,a=1e-6){return t>=Math.min(e,n)-a&&t<=Math.max(e,n)+a}function _lookup(t,e,n){n=n||(n=>t[n]<e);let a,o=t.length-1,r=0;for(;o-r>1;)a=r+o>>1,n(a)?r=a:o=a;return{lo:r,hi:o}}const _lookupByKey=(t,e,n,a)=>_lookup(t,n,a?a=>t[a][e]<=n:a=>t[a][e]<n),_rlookupByKey=(t,e,n)=>_lookup(t,n,(a=>t[a][e]>=n));const b=["push","pop","shift","splice","unshift"];function unlistenArrayEvents(t,e){const n=t._chartjs;if(!n)return;const a=n.listeners,o=a.indexOf(e);-1!==o&&a.splice(o,1),a.length>0||(b.forEach((e=>{delete t[e]})),delete t._chartjs)}function _arrayUnique(t){const e=new Set;let n,a;for(n=0,a=t.length;n<a;++n)e.add(t[n]);return e.size===a?t:Array.from(e)}const v="undefined"==typeof window?function(t){return t()}:window.requestAnimationFrame;function throttled(t,e,n){const a=n||(t=>Array.prototype.slice.call(t));let o=!1,r=[];return function(...n){r=a(n),o||(o=!0,v.call(window,(()=>{o=!1,t.apply(e,r)})))}}const _toLeftRightCenter=t=>"start"===t?"left":"end"===t?"right":"center",_alignStartEnd=(t,e,n)=>"start"===t?e:"end"===t?n:(e+n)/2;function _getStartAndCountOfVisiblePoints(t,e,n){const a=e.length;let o=0,r=a;if(t._sorted){const{iScale:s,_parsed:l}=t,c=s.axis,{min:d,max:u,minDefined:h,maxDefined:p}=s.getUserBounds();h&&(o=_limitValue(Math.min(_lookupByKey(l,s.axis,d).lo,n?a:_lookupByKey(e,c,s.getPixelForValue(d)).lo),0,a-1)),r=p?_limitValue(Math.max(_lookupByKey(l,s.axis,u,!0).hi+1,n?0:_lookupByKey(e,c,s.getPixelForValue(u),!0).hi+1),o,a)-o:a-o}return{start:o,count:r}}function _scaleRangesChanged(t){const{xScale:e,yScale:n,_scaleRanges:a}=t,o={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!a)return t._scaleRanges=o,!0;const r=a.xmin!==e.min||a.xmax!==e.max||a.ymin!==n.min||a.ymax!==n.max;return Object.assign(a,o),r}const atEdge=t=>0===t||1===t,elasticIn=(t,e,n)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*s/n),elasticOut=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*s/n)+1,y={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*u),easeOutSine:t=>Math.sin(t*u),easeInOutSine:t=>-.5*(Math.cos(r*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>atEdge(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>atEdge(t)?t:elasticIn(t,.075,.3),easeOutElastic:t=>atEdge(t)?t:elasticOut(t,.075,.3),easeInOutElastic(t){const e=.1125;return atEdge(t)?t:t<.5?.5*elasticIn(2*t,e,.45):.5+.5*elasticOut(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-y.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:t=>t<.5?.5*y.easeInBounce(2*t):.5*y.easeOutBounce(2*t-1)+.5};function round(t){return t+.5|0}const lim=(t,e,n)=>Math.max(Math.min(t,n),e);function p2b(t){return lim(round(2.55*t),0,255)}function n2b(t){return lim(round(255*t),0,255)}function b2n(t){return lim(round(t/2.55)/100,0,1)}function n2p(t){return lim(round(100*t),0,100)}const x={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},_=[..."0123456789ABCDEF"],h1=t=>_[15&t],h2=t=>_[(240&t)>>4]+_[15&t],eq=t=>(240&t)>>4==(15&t);function hexString(t){var e=(t=>eq(t.r)&&eq(t.g)&&eq(t.b)&&eq(t.a))(t)?h1:h2;return t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):void 0}const O=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(t,e,n){const a=e*Math.min(n,1-n),f=(e,o=(e+t/30)%12)=>n-a*Math.max(Math.min(o-3,9-o,1),-1);return[f(0),f(8),f(4)]}function hsv2rgbn(t,e,n){const f=(a,o=(a+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[f(5),f(3),f(1)]}function hwb2rgbn(t,e,n){const a=hsl2rgbn(t,1,.5);let o;for(e+n>1&&(o=1/(e+n),e*=o,n*=o),o=0;o<3;o++)a[o]*=1-e-n,a[o]+=e;return a}function rgb2hsl(t){const e=t.r/255,n=t.g/255,a=t.b/255,o=Math.max(e,n,a),r=Math.min(e,n,a),s=(o+r)/2;let l,c,d;return o!==r&&(d=o-r,c=s>.5?d/(2-o-r):d/(o+r),l=function hueValue(t,e,n,a,o){return t===o?(e-n)/a+(e<n?6:0):e===o?(n-t)/a+2:(t-e)/a+4}(e,n,a,d,o),l=60*l+.5),[0|l,c||0,s]}function calln(t,e,n,a){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,a)).map(n2b)}function hsl2rgb(t,e,n){return calln(hsl2rgbn,t,e,n)}function hue(t){return(t%360+360)%360}function hueParse(t){const e=O.exec(t);let n,a=255;if(!e)return;e[5]!==n&&(a=e[6]?p2b(+e[5]):n2b(+e[5]));const o=hue(+e[2]),r=+e[3]/100,s=+e[4]/100;return n="hwb"===e[1]?function hwb2rgb(t,e,n){return calln(hwb2rgbn,t,e,n)}(o,r,s):"hsv"===e[1]?function hsv2rgb(t,e,n){return calln(hsv2rgbn,t,e,n)}(o,r,s):hsl2rgb(o,r,s),{r:n[0],g:n[1],b:n[2],a}}const S={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},w={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let P;function nameParse(t){P||(P=function unpack(){const t={},e=Object.keys(w),n=Object.keys(S);let a,o,r,s,l;for(a=0;a<e.length;a++){for(s=l=e[a],o=0;o<n.length;o++)r=n[o],l=l.replace(r,S[r]);r=parseInt(w[s],16),t[l]=[r>>16&255,r>>8&255,255&r]}return t}(),P.transparent=[0,0,0,0]);const e=P[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const C=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const to=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,from=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function modHSL(t,e,n){if(t){let a=rgb2hsl(t);a[e]=Math.max(0,Math.min(a[e]+a[e]*n,0===e?360:1)),a=hsl2rgb(a),t.r=a[0],t.g=a[1],t.b=a[2]}}function clone(t,e){return t?Object.assign(e||{},t):t}function fromObject(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=n2b(t[3]))):(e=clone(t,{r:0,g:0,b:0,a:1})).a=n2b(e.a),e}function functionParse(t){return"r"===t.charAt(0)?function rgbParse(t){const e=C.exec(t);let n,a,o,r=255;if(e){if(e[7]!==n){const t=+e[7];r=e[8]?p2b(t):lim(255*t,0,255)}return n=+e[1],a=+e[3],o=+e[5],n=255&(e[2]?p2b(n):lim(n,0,255)),a=255&(e[4]?p2b(a):lim(a,0,255)),o=255&(e[6]?p2b(o):lim(o,0,255)),{r:n,g:a,b:o,a:r}}}(t):hueParse(t)}class Color{constructor(t){if(t instanceof Color)return t;const e=typeof t;let n;"object"===e?n=fromObject(t):"string"===e&&(n=function hexParse(t){var e,n=t.length;return"#"===t[0]&&(4===n||5===n?e={r:255&17*x[t[1]],g:255&17*x[t[2]],b:255&17*x[t[3]],a:5===n?17*x[t[4]]:255}:7!==n&&9!==n||(e={r:x[t[1]]<<4|x[t[2]],g:x[t[3]]<<4|x[t[4]],b:x[t[5]]<<4|x[t[6]],a:9===n?x[t[7]]<<4|x[t[8]]:255})),e}(t)||nameParse(t)||functionParse(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=clone(this._rgb);return t&&(t.a=b2n(t.a)),t}set rgb(t){this._rgb=fromObject(t)}rgbString(){return this._valid?function rgbString(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${b2n(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}(this._rgb):void 0}hexString(){return this._valid?hexString(this._rgb):void 0}hslString(){return this._valid?function hslString(t){if(!t)return;const e=rgb2hsl(t),n=e[0],a=n2p(e[1]),o=n2p(e[2]);return t.a<255?`hsla(${n}, ${a}%, ${o}%, ${b2n(t.a)})`:`hsl(${n}, ${a}%, ${o}%)`}(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,a=t.rgb;let o;const r=e===o?.5:e,s=2*r-1,l=n.a-a.a,c=((s*l==-1?s:(s+l)/(1+s*l))+1)/2;o=1-c,n.r=255&c*n.r+o*a.r+.5,n.g=255&c*n.g+o*a.g+.5,n.b=255&c*n.b+o*a.b+.5,n.a=r*n.a+(1-r)*a.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=function interpolate(t,e,n){const a=from(b2n(t.r)),o=from(b2n(t.g)),r=from(b2n(t.b));return{r:n2b(to(a+n*(from(b2n(e.r))-a))),g:n2b(to(o+n*(from(b2n(e.g))-o))),b:n2b(to(r+n*(from(b2n(e.b))-r))),a:t.a+n*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new Color(this.rgb)}alpha(t){return this._rgb.a=n2b(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=round(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return modHSL(this._rgb,2,t),this}darken(t){return modHSL(this._rgb,2,-t),this}saturate(t){return modHSL(this._rgb,1,t),this}desaturate(t){return modHSL(this._rgb,1,-t),this}rotate(t){return function rotate(t,e){var n=rgb2hsl(t);n[0]=hue(n[0]+e),n=hsl2rgb(n),t.r=n[0],t.g=n[1],t.b=n[2]}(this._rgb,t),this}}function index_esm(t){return new Color(t)}function isPatternOrGradient(t){if(t&&"object"==typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function color(t){return isPatternOrGradient(t)?t:index_esm(t)}function getHoverColor(t){return isPatternOrGradient(t)?t:index_esm(t).saturate(.5).darken(.1).hexString()}const E=Object.create(null),k=Object.create(null);function getScope$1(t,e){if(!e)return t;const n=e.split(".");for(let e=0,a=n.length;e<a;++e){const a=n[e];t=t[a]||(t[a]=Object.create(null))}return t}function set(t,e,n){return"string"==typeof e?merge(getScope$1(t,e),n):merge(getScope$1(t,""),e)}var M=new class Defaults{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>getHoverColor(e.backgroundColor),this.hoverBorderColor=(t,e)=>getHoverColor(e.borderColor),this.hoverColor=(t,e)=>getHoverColor(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,e){return set(this,t,e)}get(t){return getScope$1(this,t)}describe(t,e){return set(k,t,e)}override(t,e){return set(E,t,e)}route(t,e,n,a){const o=getScope$1(this,t),r=getScope$1(this,n),s="_"+e;Object.defineProperties(o,{[s]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[s],e=r[a];return isObject(t)?Object.assign({},e,t):valueOrDefault(t,e)},set(t){this[s]=t}}})}}({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function _measureText(t,e,n,a,o){let r=e[o];return r||(r=e[o]=t.measureText(o).width,n.push(o)),r>a&&(a=r),a}function _longestText(t,e,n,a){let o=(a=a||{}).data=a.data||{},r=a.garbageCollect=a.garbageCollect||[];a.font!==e&&(o=a.data={},r=a.garbageCollect=[],a.font=e),t.save(),t.font=e;let s=0;const l=n.length;let c,d,u,h,p;for(c=0;c<l;c++)if(h=n[c],null!=h&&!0!==isArray(h))s=_measureText(t,o,r,s,h);else if(isArray(h))for(d=0,u=h.length;d<u;d++)p=h[d],null==p||isArray(p)||(s=_measureText(t,o,r,s,p));t.restore();const g=r.length/2;if(g>n.length){for(c=0;c<g;c++)delete o[r[c]];r.splice(0,g)}return s}function _alignPixel(t,e,n){const a=t.currentDevicePixelRatio,o=0!==n?Math.max(n/2,.5):0;return Math.round((e-o)*a)/a+o}function clearCanvas(t,e){(e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function drawPoint(t,e,n,a){drawPointLegend(t,e,n,a,null)}function drawPointLegend(t,e,n,a,o){let l,c,g,m,b,v;const y=e.pointStyle,x=e.rotation,_=e.radius;let O=(x||0)*d;if(y&&"object"==typeof y&&(l=y.toString(),"[object HTMLImageElement]"===l||"[object HTMLCanvasElement]"===l))return t.save(),t.translate(n,a),t.rotate(O),t.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),void t.restore();if(!(isNaN(_)||_<=0)){switch(t.beginPath(),y){default:o?t.ellipse(n,a,o/2,_,0,0,s):t.arc(n,a,_,0,s),t.closePath();break;case"triangle":t.moveTo(n+Math.sin(O)*_,a-Math.cos(O)*_),O+=p,t.lineTo(n+Math.sin(O)*_,a-Math.cos(O)*_),O+=p,t.lineTo(n+Math.sin(O)*_,a-Math.cos(O)*_),t.closePath();break;case"rectRounded":b=.516*_,m=_-b,c=Math.cos(O+h)*m,g=Math.sin(O+h)*m,t.arc(n-c,a-g,b,O-r,O-u),t.arc(n+g,a-c,b,O-u,O),t.arc(n+c,a+g,b,O,O+u),t.arc(n-g,a+c,b,O+u,O+r),t.closePath();break;case"rect":if(!x){m=Math.SQRT1_2*_,v=o?o/2:m,t.rect(n-v,a-m,2*v,2*m);break}O+=h;case"rectRot":c=Math.cos(O)*_,g=Math.sin(O)*_,t.moveTo(n-c,a-g),t.lineTo(n+g,a-c),t.lineTo(n+c,a+g),t.lineTo(n-g,a+c),t.closePath();break;case"crossRot":O+=h;case"cross":c=Math.cos(O)*_,g=Math.sin(O)*_,t.moveTo(n-c,a-g),t.lineTo(n+c,a+g),t.moveTo(n+g,a-c),t.lineTo(n-g,a+c);break;case"star":c=Math.cos(O)*_,g=Math.sin(O)*_,t.moveTo(n-c,a-g),t.lineTo(n+c,a+g),t.moveTo(n+g,a-c),t.lineTo(n-g,a+c),O+=h,c=Math.cos(O)*_,g=Math.sin(O)*_,t.moveTo(n-c,a-g),t.lineTo(n+c,a+g),t.moveTo(n+g,a-c),t.lineTo(n-g,a+c);break;case"line":c=o?o/2:Math.cos(O)*_,g=Math.sin(O)*_,t.moveTo(n-c,a-g),t.lineTo(n+c,a+g);break;case"dash":t.moveTo(n,a),t.lineTo(n+Math.cos(O)*_,a+Math.sin(O)*_)}t.fill(),e.borderWidth>0&&t.stroke()}}function _isPointInArea(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function clipArea(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function unclipArea(t){t.restore()}function _steppedLineTo(t,e,n,a,o){if(!e)return t.lineTo(n.x,n.y);if("middle"===o){const a=(e.x+n.x)/2;t.lineTo(a,e.y),t.lineTo(a,n.y)}else"after"===o!=!!a?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function _bezierCurveTo(t,e,n,a){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(a?e.cp1x:e.cp2x,a?e.cp1y:e.cp2y,a?n.cp2x:n.cp1x,a?n.cp2y:n.cp1y,n.x,n.y)}function renderText(t,e,n,a,o,r={}){const s=isArray(e)?e:[e],l=r.strokeWidth>0&&""!==r.strokeColor;let c,d;for(t.save(),t.font=o.string,function setRenderOpts(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]);isNullOrUndef(e.rotation)||t.rotate(e.rotation);e.color&&(t.fillStyle=e.color);e.textAlign&&(t.textAlign=e.textAlign);e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,r),c=0;c<s.length;++c)d=s[c],l&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),isNullOrUndef(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(d,n,a,r.maxWidth)),t.fillText(d,n,a,r.maxWidth),decorateText(t,n,a,d,r),a+=o.lineHeight;t.restore()}function decorateText(t,e,n,a,o){if(o.strikethrough||o.underline){const r=t.measureText(a),s=e-r.actualBoundingBoxLeft,l=e+r.actualBoundingBoxRight,c=n-r.actualBoundingBoxAscent,d=n+r.actualBoundingBoxDescent,u=o.strikethrough?(c+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=o.decorationWidth||2,t.moveTo(s,u),t.lineTo(l,u),t.stroke()}}function addRoundedRectPath(t,e){const{x:n,y:a,w:o,h:s,radius:l}=e;t.arc(n+l.topLeft,a+l.topLeft,l.topLeft,-u,r,!0),t.lineTo(n,a+s-l.bottomLeft),t.arc(n+l.bottomLeft,a+s-l.bottomLeft,l.bottomLeft,r,u,!0),t.lineTo(n+o-l.bottomRight,a+s),t.arc(n+o-l.bottomRight,a+s-l.bottomRight,l.bottomRight,u,0,!0),t.lineTo(n+o,a+l.topRight),t.arc(n+o-l.topRight,a+l.topRight,l.topRight,0,-u,!0),t.lineTo(n+l.topLeft,a)}const D=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),T=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function toLineHeight(t,e){const n=(""+t).match(D);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t}function _readValueToProps(t,e){const n={},a=isObject(e),o=a?Object.keys(e):e,r=isObject(t)?a?n=>valueOrDefault(t[n],t[e[n]]):e=>t[e]:()=>t;for(const t of o)n[t]=+r(t)||0;return n}function toTRBL(t){return _readValueToProps(t,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(t){return _readValueToProps(t,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(t){const e=toTRBL(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function toFont(t,e){t=t||{},e=e||M.font;let n=valueOrDefault(t.size,e.size);"string"==typeof n&&(n=parseInt(n,10));let a=valueOrDefault(t.style,e.style);a&&!(""+a).match(T)&&(console.warn('Invalid font style specified: "'+a+'"'),a="");const o={family:valueOrDefault(t.family,e.family),lineHeight:toLineHeight(valueOrDefault(t.lineHeight,e.lineHeight),n),size:n,style:a,weight:valueOrDefault(t.weight,e.weight),string:""};return o.string=function toFontString(t){return!t||isNullOrUndef(t.size)||isNullOrUndef(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(o),o}function resolve(t,e,n,a){let o,r,s,l=!0;for(o=0,r=t.length;o<r;++o)if(s=t[o],void 0!==s&&(void 0!==e&&"function"==typeof s&&(s=s(e),l=!1),void 0!==n&&isArray(s)&&(s=s[n%s.length],l=!1),void 0!==s))return a&&!l&&(a.cacheable=!1),s}function createContext(t,e){return Object.assign(Object.create(t),e)}function _createResolver(t,e=[""],n=t,a,o=(()=>t[0])){defined(a)||(a=_resolve("_fallback",t));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:n,_fallback:a,_getTarget:o,override:o=>_createResolver([o,...t],e,n,a)};return new Proxy(r,{deleteProperty:(e,n)=>(delete e[n],delete e._keys,delete t[0][n],!0),get:(n,a)=>_cached(n,a,(()=>function _resolveWithPrefixes(t,e,n,a){let o;for(const r of e)if(o=_resolve(readKey(r,t),n),defined(o))return needsSubResolver(t,o)?createSubResolver(n,a,t,o):o}(a,e,t,n))),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>getKeysFromAllScopes(t).includes(e),ownKeys:t=>getKeysFromAllScopes(t),set(t,e,n){const a=t._storage||(t._storage=o());return t[e]=a[e]=n,delete t._keys,!0}})}function _attachContext(t,e,n,a){const o={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:_descriptors(t,a),setContext:e=>_attachContext(t,e,n,a),override:o=>_attachContext(t.override(o),e,n,a)};return new Proxy(o,{deleteProperty:(e,n)=>(delete e[n],delete t[n],!0),get:(t,e,n)=>_cached(t,e,(()=>function _resolveWithContext(t,e,n){const{_proxy:a,_context:o,_subProxy:r,_descriptors:s}=t;let l=a[e];isFunction(l)&&s.isScriptable(e)&&(l=function _resolveScriptable(t,e,n,a){const{_proxy:o,_context:r,_subProxy:s,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t),e=e(r,s||a),l.delete(t),needsSubResolver(t,e)&&(e=createSubResolver(o._scopes,o,t,e));return e}(e,l,t,n));isArray(l)&&l.length&&(l=function _resolveArray(t,e,n,a){const{_proxy:o,_context:r,_subProxy:s,_descriptors:l}=n;if(defined(r.index)&&a(t))e=e[r.index%e.length];else if(isObject(e[0])){const n=e,a=o._scopes.filter((t=>t!==n));e=[];for(const c of n){const n=createSubResolver(a,o,t,c);e.push(_attachContext(n,r,s&&s[t],l))}}return e}(e,l,t,s.isIndexable));needsSubResolver(e,l)&&(l=_attachContext(l,o,r&&r[e],s));return l}(t,e,n))),getOwnPropertyDescriptor:(e,n)=>e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,n)=>Reflect.has(t,n),ownKeys:()=>Reflect.ownKeys(t),set:(e,n,a)=>(t[n]=a,delete e[n],!0)})}function _descriptors(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:a=e.indexable,_allKeys:o=e.allKeys}=t;return{allKeys:o,scriptable:n,indexable:a,isScriptable:isFunction(n)?n:()=>n,isIndexable:isFunction(a)?a:()=>a}}const readKey=(t,e)=>t?t+_capitalize(e):e,needsSubResolver=(t,e)=>isObject(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function _cached(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const a=n();return t[e]=a,a}function resolveFallback(t,e,n){return isFunction(t)?t(e,n):t}const getScope=(t,e)=>!0===t?e:"string"==typeof t?resolveObjectKey(e,t):void 0;function addScopes(t,e,n,a,o){for(const r of e){const e=getScope(n,r);if(e){t.add(e);const r=resolveFallback(e._fallback,n,o);if(defined(r)&&r!==n&&r!==a)return r}else if(!1===e&&defined(a)&&n!==a)return null}return!1}function createSubResolver(t,e,n,a){const o=e._rootScopes,r=resolveFallback(e._fallback,n,a),s=[...t,...o],l=new Set;l.add(a);let c=addScopesFromKey(l,s,n,r||n,a);return null!==c&&((!defined(r)||r===n||(c=addScopesFromKey(l,s,r,c,a),null!==c))&&_createResolver(Array.from(l),[""],o,r,(()=>function subGetTarget(t,e,n){const a=t._getTarget();e in a||(a[e]={});const o=a[e];if(isArray(o)&&isObject(n))return n;return o}(e,n,a))))}function addScopesFromKey(t,e,n,a,o){for(;n;)n=addScopes(t,e,n,a,o);return n}function _resolve(t,e){for(const n of e){if(!n)continue;const e=n[t];if(defined(e))return e}}function getKeysFromAllScopes(t){let e=t._keys;return e||(e=t._keys=function resolveKeysFromAllScopes(t){const e=new Set;for(const n of t)for(const t of Object.keys(n).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}(t._scopes)),e}function _parseObjectDataRadialScale(t,e,n,a){const{iScale:o}=t,{key:r="r"}=this._parsing,s=new Array(a);let l,c,d,u;for(l=0,c=a;l<c;++l)d=l+n,u=e[d],s[l]={r:o.parse(resolveObjectKey(u,r),d)};return s}const A=Number.EPSILON||1e-14,getPoint=(t,e)=>e<t.length&&!t[e].skip&&t[e],getValueAxis=t=>"x"===t?"y":"x";function splineCurve(t,e,n,a){const o=t.skip?e:t,r=e,s=n.skip?e:n,l=distanceBetweenPoints(r,o),c=distanceBetweenPoints(s,r);let d=l/(l+c),u=c/(l+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const h=a*d,p=a*u;return{previous:{x:r.x-h*(s.x-o.x),y:r.y-h*(s.y-o.y)},next:{x:r.x+p*(s.x-o.x),y:r.y+p*(s.y-o.y)}}}function splineCurveMonotone(t,e="x"){const n=getValueAxis(e),a=t.length,o=Array(a).fill(0),r=Array(a);let s,l,c,d=getPoint(t,0);for(s=0;s<a;++s)if(l=c,c=d,d=getPoint(t,s+1),c){if(d){const t=d[e]-c[e];o[s]=0!==t?(d[n]-c[n])/t:0}r[s]=l?d?m(o[s-1])!==m(o[s])?0:(o[s-1]+o[s])/2:o[s-1]:o[s]}!function monotoneAdjust(t,e,n){const a=t.length;let o,r,s,l,c,d=getPoint(t,0);for(let u=0;u<a-1;++u)c=d,d=getPoint(t,u+1),c&&d&&(almostEquals(e[u],0,A)?n[u]=n[u+1]=0:(o=n[u]/e[u],r=n[u+1]/e[u],l=Math.pow(o,2)+Math.pow(r,2),l<=9||(s=3/Math.sqrt(l),n[u]=o*s*e[u],n[u+1]=r*s*e[u])))}(t,o,r),function monotoneCompute(t,e,n="x"){const a=getValueAxis(n),o=t.length;let r,s,l,c=getPoint(t,0);for(let d=0;d<o;++d){if(s=l,l=c,c=getPoint(t,d+1),!l)continue;const o=l[n],u=l[a];s&&(r=(o-s[n])/3,l[`cp1${n}`]=o-r,l[`cp1${a}`]=u-r*e[d]),c&&(r=(c[n]-o)/3,l[`cp2${n}`]=o+r,l[`cp2${a}`]=u+r*e[d])}}(t,r,e)}function capControlPoint(t,e,n){return Math.max(Math.min(t,n),e)}function _updateBezierControlPoints(t,e,n,a,o){let r,s,l,c;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===e.cubicInterpolationMode)splineCurveMonotone(t,o);else{let n=a?t[t.length-1]:t[0];for(r=0,s=t.length;r<s;++r)l=t[r],c=splineCurve(n,l,t[Math.min(r+1,s-(a?0:1))%s],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,n=l}e.capBezierPoints&&function capBezierPoints(t,e){let n,a,o,r,s,l=_isPointInArea(t[0],e);for(n=0,a=t.length;n<a;++n)s=r,r=l,l=n<a-1&&_isPointInArea(t[n+1],e),r&&(o=t[n],s&&(o.cp1x=capControlPoint(o.cp1x,e.left,e.right),o.cp1y=capControlPoint(o.cp1y,e.top,e.bottom)),l&&(o.cp2x=capControlPoint(o.cp2x,e.left,e.right),o.cp2y=capControlPoint(o.cp2y,e.top,e.bottom)))}(t,n)}function _isDomSupported(){return"undefined"!=typeof window&&"undefined"!=typeof document}function _getParentNode(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function parseMaxStyle(t,e,n){let a;return"string"==typeof t?(a=parseInt(t,10),-1!==t.indexOf("%")&&(a=a/100*e.parentNode[n])):a=t,a}const getComputedStyle=t=>window.getComputedStyle(t,null);const j=["top","right","bottom","left"];function getPositionedStyle(t,e,n){const a={};n=n?"-"+n:"";for(let o=0;o<4;o++){const r=j[o];a[r]=parseFloat(t[e+"-"+r+n])||0}return a.width=a.left+a.right,a.height=a.top+a.bottom,a}function getRelativePosition(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:a}=e,o=getComputedStyle(n),r="border-box"===o.boxSizing,s=getPositionedStyle(o,"padding"),l=getPositionedStyle(o,"border","width"),{x:c,y:d,box:u}=function getCanvasPosition(t,e){const n=t.touches,a=n&&n.length?n[0]:t,{offsetX:o,offsetY:r}=a;let s,l,c=!1;if(((t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot))(o,r,t.target))s=o,l=r;else{const t=e.getBoundingClientRect();s=a.clientX-t.left,l=a.clientY-t.top,c=!0}return{x:s,y:l,box:c}}(t,n),h=s.left+(u&&l.left),p=s.top+(u&&l.top);let{width:g,height:m}=e;return r&&(g-=s.width+l.width,m-=s.height+l.height),{x:Math.round((c-h)/g*n.width/a),y:Math.round((d-p)/m*n.height/a)}}const round1=t=>Math.round(10*t)/10;function getMaximumSize(t,e,n,a){const o=getComputedStyle(t),r=getPositionedStyle(o,"margin"),s=parseMaxStyle(o.maxWidth,t,"clientWidth")||c,l=parseMaxStyle(o.maxHeight,t,"clientHeight")||c,d=function getContainerSize(t,e,n){let a,o;if(void 0===e||void 0===n){const r=_getParentNode(t);if(r){const t=r.getBoundingClientRect(),s=getComputedStyle(r),l=getPositionedStyle(s,"border","width"),c=getPositionedStyle(s,"padding");e=t.width-c.width-l.width,n=t.height-c.height-l.height,a=parseMaxStyle(s.maxWidth,r,"clientWidth"),o=parseMaxStyle(s.maxHeight,r,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:a||c,maxHeight:o||c}}(t,e,n);let{width:u,height:h}=d;if("content-box"===o.boxSizing){const t=getPositionedStyle(o,"border","width"),e=getPositionedStyle(o,"padding");u-=e.width+t.width,h-=e.height+t.height}return u=Math.max(0,u-r.width),h=Math.max(0,a?Math.floor(u/a):h-r.height),u=round1(Math.min(u,s,d.maxWidth)),h=round1(Math.min(h,l,d.maxHeight)),u&&!h&&(h=round1(u/2)),{width:u,height:h}}function retinaScale(t,e,n){const a=e||1,o=Math.floor(t.height*a),r=Math.floor(t.width*a);t.height=o/a,t.width=r/a;const s=t.canvas;return s.style&&(n||!s.style.height&&!s.style.width)&&(s.style.height=`${t.height}px`,s.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==a||s.height!==o||s.width!==r)&&(t.currentDevicePixelRatio=a,s.height=o,s.width=r,t.ctx.setTransform(a,0,0,a,0,0),!0)}const I=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(t){}return t}();function readUsedSize(t,e){const n=function getStyle(t,e){return getComputedStyle(t).getPropertyValue(e)}(t,e),a=n&&n.match(/^(\d+)(\.\d+)?px$/);return a?+a[1]:void 0}function _pointInLine(t,e,n,a){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function _steppedInterpolation(t,e,n,a){return{x:t.x+n*(e.x-t.x),y:"middle"===a?n<.5?t.y:e.y:"after"===a?n<1?t.y:e.y:n>0?e.y:t.y}}function _bezierInterpolation(t,e,n,a){const o={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},s=_pointInLine(t,o,n),l=_pointInLine(o,r,n),c=_pointInLine(r,e,n),d=_pointInLine(s,l,n),u=_pointInLine(l,c,n);return _pointInLine(d,u,n)}const L=new Map;function formatNumber(t,e,n){return function getNumberFormat(t,e){e=e||{};const n=t+JSON.stringify(e);let a=L.get(n);return a||(a=new Intl.NumberFormat(t,e),L.set(n,a)),a}(e,n).format(t)}function getRtlAdapter(t,e,n){return t?function(t,e){return{x:n=>t+t+e-n,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,n):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function overrideTextDirection(t,e){let n,a;"ltr"!==e&&"rtl"!==e||(n=t.canvas.style,a=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=a)}function restoreTextDirection(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function propertyFn(t){return"angle"===t?{between:_angleBetween,compare:_angleDiff,normalize:_normalizeAngle}:{between:_isBetween,compare:(t,e)=>t-e,normalize:t=>t}}function normalizeSegment({start:t,end:e,count:n,loop:a,style:o}){return{start:t%n,end:e%n,loop:a&&(e-t+1)%n==0,style:o}}function _boundSegment(t,e,n){if(!n)return[t];const{property:a,start:o,end:r}=n,s=e.length,{compare:l,between:c,normalize:d}=propertyFn(a),{start:u,end:h,loop:p,style:g}=function getSegment(t,e,n){const{property:a,start:o,end:r}=n,{between:s,normalize:l}=propertyFn(a),c=e.length;let d,u,{start:h,end:p,loop:g}=t;if(g){for(h+=c,p+=c,d=0,u=c;d<u&&s(l(e[h%c][a]),o,r);++d)h--,p--;h%=c,p%=c}return p<h&&(p+=c),{start:h,end:p,loop:g,style:t.style}}(t,e,n),m=[];let b,v,y,x=!1,_=null;const shouldStart=()=>x||c(o,y,b)&&0!==l(o,y),shouldStop=()=>!x||0===l(r,b)||c(r,y,b);for(let t=u,n=u;t<=h;++t)v=e[t%s],v.skip||(b=d(v[a]),b!==y&&(x=c(b,o,r),null===_&&shouldStart()&&(_=0===l(b,o)?t:n),null!==_&&shouldStop()&&(m.push(normalizeSegment({start:_,end:t,loop:p,count:s,style:g})),_=null),n=t,y=b));return null!==_&&m.push(normalizeSegment({start:_,end:h,loop:p,count:s,style:g})),m}function _boundSegments(t,e){const n=[],a=t.segments;for(let o=0;o<a.length;o++){const r=_boundSegment(a[o],t.points,e);r.length&&n.push(...r)}return n}function splitByStyles(t,e,n,a){return a&&a.setContext&&n?function doSplitByStyles(t,e,n,a){const o=t._chart.getContext(),r=readStyle(t.options),{_datasetIndex:s,options:{spanGaps:l}}=t,c=n.length,d=[];let u=r,h=e[0].start,p=h;function addStyle(t,e,a,o){const r=l?-1:1;if(t!==e){for(t+=c;n[t%c].skip;)t-=r;for(;n[e%c].skip;)e+=r;t%c!=e%c&&(d.push({start:t%c,end:e%c,loop:a,style:o}),u=o,h=e%c)}}for(const t of e){h=l?h:t.start;let e,r=n[h%c];for(p=h+1;p<=t.end;p++){const l=n[p%c];e=readStyle(a.setContext(createContext(o,{type:"segment",p0:r,p1:l,p0DataIndex:(p-1)%c,p1DataIndex:p%c,datasetIndex:s}))),styleChanged(e,u)&&addStyle(h,p-1,t.loop,u),r=l,u=e}h<p-1&&addStyle(h,p-1,t.loop,u)}return d}(t,e,n,a):e}function readStyle(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function styleChanged(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}var N=new class Animator{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,a){const o=e.listeners[a],r=e.duration;o.forEach((a=>a({chart:t,initial:e.initial,numSteps:r,currentStep:Math.min(n-e.start,r)})))}_refresh(){this._request||(this._running=!0,this._request=v.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(t=Date.now()){let e=0;this._charts.forEach(((n,a)=>{if(!n.running||!n.items.length)return;const o=n.items;let r,s=o.length-1,l=!1;for(;s>=0;--s)r=o[s],r._active?(r._total>n.duration&&(n.duration=r._total),r.tick(t),l=!0):(o[s]=o[o.length-1],o.pop());l&&(a.draw(),this._notify(a,n,t,"progress")),o.length||(n.running=!1,this._notify(a,n,t,"complete"),n.initial=!1),e+=o.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}};const R="transparent",z={boolean:(t,e,n)=>n>.5?e:t,color(t,e,n){const a=color(t||R),o=a.valid&&color(e||R);return o&&o.valid?o.mix(a,n).hexString():e},number:(t,e,n)=>t+(e-t)*n};class Animation{constructor(t,e,n,a){const o=e[n];a=resolve([t.to,a,o,t.from]);const r=resolve([t.from,o,a]);this._active=!0,this._fn=t.fn||z[t.type||typeof r],this._easing=y[t.easing]||y.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=r,this._to=a,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const a=this._target[this._prop],o=n-this._start,r=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(r,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=resolve([t.to,e,a,t.from]),this._from=resolve([t.from,a,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,a=this._prop,o=this._from,r=this._loop,s=this._to;let l;if(this._active=o!==s&&(r||e<n),!this._active)return this._target[a]=s,void this._notify(!0);e<0?this._target[a]=o:(l=e/n%2,l=r&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[a]=this._fn(o,s,l))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,n)=>{t.push({res:e,rej:n})}))}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let t=0;t<n.length;t++)n[t][e]()}}M.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const B=Object.keys(M.animation);M.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),M.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),M.describe("animations",{_fallback:"animation"}),M.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}});class Animations{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!isObject(t))return;const e=this._properties;Object.getOwnPropertyNames(t).forEach((n=>{const a=t[n];if(!isObject(a))return;const o={};for(const t of B)o[t]=a[t];(isArray(a.properties)&&a.properties||[n]).forEach((t=>{t!==n&&e.has(t)||e.set(t,o)}))}))}_animateOptions(t,e){const n=e.options,a=function resolveTargetOptions(t,e){if(!e)return;let n=t.options;if(!n)return void(t.options=e);n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(t,n);if(!a)return[];const o=this._createAnimations(a,n);return n.$shared&&function awaitAll(t,e){const n=[],a=Object.keys(e);for(let e=0;e<a.length;e++){const o=t[a[e]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}(t.options.$animations,n).then((()=>{t.options=n}),(()=>{})),o}_createAnimations(t,e){const n=this._properties,a=[],o=t.$animations||(t.$animations={}),r=Object.keys(e),s=Date.now();let l;for(l=r.length-1;l>=0;--l){const c=r[l];if("$"===c.charAt(0))continue;if("options"===c){a.push(...this._animateOptions(t,e));continue}const d=e[c];let u=o[c];const h=n.get(c);if(u){if(h&&u.active()){u.update(h,d,s);continue}u.cancel()}h&&h.duration?(o[c]=u=new Animation(h,t,c,d),a.push(u)):t[c]=d}return a}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(N.add(this._chart,n),!0):void 0}}function scaleClip(t,e){const n=t&&t.options||{},a=n.reverse,o=void 0===n.min?e:0,r=void 0===n.max?e:0;return{start:a?r:o,end:a?o:r}}function getSortedDatasetIndices(t,e){const n=[],a=t._getSortedDatasetMetas(e);let o,r;for(o=0,r=a.length;o<r;++o)n.push(a[o].index);return n}function applyStack(t,e,n,a={}){const o=t.keys,r="single"===a.mode;let s,l,c,d;if(null!==e){for(s=0,l=o.length;s<l;++s){if(c=+o[s],c===n){if(a.all)continue;break}d=t.values[c],isNumberFinite(d)&&(r||0===e||m(e)===m(d))&&(e+=d)}return e}}function isStacked(t,e){const n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function getOrCreateStack(t,e,n){const a=t[e]||(t[e]={});return a[n]||(a[n]={})}function getLastIndexInStack(t,e,n,a){for(const o of e.getMatchingVisibleMetas(a).reverse()){const e=t[o.index];if(n&&e>0||!n&&e<0)return o.index}return null}function updateStacks(t,e){const{chart:n,_cachedMeta:a}=t,o=n._stacks||(n._stacks={}),{iScale:r,vScale:s,index:l}=a,c=r.axis,d=s.axis,u=function getStackKey(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}(r,s,a),h=e.length;let p;for(let t=0;t<h;++t){const n=e[t],{[c]:r,[d]:h}=n;p=(n._stacks||(n._stacks={}))[d]=getOrCreateStack(o,u,r),p[l]=h,p._top=getLastIndexInStack(p,s,!0,a.type),p._bottom=getLastIndexInStack(p,s,!1,a.type)}}function getFirstScaleId(t,e){const n=t.scales;return Object.keys(n).filter((t=>n[t].axis===e)).shift()}function clearStacks(t,e){const n=t.controller.index,a=t.vScale&&t.vScale.axis;if(a){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[a]||void 0===e[a][n])return;delete e[a][n]}}}const isDirectUpdateMode=t=>"reset"===t||"none"===t,cloneIfNotShared=(t,e)=>e?t:Object.assign({},t);class DatasetController{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=isStacked(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&clearStacks(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),chooseId=(t,e,n,a)=>"x"===t?e:"r"===t?a:n,a=e.xAxisID=valueOrDefault(n.xAxisID,getFirstScaleId(t,"x")),o=e.yAxisID=valueOrDefault(n.yAxisID,getFirstScaleId(t,"y")),r=e.rAxisID=valueOrDefault(n.rAxisID,getFirstScaleId(t,"r")),s=e.indexAxis,l=e.iAxisID=chooseId(s,a,o,r),c=e.vAxisID=chooseId(s,o,a,r);e.xScale=this.getScaleForId(a),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(r),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&unlistenArrayEvents(this._data,this),t._stacked&&clearStacks(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(isObject(e))this._data=function convertObjectDataToArray(t){const e=Object.keys(t),n=new Array(e.length);let a,o,r;for(a=0,o=e.length;a<o;++a)r=e[a],n[a]={x:r,y:t[r]};return n}(e);else if(n!==e){if(n){unlistenArrayEvents(n,this);const t=this._cachedMeta;clearStacks(t),t._parsed=[]}e&&Object.isExtensible(e)&&function listenArrayEvents(t,e){t._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),b.forEach((e=>{const n="_onData"+_capitalize(e),a=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...e){const o=a.apply(this,e);return t._chartjs.listeners.forEach((t=>{"function"==typeof t[n]&&t[n](...e)})),o}})})))}(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const o=e._stacked;e._stacked=isStacked(e.vScale,e),e.stack!==n.stack&&(a=!0,clearStacks(e),e.stack=n.stack),this._resyncElements(t),(a||o!==e._stacked)&&updateStacks(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:a}=this,{iScale:o,_stacked:r}=n,s=o.axis;let l,c,d,u=0===t&&e===a.length||n._sorted,h=t>0&&n._parsed[t-1];if(!1===this._parsing)n._parsed=a,n._sorted=!0,d=a;else{d=isArray(a[t])?this.parseArrayData(n,a,t,e):isObject(a[t])?this.parseObjectData(n,a,t,e):this.parsePrimitiveData(n,a,t,e);const isNotInOrderComparedToPrev=()=>null===c[s]||h&&c[s]<h[s];for(l=0;l<e;++l)n._parsed[l+t]=c=d[l],u&&(isNotInOrderComparedToPrev()&&(u=!1),h=c);n._sorted=u}r&&updateStacks(this,d)}parsePrimitiveData(t,e,n,a){const{iScale:o,vScale:r}=t,s=o.axis,l=r.axis,c=o.getLabels(),d=o===r,u=new Array(a);let h,p,g;for(h=0,p=a;h<p;++h)g=h+n,u[h]={[s]:d||o.parse(c[g],g),[l]:r.parse(e[g],g)};return u}parseArrayData(t,e,n,a){const{xScale:o,yScale:r}=t,s=new Array(a);let l,c,d,u;for(l=0,c=a;l<c;++l)d=l+n,u=e[d],s[l]={x:o.parse(u[0],d),y:r.parse(u[1],d)};return s}parseObjectData(t,e,n,a){const{xScale:o,yScale:r}=t,{xAxisKey:s="x",yAxisKey:l="y"}=this._parsing,c=new Array(a);let d,u,h,p;for(d=0,u=a;d<u;++d)h=d+n,p=e[h],c[d]={x:o.parse(resolveObjectKey(p,s),h),y:r.parse(resolveObjectKey(p,l),h)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const a=this.chart,o=this._cachedMeta,r=e[t.axis];return applyStack({keys:getSortedDatasetIndices(a,!0),values:e._stacks[t.axis]},r,o.index,{mode:n})}updateRangeFromParsed(t,e,n,a){const o=n[e.axis];let r=null===o?NaN:o;const s=a&&n._stacks[e.axis];a&&s&&(a.values=s,r=applyStack(a,o,this._cachedMeta.index)),t.min=Math.min(t.min,r),t.max=Math.max(t.max,r)}getMinMax(t,e){const n=this._cachedMeta,a=n._parsed,o=n._sorted&&t===n.iScale,r=a.length,s=this._getOtherScale(t),l=((t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:getSortedDatasetIndices(n,!0),values:null})(e,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:u}=function getUserBounds(t){const{min:e,max:n,minDefined:a,maxDefined:o}=t.getUserBounds();return{min:a?e:Number.NEGATIVE_INFINITY,max:o?n:Number.POSITIVE_INFINITY}}(s);let h,p;function _skip(){p=a[h];const e=p[s.axis];return!isNumberFinite(p[t.axis])||d>e||u<e}for(h=0;h<r&&(_skip()||(this.updateRangeFromParsed(c,t,p,l),!o));++h);if(o)for(h=r-1;h>=0;--h)if(!_skip()){this.updateRangeFromParsed(c,t,p,l);break}return c}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let a,o,r;for(a=0,o=e.length;a<o;++a)r=e[a][t.axis],isNumberFinite(r)&&n.push(r);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,a=e.vScale,o=this.getParsed(t);return{label:n?""+n.getLabelForValue(o[n.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function toClip(t){let e,n,a,o;return isObject(t)?(e=t.top,n=t.right,a=t.bottom,o=t.left):e=n=a=o=t,{top:e,right:n,bottom:a,left:o,disabled:!1===t}}(valueOrDefault(this.options.clip,function defaultClip(t,e,n){if(!1===n)return!1;const a=scaleClip(t,n),o=scaleClip(e,n);return{top:o.end,right:a.end,bottom:o.start,left:a.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,a=n.data||[],o=e.chartArea,r=[],s=this._drawStart||0,l=this._drawCount||a.length-s,c=this.options.drawActiveElementsOnTop;let d;for(n.dataset&&n.dataset.draw(t,o,s,l),d=s;d<s+l;++d){const e=a[d];e.hidden||(e.active&&c?r.push(e):e.draw(t,o))}for(d=0;d<r.length;++d)r[d].draw(t,o)}getStyle(t,e){const n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const a=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];o=e.$context||(e.$context=function createDataContext(t,e,n){return createContext(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),o.parsed=this.getParsed(t),o.raw=a.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=function createDatasetContext(t,e){return createContext(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=n,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",n){const a="active"===e,o=this._cachedDataOpts,r=t+"-"+e,s=o[r],l=this.enableOptionSharing&&defined(n);if(s)return cloneIfNotShared(s,l);const c=this.chart.config,d=c.datasetElementScopeKeys(this._type,t),u=a?[`${t}Hover`,"hover",t,""]:[t,""],h=c.getOptionScopes(this.getDataset(),d),p=Object.keys(M.elements[t]),g=c.resolveNamedOptions(h,p,(()=>this.getContext(n,a)),u);return g.$shared&&(g.$shared=l,o[r]=Object.freeze(cloneIfNotShared(g,l))),g}_resolveAnimations(t,e,n){const a=this.chart,o=this._cachedDataOpts,r=`animation-${e}`,s=o[r];if(s)return s;let l;if(!1!==a.options.animation){const a=this.chart.config,o=a.datasetAnimationScopeKeys(this._type,e),r=a.getOptionScopes(this.getDataset(),o);l=a.createResolver(r,this.getContext(t,n,e))}const c=new Animations(a,l&&l.animations);return l&&l._cacheable&&(o[r]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||isDirectUpdateMode(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),a=this._sharedOptions,o=this.getSharedOptions(n),r=this.includeOptions(e,o)||o!==a;return this.updateSharedOptions(o,e,n),{sharedOptions:o,includeOptions:r}}updateElement(t,e,n,a){isDirectUpdateMode(a)?Object.assign(t,n):this._resolveAnimations(e,a).update(t,n)}updateSharedOptions(t,e,n){t&&!isDirectUpdateMode(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,a){t.active=a;const o=this.getStyle(e,a);this._resolveAnimations(e,n,a).update(t,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[t,e,n]of this._syncList)this[t](e,n);this._syncList=[];const a=n.length,o=e.length,r=Math.min(o,a);r&&this.parse(0,r),o>a?this._insertElements(a,o-a,t):o<a&&this._removeElements(o,a-o)}_insertElements(t,e,n=!0){const a=this._cachedMeta,o=a.data,r=t+e;let s;const move=t=>{for(t.length+=e,s=t.length-1;s>=r;s--)t[s]=t[s-e]};for(move(o),s=t;s<r;++s)o[s]=new this.dataElementType;this._parsing&&move(a._parsed),this.parse(t,e),n&&this.updateElements(o,t,e,"reset")}updateElements(t,e,n,a){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(t,e);n._stacked&&clearStacks(n,a)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,a]=t;this[e](n,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function computeMinSampleSize(t){const e=t.iScale,n=function getAllScaleValues(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let a=[];for(let e=0,o=n.length;e<o;e++)a=a.concat(n[e].controller.getAllParsedValues(t));t._cache.$bar=_arrayUnique(a.sort(((t,e)=>t-e)))}return t._cache.$bar}(e,t.type);let a,o,r,s,l=e._length;const updateMinAndPrev=()=>{32767!==r&&-32768!==r&&(defined(s)&&(l=Math.min(l,Math.abs(r-s)||l)),s=r)};for(a=0,o=n.length;a<o;++a)r=e.getPixelForValue(n[a]),updateMinAndPrev();for(s=void 0,a=0,o=e.ticks.length;a<o;++a)r=e.getPixelForTick(a),updateMinAndPrev();return l}function parseValue(t,e,n,a){return isArray(t)?function parseFloatBar(t,e,n,a){const o=n.parse(t[0],a),r=n.parse(t[1],a),s=Math.min(o,r),l=Math.max(o,r);let c=s,d=l;Math.abs(s)>Math.abs(l)&&(c=l,d=s),e[n.axis]=d,e._custom={barStart:c,barEnd:d,start:o,end:r,min:s,max:l}}(t,e,n,a):e[n.axis]=n.parse(t,a),e}function parseArrayOrPrimitive(t,e,n,a){const o=t.iScale,r=t.vScale,s=o.getLabels(),l=o===r,c=[];let d,u,h,p;for(d=n,u=n+a;d<u;++d)p=e[d],h={},h[o.axis]=l||o.parse(s[d],d),c.push(parseValue(p,h,r,d));return c}function isFloatBar(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function setBorderSkipped(t,e,n,a){let o=e.borderSkipped;const r={};if(!o)return void(t.borderSkipped=r);if(!0===o)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:s,end:l,reverse:c,top:d,bottom:u}=function borderProps(t){let e,n,a,o,r;return t.horizontal?(e=t.base>t.x,n="left",a="right"):(e=t.base<t.y,n="bottom",a="top"),e?(o="end",r="start"):(o="start",r="end"),{start:n,end:a,reverse:e,top:o,bottom:r}}(t);"middle"===o&&n&&(t.enableBorderRadius=!0,(n._top||0)===a?o=d:(n._bottom||0)===a?o=u:(r[parseEdge(u,s,l,c)]=!0,o=d)),r[parseEdge(o,s,l,c)]=!0,t.borderSkipped=r}function parseEdge(t,e,n,a){return t=a?startEnd(t=function swap(t,e,n){return t===e?n:t===n?e:t}(t,e,n),n,e):startEnd(t,e,n)}function startEnd(t,e,n){return"start"===t?e:"end"===t?n:t}function setInflateAmount(t,{inflateAmount:e},n){t.inflateAmount="auto"===e?1===n?.33:0:e}DatasetController.defaults={},DatasetController.prototype.datasetElementType=null,DatasetController.prototype.dataElementType=null;class BarController extends DatasetController{parsePrimitiveData(t,e,n,a){return parseArrayOrPrimitive(t,e,n,a)}parseArrayData(t,e,n,a){return parseArrayOrPrimitive(t,e,n,a)}parseObjectData(t,e,n,a){const{iScale:o,vScale:r}=t,{xAxisKey:s="x",yAxisKey:l="y"}=this._parsing,c="x"===o.axis?s:l,d="x"===r.axis?s:l,u=[];let h,p,g,m;for(h=n,p=n+a;h<p;++h)m=e[h],g={},g[o.axis]=o.parse(resolveObjectKey(m,c),h),u.push(parseValue(resolveObjectKey(m,d),g,r,h));return u}updateRangeFromParsed(t,e,n,a){super.updateRangeFromParsed(t,e,n,a);const o=n._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:a}=e,o=this.getParsed(t),r=o._custom,s=isFloatBar(r)?"["+r.start+", "+r.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+n.getLabelForValue(o[n.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,a){const o="reset"===a,{index:r,_cachedMeta:{vScale:s}}=this,l=s.getBasePixel(),c=s.isHorizontal(),d=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(e,a);for(let p=e;p<e+n;p++){const e=this.getParsed(p),n=o||isNullOrUndef(e[s.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),g=this._calculateBarIndexPixels(p,d),m=(e._stacks||{})[s.axis],b={horizontal:c,base:n.base,enableBorderRadius:!m||isFloatBar(e._custom)||r===m._top||r===m._bottom,x:c?n.head:g.center,y:c?g.center:n.head,height:c?g.size:Math.abs(n.size),width:c?Math.abs(n.size):g.size};h&&(b.options=u||this.resolveDataElementOptions(p,t[p].active?"active":a));const v=b.options||t[p].options;setBorderSkipped(b,v,m,r),setInflateAmount(b,v,d.ratio),this.updateElement(t[p],p,b,a)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),o=n.options.stacked,r=[],skipNull=t=>{const n=t.controller.getParsed(e),a=n&&n[t.vScale.axis];if(isNullOrUndef(a)||isNaN(a))return!0};for(const n of a)if((void 0===e||!skipNull(n))&&((!1===o||-1===r.indexOf(n.stack)||void 0===o&&void 0===n.stack)&&r.push(n.stack),n.index===t))break;return r.length||r.push(void 0),r}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const a=this._getStacks(t,n),o=void 0!==e?a.indexOf(e):-1;return-1===o?a.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,a=[];let o,r;for(o=0,r=e.data.length;o<r;++o)a.push(n.getPixelForValue(this.getParsed(o)[n.axis],o));const s=t.barThickness;return{min:s||computeMinSampleSize(e),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:s?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n},options:{base:a,minBarLength:o}}=this,r=a||0,s=this.getParsed(t),l=s._custom,c=isFloatBar(l);let d,u,h=s[e.axis],p=0,g=n?this.applyStack(e,s,n):h;g!==h&&(p=g-h,g=h),c&&(h=l.barStart,g=l.barEnd-l.barStart,0!==h&&m(h)!==m(l.barEnd)&&(p=0),p+=h);const b=isNullOrUndef(a)||c?p:a;let v=e.getPixelForValue(b);if(d=this.chart.getDataVisibility(t)?e.getPixelForValue(p+g):v,u=d-v,Math.abs(u)<o){u=function barSign(t,e,n){return 0!==t?m(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}(u,e,r)*o,h===r&&(v-=u/2);const t=e.getPixelForDecimal(0),n=e.getPixelForDecimal(1),a=Math.min(t,n),s=Math.max(t,n);v=Math.max(Math.min(v,s),a),d=v+u}if(v===e.getPixelForValue(r)){const t=m(u)*e.getLineWidthForValue(r)/2;v+=t,u-=t}return{size:u,base:v,head:d,center:d+u/2}}_calculateBarIndexPixels(t,e){const n=e.scale,a=this.options,o=a.skipNull,r=valueOrDefault(a.maxBarThickness,1/0);let s,l;if(e.grouped){const n=o?this._getStackCount(t):e.stackCount,c="flex"===a.barThickness?function computeFlexCategoryTraits(t,e,n,a){const o=e.pixels,r=o[t];let s=t>0?o[t-1]:null,l=t<o.length-1?o[t+1]:null;const c=n.categoryPercentage;null===s&&(s=r-(null===l?e.end-e.start:l-r)),null===l&&(l=r+r-s);const d=r-(r-Math.min(s,l))/2*c;return{chunk:Math.abs(l-s)/2*c/a,ratio:n.barPercentage,start:d}}(t,e,a,n):function computeFitCategoryTraits(t,e,n,a){const o=n.barThickness;let r,s;return isNullOrUndef(o)?(r=e.min*n.categoryPercentage,s=n.barPercentage):(r=o*a,s=1),{chunk:r/a,ratio:s,start:e.pixels[t]-r/2}}(t,e,a,n),d=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);s=c.start+c.chunk*d+c.chunk/2,l=Math.min(r,c.chunk*c.ratio)}else s=n.getPixelForValue(this.getParsed(t)[n.axis],t),l=Math.min(r,e.min*e.ratio);return{base:s-l/2,head:s+l/2,center:s,size:l}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,a=n.length;let o=0;for(;o<a;++o)null!==this.getParsed(o)[e.axis]&&n[o].draw(this._ctx)}}BarController.id="bar",BarController.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},BarController.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class BubbleController extends DatasetController{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,a){const o=super.parsePrimitiveData(t,e,n,a);for(let t=0;t<o.length;t++)o[t]._custom=this.resolveDataElementOptions(t+n).radius;return o}parseArrayData(t,e,n,a){const o=super.parseArrayData(t,e,n,a);for(let t=0;t<o.length;t++){const a=e[n+t];o[t]._custom=valueOrDefault(a[2],this.resolveDataElementOptions(t+n).radius)}return o}parseObjectData(t,e,n,a){const o=super.parseObjectData(t,e,n,a);for(let t=0;t<o.length;t++){const a=e[n+t];o[t]._custom=valueOrDefault(a&&a.r&&+a.r,this.resolveDataElementOptions(t+n).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,{xScale:n,yScale:a}=e,o=this.getParsed(t),r=n.getLabelForValue(o.x),s=a.getLabelForValue(o.y),l=o._custom;return{label:e.label,value:"("+r+", "+s+(l?", "+l:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,a){const o="reset"===a,{iScale:r,vScale:s}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(e,a),d=r.axis,u=s.axis;for(let h=e;h<e+n;h++){const e=t[h],n=!o&&this.getParsed(h),p={},g=p[d]=o?r.getPixelForDecimal(.5):r.getPixelForValue(n[d]),m=p[u]=o?s.getBasePixel():s.getPixelForValue(n[u]);p.skip=isNaN(g)||isNaN(m),c&&(p.options=l||this.resolveDataElementOptions(h,e.active?"active":a),o&&(p.options.radius=0)),this.updateElement(e,h,p,a)}}resolveDataElementOptions(t,e){const n=this.getParsed(t);let a=super.resolveDataElementOptions(t,e);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const o=a.radius;return"active"!==e&&(a.radius=0),a.radius+=valueOrDefault(n&&n._custom,o),a}}BubbleController.id="bubble",BubbleController.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},BubbleController.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}};class DoughnutController extends DatasetController{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,a=this._cachedMeta;if(!1===this._parsing)a._parsed=n;else{let o,r,getter=t=>+n[t];if(isObject(n[t])){const{key:t="value"}=this._parsing;getter=e=>+resolveObjectKey(n[e],t)}for(o=t,r=t+e;o<r;++o)a._parsed[o]=getter(o)}}_getRotation(){return toRadians(this.options.rotation-90)}_getCircumference(){return toRadians(this.options.circumference)}_getRotationExtents(){let t=s,e=-s;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)){const a=this.chart.getDatasetMeta(n).controller,o=a._getRotation(),r=a._getCircumference();t=Math.min(t,o),e=Math.max(e,o+r)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,a=this._cachedMeta,o=a.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,c=Math.max((Math.min(n.width,n.height)-l)/2,0),d=Math.min((h=this.options.cutout,p=c,"string"==typeof h&&h.endsWith("%")?parseFloat(h)/100:h/p),1);var h,p;const g=this._getRingWeight(this.index),{circumference:m,rotation:b}=this._getRotationExtents(),{ratioX:v,ratioY:y,offsetX:x,offsetY:_}=function getRatioAndOffset(t,e,n){let a=1,o=1,l=0,c=0;if(e<s){const s=t,d=s+e,h=Math.cos(s),p=Math.sin(s),g=Math.cos(d),m=Math.sin(d),calcMax=(t,e,a)=>_angleBetween(t,s,d,!0)?1:Math.max(e,e*n,a,a*n),calcMin=(t,e,a)=>_angleBetween(t,s,d,!0)?-1:Math.min(e,e*n,a,a*n),b=calcMax(0,h,g),v=calcMax(u,p,m),y=calcMin(r,h,g),x=calcMin(r+u,p,m);a=(b-y)/2,o=(v-x)/2,l=-(b+y)/2,c=-(v+x)/2}return{ratioX:a,ratioY:o,offsetX:l,offsetY:c}}(b,m,d),O=(n.width-l)/v,S=(n.height-l)/y,w=Math.max(Math.min(O,S)/2,0),P=toDimension(this.options.radius,w),C=(P-Math.max(P*d,0))/this._getVisibleDatasetWeightTotal();this.offsetX=x*P,this.offsetY=_*P,a.total=this.calculateTotal(),this.outerRadius=P-C*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-C*g,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const n=this.options,a=this._cachedMeta,o=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||null===a._parsed[t]||a.data[t].hidden?0:this.calculateCircumference(a._parsed[t]*o/s)}updateElements(t,e,n,a){const o="reset"===a,r=this.chart,s=r.chartArea,l=r.options.animation,c=(s.left+s.right)/2,d=(s.top+s.bottom)/2,u=o&&l.animateScale,h=u?0:this.innerRadius,p=u?0:this.outerRadius,{sharedOptions:g,includeOptions:m}=this._getSharedOptions(e,a);let b,v=this._getRotation();for(b=0;b<e;++b)v+=this._circumference(b,o);for(b=e;b<e+n;++b){const e=this._circumference(b,o),n=t[b],r={x:c+this.offsetX,y:d+this.offsetY,startAngle:v,endAngle:v+e,circumference:e,outerRadius:p,innerRadius:h};m&&(r.options=g||this.resolveDataElementOptions(b,n.active?"active":a)),v+=e,this.updateElement(n,b,r,a)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n,a=0;for(n=0;n<e.length;n++){const o=t._parsed[n];null===o||isNaN(o)||!this.chart.getDataVisibility(n)||e[n].hidden||(a+=Math.abs(o))}return a}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?s*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,a=n.data.labels||[],o=formatNumber(e._parsed[t],n.options.locale);return{label:a[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const n=this.chart;let a,o,r,s,l;if(!t)for(a=0,o=n.data.datasets.length;a<o;++a)if(n.isDatasetVisible(a)){r=n.getDatasetMeta(a),t=r.data,s=r.controller;break}if(!t)return 0;for(a=0,o=t.length;a<o;++a)l=s.resolveDataElementOptions(a),"inner"!==l.borderAlign&&(e=Math.max(e,l.borderWidth||0,l.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,a=t.length;n<a;++n){const t=this.resolveDataElementOptions(n);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(valueOrDefault(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}DoughnutController.id="doughnut",DoughnutController.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},DoughnutController.descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t},DoughnutController.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map(((e,a)=>{const o=t.getDatasetMeta(0).controller.getStyle(a);return{text:e,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(a),index:a}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title:()=>"",label(t){let e=t.label;const n=": "+t.formattedValue;return isArray(e)?(e=e.slice(),e[0]+=n):e+=n,e}}}}};class LineController extends DatasetController{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:a=[],_dataset:o}=e,r=this.chart._animationsDisabled;let{start:s,count:l}=_getStartAndCountOfVisiblePoints(e,a,r);this._drawStart=s,this._drawCount=l,_scaleRangesChanged(e)&&(s=0,l=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!o._decimated,n.points=a;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!r,options:c},t),this.updateElements(a,s,l,t)}updateElements(t,e,n,a){const o="reset"===a,{iScale:r,vScale:s,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:d,includeOptions:u}=this._getSharedOptions(e,a),h=r.axis,p=s.axis,{spanGaps:g,segment:m}=this.options,b=isNumber(g)?g:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||o||"none"===a;let y=e>0&&this.getParsed(e-1);for(let g=e;g<e+n;++g){const e=t[g],n=this.getParsed(g),x=v?e:{},_=isNullOrUndef(n[p]),O=x[h]=r.getPixelForValue(n[h],g),S=x[p]=o||_?s.getBasePixel():s.getPixelForValue(l?this.applyStack(s,n,l):n[p],g);x.skip=isNaN(O)||isNaN(S)||_,x.stop=g>0&&Math.abs(n[h]-y[h])>b,m&&(x.parsed=n,x.raw=c.data[g]),u&&(x.options=d||this.resolveDataElementOptions(g,e.active?"active":a)),v||this.updateElement(e,g,x,a),y=n}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,a=t.data||[];if(!a.length)return n;const o=a[0].size(this.resolveDataElementOptions(0)),r=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,o,r)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}LineController.id="line",LineController.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},LineController.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class PolarAreaController extends DatasetController{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,a=n.data.labels||[],o=formatNumber(e._parsed[t].r,n.options.locale);return{label:a[t]||"",value:o}}parseObjectData(t,e,n,a){return _parseObjectDataRadialScale.bind(this)(t,e,n,a)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach(((t,n)=>{const a=this.getParsed(n).r;!isNaN(a)&&this.chart.getDataVisibility(n)&&(a<e.min&&(e.min=a),a>e.max&&(e.max=a))})),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,a=Math.min(e.right-e.left,e.bottom-e.top),o=Math.max(a/2,0),r=(o-Math.max(n.cutoutPercentage?o/100*n.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=o-r*this.index,this.innerRadius=this.outerRadius-r}updateElements(t,e,n,a){const o="reset"===a,s=this.chart,l=s.options.animation,c=this._cachedMeta.rScale,d=c.xCenter,u=c.yCenter,h=c.getIndexAngle(0)-.5*r;let p,g=h;const m=360/this.countVisibleElements();for(p=0;p<e;++p)g+=this._computeAngle(p,a,m);for(p=e;p<e+n;p++){const e=t[p];let n=g,r=g+this._computeAngle(p,a,m),b=s.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;g=r,o&&(l.animateScale&&(b=0),l.animateRotate&&(n=r=h));const v={x:d,y:u,innerRadius:0,outerRadius:b,startAngle:n,endAngle:r,options:this.resolveDataElementOptions(p,e.active?"active":a)};this.updateElement(e,p,v,a)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach(((t,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&e++})),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?toRadians(this.resolveDataElementOptions(t,e).angle||n):0}}PolarAreaController.id="polarArea",PolarAreaController.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},PolarAreaController.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map(((e,a)=>{const o=t.getDatasetMeta(0).controller.getStyle(a);return{text:e,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(a),index:a}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title:()=>"",label:t=>t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class PieController extends DoughnutController{}PieController.id="pie",PieController.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class RadarController extends DatasetController{getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,a){return _parseObjectDataRadialScale.bind(this)(t,e,n,a)}update(t){const e=this._cachedMeta,n=e.dataset,a=e.data||[],o=e.iScale.getLabels();if(n.points=a,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const r={_loop:!0,_fullLoop:o.length===a.length,options:e};this.updateElement(n,void 0,r,t)}this.updateElements(a,0,a.length,t)}updateElements(t,e,n,a){const o=this._cachedMeta.rScale,r="reset"===a;for(let s=e;s<e+n;s++){const e=t[s],n=this.resolveDataElementOptions(s,e.active?"active":a),l=o.getPointPositionForValue(s,this.getParsed(s).r),c=r?o.xCenter:l.x,d=r?o.yCenter:l.y,u={x:c,y:d,angle:l.angle,skip:isNaN(c)||isNaN(d),options:n};this.updateElement(e,s,u,a)}}}RadarController.id="radar",RadarController.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},RadarController.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class Element{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return isNumber(this.x)&&isNumber(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const a={};return t.forEach((t=>{a[t]=n[t]&&n[t].active()?n[t]._to:this[t]})),a}}Element.defaults={},Element.defaultRoutes=void 0;const F={values:t=>isArray(t)?t:""+t,numeric(t,e,n){if(0===t)return"0";const a=this.chart.options.locale;let o,r=t;if(n.length>1){const e=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(e<1e-4||e>1e15)&&(o="scientific"),r=function calculateDelta(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t));return n}(t,n)}const s=g(Math.abs(r)),l=Math.max(Math.min(-1*Math.floor(s),20),0),c={notation:o,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),formatNumber(t,a,c)},logarithmic(t,e,n){if(0===t)return"0";const a=t/Math.pow(10,Math.floor(g(t)));return 1===a||2===a||5===a?F.numeric.call(this,t,e,n):""}};var W={formatters:F};function autoSkip(t,e){const n=t.options.ticks,a=n.maxTicksLimit||function determineMaxTicks(t){const e=t.options.offset,n=t._tickSize(),a=t._length/n+(e?0:1),o=t._maxLength/n;return Math.floor(Math.min(a,o))}(t),o=n.major.enabled?function getMajorIndices(t){const e=[];let n,a;for(n=0,a=t.length;n<a;n++)t[n].major&&e.push(n);return e}(e):[],r=o.length,s=o[0],l=o[r-1],c=[];if(r>a)return function skipMajors(t,e,n,a){let o,r=0,s=n[0];for(a=Math.ceil(a),o=0;o<t.length;o++)o===s&&(e.push(t[o]),r++,s=n[r*a])}(e,c,o,r/a),c;const d=function calculateSpacing(t,e,n){const a=function getEvenSpacing(t){const e=t.length;let n,a;if(e<2)return!1;for(a=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==a)return!1;return a}(t),o=e.length/n;if(!a)return Math.max(o,1);const r=function _factorize(t){const e=[],n=Math.sqrt(t);let a;for(a=1;a<n;a++)t%a==0&&(e.push(a),e.push(t/a));return n===(0|n)&&e.push(n),e.sort(((t,e)=>t-e)).pop(),e}(a);for(let t=0,e=r.length-1;t<e;t++){const e=r[t];if(e>o)return e}return Math.max(o,1)}(o,e,a);if(r>0){let t,n;const a=r>1?Math.round((l-s)/(r-1)):null;for(skip(e,c,d,isNullOrUndef(a)?0:s-a,s),t=0,n=r-1;t<n;t++)skip(e,c,d,o[t],o[t+1]);return skip(e,c,d,l,isNullOrUndef(a)?e.length:l+a),c}return skip(e,c,d),c}function skip(t,e,n,a,o){const r=valueOrDefault(a,0),s=Math.min(valueOrDefault(o,t.length),t.length);let l,c,d,u=0;for(n=Math.ceil(n),o&&(l=o-a,n=l/Math.floor(l/n)),d=r;d<0;)u++,d=Math.round(r+u*n);for(c=Math.max(r,0);c<s;c++)c===d&&(e.push(t[c]),u++,d=Math.round(r+u*n))}M.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:W.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),M.route("scale.ticks","color","","color"),M.route("scale.grid","color","","borderColor"),M.route("scale.grid","borderColor","","borderColor"),M.route("scale.title","color","","color"),M.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t}),M.describe("scales",{_fallback:"scale"}),M.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t});const offsetFromEdge=(t,e,n)=>"top"===e||"left"===e?t[e]+n:t[e]-n;function sample(t,e){const n=[],a=t.length/e,o=t.length;let r=0;for(;r<o;r+=a)n.push(t[Math.floor(r)]);return n}function getPixelForGridLine(t,e,n){const a=t.ticks.length,o=Math.min(e,a-1),r=t._startPixel,s=t._endPixel,l=1e-6;let c,d=t.getPixelForTick(o);if(!(n&&(c=1===a?Math.max(d-r,s-d):0===e?(t.getPixelForTick(1)-d)/2:(d-t.getPixelForTick(o-1))/2,d+=o<e?c:-c,d<r-l||d>s+l)))return d}function getTickMarkLength(t){return t.drawTicks?t.tickLength:0}function getTitleHeight(t,e){if(!t.display)return 0;const n=toFont(t.font,e),a=toPadding(t.padding);return(isArray(t.text)?t.text.length:1)*n.lineHeight+a.height}function titleAlign(t,e,n){let a=_toLeftRightCenter(t);return(n&&"right"!==e||!n&&"right"===e)&&(a=(t=>"left"===t?"right":"right"===t?"left":t)(a)),a}class Scale extends Element{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:a}=this;return t=finiteOrDefault(t,Number.POSITIVE_INFINITY),e=finiteOrDefault(e,Number.NEGATIVE_INFINITY),n=finiteOrDefault(n,Number.POSITIVE_INFINITY),a=finiteOrDefault(a,Number.NEGATIVE_INFINITY),{min:finiteOrDefault(t,n),max:finiteOrDefault(e,a),minDefined:isNumberFinite(t),maxDefined:isNumberFinite(e)}}getMinMax(t){let e,{min:n,max:a,minDefined:o,maxDefined:r}=this.getUserBounds();if(o&&r)return{min:n,max:a};const s=this.getMatchingVisibleMetas();for(let l=0,c=s.length;l<c;++l)e=s[l].controller.getMinMax(this,t),o||(n=Math.min(n,e.min)),r||(a=Math.max(a,e.max));return n=r&&n>a?a:n,a=o&&n>a?n:a,{min:finiteOrDefault(n,finiteOrDefault(a,n)),max:finiteOrDefault(a,finiteOrDefault(n,a))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){callback(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:a,grace:o,ticks:r}=this.options,s=r.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function _addGrace(t,e,n){const{min:a,max:o}=t,r=toDimension(e,(o-a)/2),keepZero=(t,e)=>n&&0===t?0:t+e;return{min:keepZero(a,-Math.abs(r)),max:keepZero(o,r)}}(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=s<this.ticks.length;this._convertTicksToLabels(l?sample(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||"auto"===r.source)&&(this.ticks=autoSkip(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,n=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,n=!n),this._startPixel=t,this._endPixel=e,this._reversePixels=n,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){callback(this.options.afterUpdate,[this])}beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){callback(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),callback(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,a,o;for(n=0,a=t.length;n<a;n++)o=t[n],o.label=callback(e.callback,[o.value,n,t],this)}afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=this.ticks.length,a=e.minRotation||0,o=e.maxRotation;let r,s,l,c=a;if(!this._isVisible()||!e.display||a>=o||n<=1||!this.isHorizontal())return void(this.labelRotation=a);const d=this._getLabelSizes(),u=d.widest.width,h=d.highest.height,p=_limitValue(this.chart.width-u,0,this.maxWidth);r=t.offset?this.maxWidth/n:p/(n-1),u+6>r&&(r=p/(n-(t.offset?.5:1)),s=this.maxHeight-getTickMarkLength(t.grid)-e.padding-getTitleHeight(t.title,this.chart.options.font),l=Math.sqrt(u*u+h*h),c=toDegrees(Math.min(Math.asin(_limitValue((d.highest.height+6)/r,-1,1)),Math.asin(_limitValue(s/l,-1,1))-Math.asin(_limitValue(h/l,-1,1)))),c=Math.max(a,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){callback(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:a,grid:o}}=this,r=this._isVisible(),s=this.isHorizontal();if(r){const r=getTitleHeight(a,e.options.font);if(s?(t.width=this.maxWidth,t.height=getTickMarkLength(o)+r):(t.height=this.maxHeight,t.width=getTickMarkLength(o)+r),n.display&&this.ticks.length){const{first:e,last:a,widest:o,highest:r}=this._getLabelSizes(),l=2*n.padding,c=toRadians(this.labelRotation),d=Math.cos(c),u=Math.sin(c);if(s){const e=n.mirror?0:u*o.width+d*r.height;t.height=Math.min(this.maxHeight,t.height+e+l)}else{const e=n.mirror?0:d*o.width+u*r.height;t.width=Math.min(this.maxWidth,t.width+e+l)}this._calculatePadding(e,a,u,d)}}this._handleMargins(),s?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,a){const{ticks:{align:o,padding:r},position:s}=this.options,l=0!==this.labelRotation,c="top"!==s&&"x"===this.axis;if(this.isHorizontal()){const s=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,h=0;l?c?(u=a*t.width,h=n*e.height):(u=n*t.height,h=a*e.width):"start"===o?h=e.width:"end"===o?u=t.width:"inner"!==o&&(u=t.width/2,h=e.width/2),this.paddingLeft=Math.max((u-s+r)*this.width/(this.width-s),0),this.paddingRight=Math.max((h-d+r)*this.width/(this.width-d),0)}else{let n=e.height/2,a=t.height/2;"start"===o?(n=0,a=t.height):"end"===o&&(n=e.height,a=0),this.paddingTop=n+r,this.paddingBottom=a+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){callback(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,n=t.length;e<n;e++)isNullOrUndef(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=sample(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length)}return t}_computeLabelSizes(t,e){const{ctx:n,_longestTextCache:a}=this,o=[],r=[];let s,l,c,d,u,h,p,g,m,b,v,y=0,x=0;for(s=0;s<e;++s){if(d=t[s].label,u=this._resolveTickFontOptions(s),n.font=h=u.string,p=a[h]=a[h]||{data:{},gc:[]},g=u.lineHeight,m=b=0,isNullOrUndef(d)||isArray(d)){if(isArray(d))for(l=0,c=d.length;l<c;++l)v=d[l],isNullOrUndef(v)||isArray(v)||(m=_measureText(n,p.data,p.gc,m,v),b+=g)}else m=_measureText(n,p.data,p.gc,m,d),b=g;o.push(m),r.push(b),y=Math.max(m,y),x=Math.max(b,x)}!function garbageCollect(t,e){each(t,(t=>{const n=t.gc,a=n.length/2;let o;if(a>e){for(o=0;o<a;++o)delete t.data[n[o]];n.splice(0,a)}}))}(a,e);const _=o.indexOf(y),O=r.indexOf(x),valueAt=t=>({width:o[t]||0,height:r[t]||0});return{first:valueAt(0),last:valueAt(e-1),widest:valueAt(_),highest:valueAt(O),widths:o,heights:r}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return function _int16Range(t){return _limitValue(t,-32768,32767)}(this._alignToPixels?_alignPixel(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=function createTickContext(t,e,n){return createContext(t,{tick:n,index:e,type:"tick"})}(this.getContext(),t,n))}return this.$context||(this.$context=function createScaleContext(t,e){return createContext(t,{scale:e,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=toRadians(this.labelRotation),n=Math.abs(Math.cos(e)),a=Math.abs(Math.sin(e)),o=this._getLabelSizes(),r=t.autoSkipPadding||0,s=o?o.widest.width+r:0,l=o?o.highest.height+r:0;return this.isHorizontal()?l*n>s*a?s/n:l/a:l*a<s*n?l/n:s/a}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,a=this.options,{grid:o,position:r}=a,s=o.offset,l=this.isHorizontal(),c=this.ticks.length+(s?1:0),d=getTickMarkLength(o),u=[],h=o.setContext(this.getContext()),p=h.drawBorder?h.borderWidth:0,g=p/2,alignBorderValue=function(t){return _alignPixel(n,t,p)};let m,b,v,y,x,_,O,S,w,P,C,E;if("top"===r)m=alignBorderValue(this.bottom),_=this.bottom-d,S=m-g,P=alignBorderValue(t.top)+g,E=t.bottom;else if("bottom"===r)m=alignBorderValue(this.top),P=t.top,E=alignBorderValue(t.bottom)-g,_=m+g,S=this.top+d;else if("left"===r)m=alignBorderValue(this.right),x=this.right-d,O=m-g,w=alignBorderValue(t.left)+g,C=t.right;else if("right"===r)m=alignBorderValue(this.left),w=t.left,C=alignBorderValue(t.right)-g,x=m+g,O=this.left+d;else if("x"===e){if("center"===r)m=alignBorderValue((t.top+t.bottom)/2+.5);else if(isObject(r)){const t=Object.keys(r)[0],e=r[t];m=alignBorderValue(this.chart.scales[t].getPixelForValue(e))}P=t.top,E=t.bottom,_=m+g,S=_+d}else if("y"===e){if("center"===r)m=alignBorderValue((t.left+t.right)/2);else if(isObject(r)){const t=Object.keys(r)[0],e=r[t];m=alignBorderValue(this.chart.scales[t].getPixelForValue(e))}x=m-g,O=x-d,w=t.left,C=t.right}const k=valueOrDefault(a.ticks.maxTicksLimit,c),M=Math.max(1,Math.ceil(c/k));for(b=0;b<c;b+=M){const t=o.setContext(this.getContext(b)),e=t.lineWidth,a=t.color,r=t.borderDash||[],c=t.borderDashOffset,d=t.tickWidth,h=t.tickColor,p=t.tickBorderDash||[],g=t.tickBorderDashOffset;v=getPixelForGridLine(this,b,s),void 0!==v&&(y=_alignPixel(n,v,e),l?x=O=w=C=y:_=S=P=E=y,u.push({tx1:x,ty1:_,tx2:O,ty2:S,x1:w,y1:P,x2:C,y2:E,width:e,color:a,borderDash:r,borderDashOffset:c,tickWidth:d,tickColor:h,tickBorderDash:p,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=m,u}_computeLabelItems(t){const e=this.axis,n=this.options,{position:a,ticks:o}=n,r=this.isHorizontal(),s=this.ticks,{align:l,crossAlign:c,padding:d,mirror:u}=o,h=getTickMarkLength(n.grid),p=h+d,g=u?-d:p,m=-toRadians(this.labelRotation),b=[];let v,y,x,_,O,S,w,P,C,E,k,M,D="middle";if("top"===a)S=this.bottom-g,w=this._getXAxisLabelAlignment();else if("bottom"===a)S=this.top+g,w=this._getXAxisLabelAlignment();else if("left"===a){const t=this._getYAxisLabelAlignment(h);w=t.textAlign,O=t.x}else if("right"===a){const t=this._getYAxisLabelAlignment(h);w=t.textAlign,O=t.x}else if("x"===e){if("center"===a)S=(t.top+t.bottom)/2+p;else if(isObject(a)){const t=Object.keys(a)[0],e=a[t];S=this.chart.scales[t].getPixelForValue(e)+p}w=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===a)O=(t.left+t.right)/2-p;else if(isObject(a)){const t=Object.keys(a)[0],e=a[t];O=this.chart.scales[t].getPixelForValue(e)}w=this._getYAxisLabelAlignment(h).textAlign}"y"===e&&("start"===l?D="top":"end"===l&&(D="bottom"));const T=this._getLabelSizes();for(v=0,y=s.length;v<y;++v){x=s[v],_=x.label;const t=o.setContext(this.getContext(v));P=this.getPixelForTick(v)+o.labelOffset,C=this._resolveTickFontOptions(v),E=C.lineHeight,k=isArray(_)?_.length:1;const e=k/2,n=t.color,l=t.textStrokeColor,d=t.textStrokeWidth;let h,p=w;if(r?(O=P,"inner"===w&&(p=v===y-1?this.options.reverse?"left":"right":0===v?this.options.reverse?"right":"left":"center"),M="top"===a?"near"===c||0!==m?-k*E+E/2:"center"===c?-T.highest.height/2-e*E+E:-T.highest.height+E/2:"near"===c||0!==m?E/2:"center"===c?T.highest.height/2-e*E:T.highest.height-k*E,u&&(M*=-1)):(S=P,M=(1-k)*E/2),t.showLabelBackdrop){const e=toPadding(t.backdropPadding),n=T.heights[v],a=T.widths[v];let o=S+M-e.top,r=O-e.left;switch(D){case"middle":o-=n/2;break;case"bottom":o-=n}switch(w){case"center":r-=a/2;break;case"right":r-=a}h={left:r,top:o,width:a+e.width,height:n+e.height,color:t.backdropColor}}b.push({rotation:m,label:_,font:C,color:n,strokeColor:l,strokeWidth:d,textOffset:M,textAlign:p,textBaseline:D,translation:[O,S],backdrop:h})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-toRadians(this.labelRotation))return"top"===t?"left":"right";let n="center";return"start"===e.align?n="left":"end"===e.align?n="right":"inner"===e.align&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:a,padding:o}}=this.options,r=t+o,s=this._getLabelSizes().widest.width;let l,c;return"left"===e?a?(c=this.right+o,"near"===n?l="left":"center"===n?(l="center",c+=s/2):(l="right",c+=s)):(c=this.right-r,"near"===n?l="right":"center"===n?(l="center",c-=s/2):(l="left",c=this.left)):"right"===e?a?(c=this.left+o,"near"===n?l="right":"center"===n?(l="center",c-=s/2):(l="left",c-=s)):(c=this.left+r,"near"===n?l="left":"center"===n?(l="center",c+=s/2):(l="right",c=this.right)):l="right",{textAlign:l,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:a,width:o,height:r}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,a,o,r),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const n=this.ticks.findIndex((e=>e.value===t));if(n>=0){return e.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,r;const drawLine=(t,e,a)=>{a.width&&a.color&&(n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.setLineDash(a.borderDash||[]),n.lineDashOffset=a.borderDashOffset,n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke(),n.restore())};if(e.display)for(o=0,r=a.length;o<r;++o){const t=a[o];e.drawOnChartArea&&drawLine({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&drawLine({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{grid:n}}=this,a=n.setContext(this.getContext()),o=n.drawBorder?a.borderWidth:0;if(!o)return;const r=n.setContext(this.getContext(0)).lineWidth,s=this._borderValue;let l,c,d,u;this.isHorizontal()?(l=_alignPixel(t,this.left,o)-o/2,c=_alignPixel(t,this.right,r)+r/2,d=u=s):(d=_alignPixel(t,this.top,o)-o/2,u=_alignPixel(t,this.bottom,r)+r/2,l=c=s),e.save(),e.lineWidth=a.borderWidth,e.strokeStyle=a.borderColor,e.beginPath(),e.moveTo(l,d),e.lineTo(c,u),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,n=this._computeLabelArea();n&&clipArea(e,n);const a=this._labelItems||(this._labelItems=this._computeLabelItems(t));let o,r;for(o=0,r=a.length;o<r;++o){const t=a[o],n=t.font,r=t.label;t.backdrop&&(e.fillStyle=t.backdrop.color,e.fillRect(t.backdrop.left,t.backdrop.top,t.backdrop.width,t.backdrop.height)),renderText(e,r,0,t.textOffset,n,t)}n&&unclipArea(e)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:a}}=this;if(!n.display)return;const o=toFont(n.font),r=toPadding(n.padding),s=n.align;let l=o.lineHeight/2;"bottom"===e||"center"===e||isObject(e)?(l+=r.bottom,isArray(n.text)&&(l+=o.lineHeight*(n.text.length-1))):l+=r.top;const{titleX:c,titleY:d,maxWidth:h,rotation:p}=function titleArgs(t,e,n,a){const{top:o,left:r,bottom:s,right:l,chart:c}=t,{chartArea:d,scales:h}=c;let p,g,m,b=0;const v=s-o,y=l-r;if(t.isHorizontal()){if(g=_alignStartEnd(a,r,l),isObject(n)){const t=Object.keys(n)[0],a=n[t];m=h[t].getPixelForValue(a)+v-e}else m="center"===n?(d.bottom+d.top)/2+v-e:offsetFromEdge(t,n,e);p=l-r}else{if(isObject(n)){const t=Object.keys(n)[0],a=n[t];g=h[t].getPixelForValue(a)-y+e}else g="center"===n?(d.left+d.right)/2-y+e:offsetFromEdge(t,n,e);m=_alignStartEnd(a,s,o),b="left"===n?-u:u}return{titleX:g,titleY:m,maxWidth:p,rotation:b}}(this,l,e,s);renderText(t,n.text,0,0,o,{color:n.color,maxWidth:h,rotation:p,textAlign:titleAlign(s,e,a),textBaseline:"middle",translation:[c,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=valueOrDefault(t.grid&&t.grid.z,-1);return this._isVisible()&&this.draw===Scale.prototype.draw?[{z:n,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:n+1,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let o,r;for(o=0,r=e.length;o<r;++o){const r=e[o];r[n]!==this.id||t&&r.type!==t||a.push(r)}return a}_resolveTickFontOptions(t){return toFont(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class TypedRegistry{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;(function isIChartComponent(t){return"id"in t&&"defaults"in t})(e)&&(n=this.register(e));const a=this.items,o=t.id,r=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in a||(a[o]=t,function registerDefaults(t,e,n){const a=merge(Object.create(null),[n?M.get(n):{},M.get(e),t.defaults]);M.set(e,a),t.defaultRoutes&&function routeDefaults(t,e){Object.keys(e).forEach((n=>{const a=n.split("."),o=a.pop(),r=[t].concat(a).join("."),s=e[n].split("."),l=s.pop(),c=s.join(".");M.route(r,o,c,l)}))}(e,t.defaultRoutes);t.descriptors&&M.describe(e,t.descriptors)}(t,r,n),this.override&&M.override(t.id,t.overrides)),r}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,a=this.scope;n in e&&delete e[n],a&&n in M[a]&&(delete M[a][n],this.override&&delete E[n])}}var V=new class Registry{constructor(){this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach((e=>{const a=n||this._getRegistryForType(e);n||a.isForType(e)||a===this.plugins&&e.id?this._exec(t,a,e):each(e,(e=>{const a=n||this._getRegistryForType(e);this._exec(t,a,e)}))}))}_exec(t,e,n){const a=_capitalize(t);callback(n["before"+a],[],n),e[t](n),callback(n["after"+a],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const a=e.get(t);if(void 0===a)throw new Error('"'+t+'" is not a registered '+n+".");return a}};class ScatterController extends DatasetController{update(t){const e=this._cachedMeta,{data:n=[]}=e,a=this.chart._animationsDisabled;let{start:o,count:r}=_getStartAndCountOfVisiblePoints(e,n,a);if(this._drawStart=o,this._drawCount=r,_scaleRangesChanged(e)&&(o=0,r=n.length),this.options.showLine){const{dataset:o,_dataset:r}=e;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!r._decimated,o.points=n;const s=this.resolveDatasetElementOptions(t);s.segment=this.options.segment,this.updateElement(o,void 0,{animated:!a,options:s},t)}this.updateElements(n,o,r,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=V.getElement("line")),super.addElements()}updateElements(t,e,n,a){const o="reset"===a,{iScale:r,vScale:s,_stacked:l,_dataset:c}=this._cachedMeta,d=this.resolveDataElementOptions(e,a),u=this.getSharedOptions(d),h=this.includeOptions(a,u),p=r.axis,g=s.axis,{spanGaps:m,segment:b}=this.options,v=isNumber(m)?m:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||o||"none"===a;let x=e>0&&this.getParsed(e-1);for(let d=e;d<e+n;++d){const e=t[d],n=this.getParsed(d),m=y?e:{},_=isNullOrUndef(n[g]),O=m[p]=r.getPixelForValue(n[p],d),S=m[g]=o||_?s.getBasePixel():s.getPixelForValue(l?this.applyStack(s,n,l):n[g],d);m.skip=isNaN(O)||isNaN(S)||_,m.stop=d>0&&Math.abs(n[p]-x[p])>v,b&&(m.parsed=n,m.raw=c.data[d]),h&&(m.options=u||this.resolveDataElementOptions(d,e.active?"active":a)),y||this.updateElement(e,d,m,a),x=n}this.updateSharedOptions(u,a,d)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}const n=t.dataset,a=n.options&&n.options.borderWidth||0;if(!e.length)return a;const o=e[0].size(this.resolveDataElementOptions(0)),r=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(a,o,r)/2}}ScatterController.id="scatter",ScatterController.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},ScatterController.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:t=>"("+t.label+", "+t.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var H=Object.freeze({__proto__:null,BarController,BubbleController,DoughnutController,LineController,PolarAreaController,PieController,RadarController,ScatterController});function chart_abstract(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DateAdapter{constructor(t){this.options=t||{}}init(t){}formats(){return chart_abstract()}parse(t,e){return chart_abstract()}format(t,e){return chart_abstract()}add(t,e,n){return chart_abstract()}diff(t,e,n){return chart_abstract()}startOf(t,e,n){return chart_abstract()}endOf(t,e){return chart_abstract()}}DateAdapter.override=function(t){Object.assign(DateAdapter.prototype,t)};var Z={_date:DateAdapter};function binarySearch(t,e,n,a){const{controller:o,data:r,_sorted:s}=t,l=o._cachedMeta.iScale;if(l&&e===l.axis&&"r"!==e&&s&&r.length){const t=l._reversePixels?_rlookupByKey:_lookupByKey;if(!a)return t(r,e,n);if(o._sharedOptions){const a=r[0],o="function"==typeof a.getRange&&a.getRange(e);if(o){const a=t(r,e,n-o),s=t(r,e,n+o);return{lo:a.lo,hi:s.hi}}}}return{lo:0,hi:r.length-1}}function evaluateInteractionItems(t,e,n,a,o){const r=t.getSortedVisibleDatasetMetas(),s=n[e];for(let t=0,n=r.length;t<n;++t){const{index:n,data:l}=r[t],{lo:c,hi:d}=binarySearch(r[t],e,s,o);for(let t=c;t<=d;++t){const e=l[t];e.skip||a(e,n,t)}}}function getIntersectItems(t,e,n,a,o){const r=[];if(!o&&!t.isPointInArea(e))return r;return evaluateInteractionItems(t,n,e,(function(n,s,l){(o||_isPointInArea(n,t.chartArea,0))&&n.inRange(e.x,e.y,a)&&r.push({element:n,datasetIndex:s,index:l})}),!0),r}function getNearestCartesianItems(t,e,n,a,o,r){let s=[];const l=function getDistanceMetricForAxis(t){const e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,a){const o=e?Math.abs(t.x-a.x):0,r=n?Math.abs(t.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}(n);let c=Number.POSITIVE_INFINITY;return evaluateInteractionItems(t,n,e,(function evaluationFunc(n,d,u){const h=n.inRange(e.x,e.y,o);if(a&&!h)return;const p=n.getCenterPoint(o);if(!(!!r||t.isPointInArea(p))&&!h)return;const g=l(e,p);g<c?(s=[{element:n,datasetIndex:d,index:u}],c=g):g===c&&s.push({element:n,datasetIndex:d,index:u})})),s}function getNearestItems(t,e,n,a,o,r){return r||t.isPointInArea(e)?"r"!==n||a?getNearestCartesianItems(t,e,n,a,o,r):function getNearestRadialItems(t,e,n,a){let o=[];return evaluateInteractionItems(t,n,e,(function evaluationFunc(t,n,r){const{startAngle:s,endAngle:l}=t.getProps(["startAngle","endAngle"],a),{angle:c}=getAngleFromPoint(t,{x:e.x,y:e.y});_angleBetween(c,s,l)&&o.push({element:t,datasetIndex:n,index:r})})),o}(t,e,n,o):[]}function getAxisItems(t,e,n,a,o){const r=[],s="x"===n?"inXRange":"inYRange";let l=!1;return evaluateInteractionItems(t,n,e,((t,a,c)=>{t[s](e[n],o)&&(r.push({element:t,datasetIndex:a,index:c}),l=l||t.inRange(e.x,e.y,o))})),a&&!l?[]:r}var U={evaluateInteractionItems,modes:{index(t,e,n,a){const o=getRelativePosition(e,t),r=n.axis||"x",s=n.includeInvisible||!1,l=n.intersect?getIntersectItems(t,o,r,a,s):getNearestItems(t,o,r,!1,a,s),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=l[0].index,n=t.data[e];n&&!n.skip&&c.push({element:n,datasetIndex:t.index,index:e})})),c):[]},dataset(t,e,n,a){const o=getRelativePosition(e,t),r=n.axis||"xy",s=n.includeInvisible||!1;let l=n.intersect?getIntersectItems(t,o,r,a,s):getNearestItems(t,o,r,!1,a,s);if(l.length>0){const e=l[0].datasetIndex,n=t.getDatasetMeta(e).data;l=[];for(let t=0;t<n.length;++t)l.push({element:n[t],datasetIndex:e,index:t})}return l},point:(t,e,n,a)=>getIntersectItems(t,getRelativePosition(e,t),n.axis||"xy",a,n.includeInvisible||!1),nearest(t,e,n,a){const o=getRelativePosition(e,t),r=n.axis||"xy",s=n.includeInvisible||!1;return getNearestItems(t,o,r,n.intersect,a,s)},x:(t,e,n,a)=>getAxisItems(t,getRelativePosition(e,t),"x",n.intersect,a),y:(t,e,n,a)=>getAxisItems(t,getRelativePosition(e,t),"y",n.intersect,a)}};const Y=["left","top","right","bottom"];function filterByPosition(t,e){return t.filter((t=>t.pos===e))}function filterDynamicPositionByAxis(t,e){return t.filter((t=>-1===Y.indexOf(t.pos)&&t.box.axis===e))}function sortByWeight(t,e){return t.sort(((t,n)=>{const a=e?n:t,o=e?t:n;return a.weight===o.weight?a.index-o.index:a.weight-o.weight}))}function setLayoutDims(t,e){const n=function buildStacks(t){const e={};for(const n of t){const{stack:t,pos:a,stackWeight:o}=n;if(!t||!Y.includes(a))continue;const r=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=o}return e}(t),{vBoxMaxWidth:a,hBoxMaxHeight:o}=e;let r,s,l;for(r=0,s=t.length;r<s;++r){l=t[r];const{fullSize:s}=l.box,c=n[l.stack],d=c&&l.stackWeight/c.weight;l.horizontal?(l.width=d?d*a:s&&e.availableWidth,l.height=o):(l.width=a,l.height=d?d*o:s&&e.availableHeight)}return n}function getCombinedMax(t,e,n,a){return Math.max(t[n],e[n])+Math.max(t[a],e[a])}function updateMaxPadding(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function updateDims(t,e,n,a){const{pos:o,box:r}=n,s=t.maxPadding;if(!isObject(o)){n.size&&(t[o]-=n.size);const e=a[n.stack]||{size:0,count:1};e.size=Math.max(e.size,n.horizontal?r.height:r.width),n.size=e.size/e.count,t[o]+=n.size}r.getPadding&&updateMaxPadding(s,r.getPadding());const l=Math.max(0,e.outerWidth-getCombinedMax(s,t,"left","right")),c=Math.max(0,e.outerHeight-getCombinedMax(s,t,"top","bottom")),d=l!==t.w,u=c!==t.h;return t.w=l,t.h=c,n.horizontal?{same:d,other:u}:{same:u,other:d}}function getMargins(t,e){const n=e.maxPadding;function marginForPositions(t){const a={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{a[t]=Math.max(e[t],n[t])})),a}return marginForPositions(t?["left","right"]:["top","bottom"])}function fitBoxes(t,e,n,a){const o=[];let r,s,l,c,d,u;for(r=0,s=t.length,d=0;r<s;++r){l=t[r],c=l.box,c.update(l.width||e.w,l.height||e.h,getMargins(l.horizontal,e));const{same:s,other:h}=updateDims(e,n,l,a);d|=s&&o.length,u=u||h,c.fullSize||o.push(l)}return d&&fitBoxes(o,e,n,a)||u}function setBoxDims(t,e,n,a,o){t.top=n,t.left=e,t.right=e+a,t.bottom=n+o,t.width=a,t.height=o}function placeBoxes(t,e,n,a){const o=n.padding;let{x:r,y:s}=e;for(const l of t){const t=l.box,c=a[l.stack]||{count:1,placed:0,weight:1},d=l.stackWeight/c.weight||1;if(l.horizontal){const a=e.w*d,r=c.size||t.height;defined(c.start)&&(s=c.start),t.fullSize?setBoxDims(t,o.left,s,n.outerWidth-o.right-o.left,r):setBoxDims(t,e.left+c.placed,s,a,r),c.start=s,c.placed+=a,s=t.bottom}else{const a=e.h*d,s=c.size||t.width;defined(c.start)&&(r=c.start),t.fullSize?setBoxDims(t,r,o.top,s,n.outerHeight-o.bottom-o.top):setBoxDims(t,r,e.top+c.placed,s,a),c.start=r,c.placed+=a,r=t.right}}e.x=r,e.y=s}M.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var K={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,a){if(!t)return;const o=toPadding(t.options.layout.padding),r=Math.max(e-o.width,0),s=Math.max(n-o.height,0),l=function buildLayoutBoxes(t){const e=function wrapBoxes(t){const e=[];let n,a,o,r,s,l;for(n=0,a=(t||[]).length;n<a;++n)o=t[n],({position:r,options:{stack:s,stackWeight:l=1}}=o),e.push({index:n,box:o,pos:r,horizontal:o.isHorizontal(),weight:o.weight,stack:s&&r+s,stackWeight:l});return e}(t),n=sortByWeight(e.filter((t=>t.box.fullSize)),!0),a=sortByWeight(filterByPosition(e,"left"),!0),o=sortByWeight(filterByPosition(e,"right")),r=sortByWeight(filterByPosition(e,"top"),!0),s=sortByWeight(filterByPosition(e,"bottom")),l=filterDynamicPositionByAxis(e,"x"),c=filterDynamicPositionByAxis(e,"y");return{fullSize:n,leftAndTop:a.concat(r),rightAndBottom:o.concat(c).concat(s).concat(l),chartArea:filterByPosition(e,"chartArea"),vertical:a.concat(o).concat(c),horizontal:r.concat(s).concat(l)}}(t.boxes),c=l.vertical,d=l.horizontal;each(t.boxes,(t=>{"function"==typeof t.beforeLayout&&t.beforeLayout()}));const u=c.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:o,availableWidth:r,availableHeight:s,vBoxMaxWidth:r/2/u,hBoxMaxHeight:s/2}),p=Object.assign({},o);updateMaxPadding(p,toPadding(a));const g=Object.assign({maxPadding:p,w:r,h:s,x:o.left,y:o.top},o),m=setLayoutDims(c.concat(d),h);fitBoxes(l.fullSize,g,h,m),fitBoxes(c,g,h,m),fitBoxes(d,g,h,m)&&fitBoxes(c,g,h,m),function handleMaxPadding(t){const e=t.maxPadding;function updatePos(n){const a=Math.max(e[n]-t[n],0);return t[n]+=a,a}t.y+=updatePos("top"),t.x+=updatePos("left"),updatePos("right"),updatePos("bottom")}(g),placeBoxes(l.leftAndTop,g,h,m),g.x+=g.w,g.y+=g.h,placeBoxes(l.rightAndBottom,g,h,m),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},each(l.chartArea,(e=>{const n=e.box;Object.assign(n,t.chartArea),n.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})}))}};class BasePlatform{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,a){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,a?Math.floor(e/a):n)}}isAttached(t){return!0}updateConfig(t){}}class BasicPlatform extends BasePlatform{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const $={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=t=>null===t||""===t;const q=!!I&&{passive:!0};function removeListener(t,e,n){t.canvas.removeEventListener(e,n,q)}function nodeListContains(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function createAttachObserver(t,e,n){const a=t.canvas,o=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||nodeListContains(n.addedNodes,a),e=e&&!nodeListContains(n.removedNodes,a);e&&n()}));return o.observe(document,{childList:!0,subtree:!0}),o}function createDetachObserver(t,e,n){const a=t.canvas,o=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||nodeListContains(n.removedNodes,a),e=e&&!nodeListContains(n.addedNodes,a);e&&n()}));return o.observe(document,{childList:!0,subtree:!0}),o}const G=new Map;let X=0;function onWindowResize(){const t=window.devicePixelRatio;t!==X&&(X=t,G.forEach(((e,n)=>{n.currentDevicePixelRatio!==t&&e()})))}function createResizeObserver(t,e,n){const a=t.canvas,o=a&&_getParentNode(a);if(!o)return;const r=throttled(((t,e)=>{const a=o.clientWidth;n(t,e),a<o.clientWidth&&n()}),window),s=new ResizeObserver((t=>{const e=t[0],n=e.contentRect.width,a=e.contentRect.height;0===n&&0===a||r(n,a)}));return s.observe(o),function listenDevicePixelRatioChanges(t,e){G.size||window.addEventListener("resize",onWindowResize),G.set(t,e)}(t,r),s}function releaseObserver(t,e,n){n&&n.disconnect(),"resize"===e&&function unlistenDevicePixelRatioChanges(t){G.delete(t),G.size||window.removeEventListener("resize",onWindowResize)}(t)}function createProxyAndListen(t,e,n){const a=t.canvas,o=throttled((e=>{null!==t.ctx&&n(function fromNativeEvent(t,e){const n=$[t.type]||t.type,{x:a,y:o}=getRelativePosition(t,e);return{type:n,chart:e,native:t,x:void 0!==a?a:null,y:void 0!==o?o:null}}(e,t))}),t,(t=>{const e=t[0];return[e,e.offsetX,e.offsetY]}));return function addListener(t,e,n){t.addEventListener(e,n,q)}(a,e,o),o}class DomPlatform extends BasePlatform{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function initCanvas(t,e){const n=t.style,a=t.getAttribute("height"),o=t.getAttribute("width");if(t.$chartjs={initial:{height:a,width:o,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",isNullOrEmpty(o)){const e=readUsedSize(t,"width");void 0!==e&&(t.width=e)}if(isNullOrEmpty(a))if(""===t.style.height)t.height=t.width/(e||2);else{const e=readUsedSize(t,"height");void 0!==e&&(t.height=e)}return t}(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e.$chartjs)return!1;const n=e.$chartjs.initial;["height","width"].forEach((t=>{const a=n[t];isNullOrUndef(a)?e.removeAttribute(t):e.setAttribute(t,a)}));const a=n.style||{};return Object.keys(a).forEach((t=>{e.style[t]=a[t]})),e.width=e.width,delete e.$chartjs,!0}addEventListener(t,e,n){this.removeEventListener(t,e);const a=t.$proxies||(t.$proxies={}),o={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[e]||createProxyAndListen;a[e]=o(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),a=n[e];if(!a)return;({attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[e]||removeListener)(t,e,a),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,a){return getMaximumSize(t,e,n,a)}isAttached(t){const e=_getParentNode(t);return!(!e||!e.isConnected)}}class PluginService{constructor(){this._init=[]}notify(t,e,n,a){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=a?this._descriptors(t).filter(a):this._descriptors(t),r=this._notify(o,t,e,n);return"afterDestroy"===e&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),r}_notify(t,e,n,a){a=a||{};for(const o of t){const t=o.plugin;if(!1===callback(t[n],[e,a,o.options],t)&&a.cancelable)return!1}return!0}invalidate(){isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,a=valueOrDefault(n.options&&n.options.plugins,{}),o=function allPlugins(t){const e={},n=[],a=Object.keys(V.plugins.items);for(let t=0;t<a.length;t++)n.push(V.getPlugin(a[t]));const o=t.plugins||[];for(let t=0;t<o.length;t++){const a=o[t];-1===n.indexOf(a)&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}(n);return!1!==a||e?function createDescriptors(t,{plugins:e,localIds:n},a,o){const r=[],s=t.getContext();for(const l of e){const e=l.id,c=getOpts(a[e],o);null!==c&&r.push({plugin:l,options:pluginOpts(t.config,{plugin:l,local:n[e]},c,s)})}return r}(t,o,a,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,diff=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(diff(e,n),t,"stop"),this._notify(diff(n,e),t,"start")}}function getOpts(t,e){return e||!1!==t?!0===t?{}:t:null}function pluginOpts(t,{plugin:e,local:n},a,o){const r=t.pluginScopeKeys(e),s=t.getOptionScopes(a,r);return n&&e.defaults&&s.push(e.defaults),t.createResolver(s,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(t,e){const n=M.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function determineAxis(t,e){return"x"===t||"y"===t?t:e.axis||function axisFromPosition(t){return"top"===t||"bottom"===t?"x":"left"===t||"right"===t?"y":void 0}(e.position)||t.charAt(0).toLowerCase()}function initOptions(t){const e=t.options||(t.options={});e.plugins=valueOrDefault(e.plugins,{}),e.scales=function mergeScaleConfig(t,e){const n=E[t.type]||{scales:{}},a=e.scales||{},o=getIndexAxis(t.type,e),r=Object.create(null),s=Object.create(null);return Object.keys(a).forEach((t=>{const e=a[t];if(!isObject(e))return console.error(`Invalid scale configuration for scale: ${t}`);if(e._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const l=determineAxis(t,e),c=function getDefaultScaleIDFromAxis(t,e){return t===e?"_index_":"_value_"}(l,o),d=n.scales||{};r[l]=r[l]||t,s[t]=mergeIf(Object.create(null),[{axis:l},e,d[l],d[c]])})),t.data.datasets.forEach((n=>{const o=n.type||t.type,l=n.indexAxis||getIndexAxis(o,e),c=(E[o]||{}).scales||{};Object.keys(c).forEach((t=>{const e=function getAxisFromDefaultScaleID(t,e){let n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}(t,l),o=n[e+"AxisID"]||r[e]||e;s[o]=s[o]||Object.create(null),mergeIf(s[o],[{axis:e},a[o],c[t]])}))})),Object.keys(s).forEach((t=>{const e=s[t];mergeIf(e,[M.scales[e.type],M.scale])})),s}(t,e)}function initData(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const Q=new Map,J=new Set;function cachedKeys(t,e){let n=Q.get(t);return n||(n=e(),Q.set(t,n),J.add(n)),n}const addIfFound=(t,e,n)=>{const a=resolveObjectKey(e,n);void 0!==a&&t.add(a)};class Config{constructor(t){this._config=function initConfig(t){return(t=t||{}).data=initData(t.data),initOptions(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=initData(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),initOptions(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return cachedKeys(t,(()=>[[`datasets.${t}`,""]]))}datasetAnimationScopeKeys(t,e){return cachedKeys(`${t}.transition.${e}`,(()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]]))}datasetElementScopeKeys(t,e){return cachedKeys(`${t}-${e}`,(()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]]))}pluginScopeKeys(t){const e=t.id;return cachedKeys(`${this.type}-plugin-${e}`,(()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const n=this._scopeCache;let a=n.get(t);return a&&!e||(a=new Map,n.set(t,a)),a}getOptionScopes(t,e,n){const{options:a,type:o}=this,r=this._cachedScopes(t,n),s=r.get(e);if(s)return s;const l=new Set;e.forEach((e=>{t&&(l.add(t),e.forEach((e=>addIfFound(l,t,e)))),e.forEach((t=>addIfFound(l,a,t))),e.forEach((t=>addIfFound(l,E[o]||{},t))),e.forEach((t=>addIfFound(l,M,t))),e.forEach((t=>addIfFound(l,k,t)))}));const c=Array.from(l);return 0===c.length&&c.push(Object.create(null)),J.has(e)&&r.set(e,c),c}chartOptionScopes(){const{options:t,type:e}=this;return[t,E[e]||{},M.datasets[e]||{},{type:e},M,k]}resolveNamedOptions(t,e,n,a=[""]){const o={$shared:!0},{resolver:r,subPrefixes:s}=getResolver(this._resolverCache,t,a);let l=r;if(function needContext(t,e){const{isScriptable:n,isIndexable:a}=_descriptors(t);for(const o of e){const e=n(o),r=a(o),s=(r||e)&&t[o];if(e&&(isFunction(s)||hasFunction(s))||r&&isArray(s))return!0}return!1}(r,e)){o.$shared=!1;l=_attachContext(r,n=isFunction(n)?n():n,this.createResolver(t,n,s))}for(const t of e)o[t]=l[t];return o}createResolver(t,e,n=[""],a){const{resolver:o}=getResolver(this._resolverCache,t,n);return isObject(e)?_attachContext(o,e,void 0,a):o}}function getResolver(t,e,n){let a=t.get(e);a||(a=new Map,t.set(e,a));const o=n.join();let r=a.get(o);if(!r){r={resolver:_createResolver(e,n),subPrefixes:n.filter((t=>!t.toLowerCase().includes("hover")))},a.set(o,r)}return r}const hasFunction=t=>isObject(t)&&Object.getOwnPropertyNames(t).reduce(((e,n)=>e||isFunction(t[n])),!1);const tt=["top","bottom","left","right","chartArea"];function positionIsHorizontal(t,e){return"top"===t||"bottom"===t||-1===tt.indexOf(t)&&"x"===e}function compare2Level(t,e){return function(n,a){return n[t]===a[t]?n[e]-a[e]:n[t]-a[t]}}function onAnimationsComplete(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),callback(n&&n.onComplete,[t],e)}function onAnimationProgress(t){const e=t.chart,n=e.options.animation;callback(n&&n.onProgress,[t],e)}function getCanvas(t){return _isDomSupported()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const et={},getChart=t=>{const e=getCanvas(t);return Object.values(et).filter((t=>t.canvas===e)).pop()};function moveNumericKeys(t,e,n){const a=Object.keys(t);for(const o of a){const a=+o;if(a>=e){const r=t[o];delete t[o],(n>0||a>e)&&(t[a+n]=r)}}}class Chart{constructor(t,e){const n=this.config=new Config(e),o=getCanvas(t),r=getChart(o);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function _detectPlatform(t){return!_isDomSupported()||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas?BasicPlatform:DomPlatform}(o)),this.platform.updateConfig(n);const l=this.platform.acquireContext(o,s.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;this.id=a(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function debounce(t,e){let n;return function(...a){return e?(clearTimeout(n),n=setTimeout(t,e,a)):t.apply(this,a),e}}((t=>this.update(t)),s.resizeDelay||0),this._dataChanges=[],et[this.id]=this,l&&c?(N.listen(this,"complete",onAnimationsComplete),N.listen(this,"progress",onAnimationProgress),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:a,_aspectRatio:o}=this;return isNullOrUndef(t)?e&&o?o:a?n/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return clearCanvas(this.canvas,this.ctx),this}stop(){return N.stop(this),this}resize(t,e){N.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,a=this.canvas,o=n.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(a,t,e,o),s=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,retinaScale(this,s,!0)&&(this.notifyPlugins("resize",{size:r}),callback(n.onResize,[this,r],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){each(this.options.scales||{},((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,a=Object.keys(n).reduce(((t,e)=>(t[e]=!1,t)),{});let o=[];e&&(o=o.concat(Object.keys(e).map((t=>{const n=e[t],a=determineAxis(t,n),o="r"===a,r="x"===a;return{options:n,dposition:o?"chartArea":r?"bottom":"left",dtype:o?"radialLinear":r?"category":"linear"}})))),each(o,(e=>{const o=e.options,r=o.id,s=determineAxis(r,o),l=valueOrDefault(o.type,e.dtype);void 0!==o.position&&positionIsHorizontal(o.position,s)===positionIsHorizontal(e.dposition)||(o.position=e.dposition),a[r]=!0;let c=null;if(r in n&&n[r].type===l)c=n[r];else{c=new(V.getScale(l))({id:r,type:l,ctx:this.ctx,chart:this}),n[c.id]=c}c.init(o,t)})),each(a,((t,e)=>{t||delete n[e]})),each(n,(t=>{K.configure(this,t,t.options),K.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort(((t,e)=>t.index-e.index)),n>e){for(let t=e;t<n;++t)this._destroyDatasetMeta(t);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(compare2Level("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,n)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=e.length;n<a;n++){const a=e[n];let o=this.getDatasetMeta(n);const r=a.type||this.config.type;if(o.type&&o.type!==r&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=r,o.indexAxis=a.indexAxis||getIndexAxis(r,this.options),o.order=a.order||0,o.index=n,o.label=""+a.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const e=V.getController(r),{datasetElementType:a,dataElementType:s}=M.datasets[r];Object.assign(e.prototype,{dataElementType:V.getElement(s),datasetElementType:a&&V.getElement(a)}),o.controller=new e(this,n),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){each(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let t=0,e=this.data.datasets.length;t<e;t++){const{controller:e}=this.getDatasetMeta(t),n=!a&&-1===o.indexOf(e);e.buildOrUpdateElements(n),r=Math.max(+e.getMaxOverflow(),r)}r=this._minPadding=n.layout.autoPadding?r:0,this._updateLayout(r),a||each(o,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(compare2Level("z","_idx"));const{_active:s,_lastEvent:l}=this;l?this._eventHandler(l,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){each(this.scales,(t=>{K.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);setsEqual(e,n)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:o}of e){moveNumericKeys(t,a,"_removeElements"===n?-o:o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,makeSet=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),n=makeSet(0);for(let t=1;t<e;t++)if(!setsEqual(n,makeSet(t)))return;return Array.from(n).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;K.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],each(this.boxes,(t=>{n&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,isFunction(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),a={meta:n,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",a)&&(n.controller._update(e),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(N.has(this)?this.attached&&!N.running(this)&&N.start(this):(this.draw(),onAnimationsComplete({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resize(t,e),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let a,o;for(a=0,o=e.length;a<o;++a){const o=e[a];t&&!o.visible||n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,a=!n.disabled,o=this.chartArea,r={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",r)&&(a&&clipArea(e,{left:!1===n.left?0:o.left-n.left,right:!1===n.right?this.width:o.right+n.right,top:!1===n.top?0:o.top-n.top,bottom:!1===n.bottom?this.height:o.bottom+n.bottom}),t.controller.draw(),a&&unclipArea(e),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return _isPointInArea(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,a){const o=U.modes[e];return"function"==typeof o?o(this,t,n,a):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let a=n.filter((t=>t&&t._dataset===e)).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return"boolean"==typeof n.hidden?!n.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const a=n?"show":"hide",o=this.getDatasetMeta(t),r=o.controller._resolveAnimations(void 0,a);defined(e)?(o.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),r.update(o,{visible:n}),this.update((e=>e.datasetIndex===t?a:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),N.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),clearCanvas(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete et[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,_add=(n,a)=>{e.addEventListener(this,n,a),t[n]=a},listener=(t,e,n)=>{t.offsetX=e,t.offsetY=n,this._eventHandler(t)};each(this.options.events,(t=>_add(t,listener)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,_add=(n,a)=>{e.addEventListener(this,n,a),t[n]=a},_remove=(n,a)=>{t[n]&&(e.removeEventListener(this,n,a),delete t[n])},listener=(t,e)=>{this.canvas&&this.resize(t,e)};let n;const attached=()=>{_remove("attach",attached),this.attached=!0,this.resize(),_add("resize",listener),_add("detach",n)};n=()=>{this.attached=!1,_remove("resize",listener),this._stop(),this._resize(0,0),_add("attach",attached)},e.isAttached(this.canvas)?attached():n()}unbindEvents(){each(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},each(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const a=n?"set":"remove";let o,r,s,l;for("dataset"===e&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),s=0,l=t.length;s<l;++s){r=t[s];const e=r&&this.getDatasetMeta(r.datasetIndex).controller;e&&e[a+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map((({datasetIndex:t,index:e})=>{const n=this.getDatasetMeta(t);if(!n)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:n.data[e],index:e}}));!_elementsEqual(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}_updateHoverStyles(t,e,n){const a=this.options.hover,diff=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),o=diff(e,t),r=n?t:diff(t,e);o.length&&this.updateHoverStyle(o,a.mode,!1),r.length&&a.mode&&this.updateHoverStyle(r,a.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},eventFilter=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",n,eventFilter))return;const a=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,eventFilter),(a||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:a=[],options:o}=this,r=e,s=this._getActiveElements(t,a,n,r),l=function _isClickEvent(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(t),c=function determineLastEvent(t,e,n,a){return n&&"mouseout"!==t.type?a?e:t:null}(t,this._lastEvent,n,l);n&&(this._lastEvent=null,callback(o.onHover,[t,s,this],this),l&&callback(o.onClick,[t,s,this],this));const d=!_elementsEqual(s,a);return(d||e)&&(this._active=s,this._updateHoverStyles(s,a,e)),this._lastEvent=c,d}_getActiveElements(t,e,n,a){if("mouseout"===t.type)return[];if(!n)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,a)}}const invalidatePlugins=()=>each(Chart.instances,(t=>t._plugins.invalidate())),nt=!0;function clipArc(t,e,n){const{startAngle:a,pixelMargin:o,x:r,y:s,outerRadius:l,innerRadius:c}=e;let d=o/l;t.beginPath(),t.arc(r,s,l,a-d,n+d),c>o?(d=o/c,t.arc(r,s,c,n+d,a-d,!0)):t.arc(r,s,o,n+u,a-u),t.closePath(),t.clip()}function parseBorderRadius$1(t,e,n,a){const o=function toRadiusCorners(t){return _readValueToProps(t,["outerStart","outerEnd","innerStart","innerEnd"])}(t.options.borderRadius),r=(n-e)/2,s=Math.min(r,a*e/2),computeOuterLimit=t=>{const e=(n-Math.min(r,t))*a/2;return _limitValue(t,0,Math.min(r,e))};return{outerStart:computeOuterLimit(o.outerStart),outerEnd:computeOuterLimit(o.outerEnd),innerStart:_limitValue(o.innerStart,0,s),innerEnd:_limitValue(o.innerEnd,0,s)}}function rThetaToXY(t,e,n,a){return{x:n+t*Math.cos(e),y:a+t*Math.sin(e)}}function pathArc(t,e,n,a,o,s){const{x:l,y:c,startAngle:d,pixelMargin:h,innerRadius:p}=e,g=Math.max(e.outerRadius+a+n-h,0),m=p>0?p+a+n+h:0;let b=0;const v=o-d;if(a){const t=((p>0?p-a:0)+(g>0?g-a:0))/2;b=(v-(0!==t?v*t/(t+a):v))/2}const y=(v-Math.max(.001,v*g-n/r)/g)/2,x=d+y+b,_=o-y-b,{outerStart:O,outerEnd:S,innerStart:w,innerEnd:P}=parseBorderRadius$1(e,m,g,_-x),C=g-O,E=g-S,k=x+O/C,M=_-S/E,D=m+w,T=m+P,A=x+w/D,j=_-P/T;if(t.beginPath(),s){if(t.arc(l,c,g,k,M),S>0){const e=rThetaToXY(E,M,l,c);t.arc(e.x,e.y,S,M,_+u)}const e=rThetaToXY(T,_,l,c);if(t.lineTo(e.x,e.y),P>0){const e=rThetaToXY(T,j,l,c);t.arc(e.x,e.y,P,_+u,j+Math.PI)}if(t.arc(l,c,m,_-P/m,x+w/m,!0),w>0){const e=rThetaToXY(D,A,l,c);t.arc(e.x,e.y,w,A+Math.PI,x-u)}const n=rThetaToXY(C,x,l,c);if(t.lineTo(n.x,n.y),O>0){const e=rThetaToXY(C,k,l,c);t.arc(e.x,e.y,O,x-u,k)}}else{t.moveTo(l,c);const e=Math.cos(k)*g+l,n=Math.sin(k)*g+c;t.lineTo(e,n);const a=Math.cos(M)*g+l,o=Math.sin(M)*g+c;t.lineTo(a,o)}t.closePath()}function drawBorder(t,e,n,a,o,r){const{options:l}=e,{borderWidth:c,borderJoinStyle:d}=l,u="inner"===l.borderAlign;c&&(u?(t.lineWidth=2*c,t.lineJoin=d||"round"):(t.lineWidth=c,t.lineJoin=d||"bevel"),e.fullCircles&&function drawFullCircleBorders(t,e,n){const{x:a,y:o,startAngle:r,pixelMargin:l,fullCircles:c}=e,d=Math.max(e.outerRadius-l,0),u=e.innerRadius+l;let h;for(n&&clipArc(t,e,r+s),t.beginPath(),t.arc(a,o,u,r+s,r,!0),h=0;h<c;++h)t.stroke();for(t.beginPath(),t.arc(a,o,d,r,r+s),h=0;h<c;++h)t.stroke()}(t,e,u),u&&clipArc(t,e,o),pathArc(t,e,n,a,o,r),t.stroke())}Object.defineProperties(Chart,{defaults:{enumerable:nt,value:M},instances:{enumerable:nt,value:et},overrides:{enumerable:nt,value:E},registry:{enumerable:nt,value:V},version:{enumerable:nt,value:"3.9.1"},getChart:{enumerable:nt,value:getChart},register:{enumerable:nt,value:(...t)=>{V.add(...t),invalidatePlugins()}},unregister:{enumerable:nt,value:(...t)=>{V.remove(...t),invalidatePlugins()}}});class ArcElement extends Element{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const a=this.getProps(["x","y"],n),{angle:o,distance:r}=getAngleFromPoint(a,{x:t,y:e}),{startAngle:l,endAngle:c,innerRadius:d,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),p=this.options.spacing/2,g=valueOrDefault(h,c-l)>=s||_angleBetween(o,l,c),m=_isBetween(r,d+p,u+p);return g&&m}getCenterPoint(t){const{x:e,y:n,startAngle:a,endAngle:o,innerRadius:r,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:l,spacing:c}=this.options,d=(a+o)/2,u=(r+s+c+l)/2;return{x:e+Math.cos(d)*u,y:n+Math.sin(d)*u}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,a=(e.offset||0)/2,o=(e.spacing||0)/2,l=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=n>s?Math.floor(n/s):0,0===n||this.innerRadius<0||this.outerRadius<0)return;t.save();let c=0;if(a){c=a/2;const e=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(e)*c,Math.sin(e)*c),this.circumference>=r&&(c=a)}t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor;const d=function drawArc(t,e,n,a,o){const{fullCircles:r,startAngle:l,circumference:c}=e;let d=e.endAngle;if(r){pathArc(t,e,n,a,l+s,o);for(let e=0;e<r;++e)t.fill();isNaN(c)||(d=l+c%s,c%s==0&&(d+=s))}return pathArc(t,e,n,a,d,o),t.fill(),d}(t,this,c,o,l);drawBorder(t,this,c,o,d,l),t.restore()}}function setStyle(t,e,n=e){t.lineCap=valueOrDefault(n.borderCapStyle,e.borderCapStyle),t.setLineDash(valueOrDefault(n.borderDash,e.borderDash)),t.lineDashOffset=valueOrDefault(n.borderDashOffset,e.borderDashOffset),t.lineJoin=valueOrDefault(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=valueOrDefault(n.borderWidth,e.borderWidth),t.strokeStyle=valueOrDefault(n.borderColor,e.borderColor)}function lineTo(t,e,n){t.lineTo(n.x,n.y)}function pathVars(t,e,n={}){const a=t.length,{start:o=0,end:r=a-1}=n,{start:s,end:l}=e,c=Math.max(o,s),d=Math.min(r,l),u=o<s&&r<s||o>l&&r>l;return{count:a,start:c,loop:e.loop,ilen:d<c&&!u?a+d-c:d-c}}function pathSegment(t,e,n,a){const{points:o,options:r}=e,{count:s,start:l,loop:c,ilen:d}=pathVars(o,n,a),u=function getLineMethod(t){return t.stepped?_steppedLineTo:t.tension||"monotone"===t.cubicInterpolationMode?_bezierCurveTo:lineTo}(r);let h,p,g,{move:m=!0,reverse:b}=a||{};for(h=0;h<=d;++h)p=o[(l+(b?d-h:h))%s],p.skip||(m?(t.moveTo(p.x,p.y),m=!1):u(t,g,p,b,r.stepped),g=p);return c&&(p=o[(l+(b?d:0))%s],u(t,g,p,b,r.stepped)),!!c}function fastPathSegment(t,e,n,a){const o=e.points,{count:r,start:s,ilen:l}=pathVars(o,n,a),{move:c=!0,reverse:d}=a||{};let u,h,p,g,m,b,v=0,y=0;const pointIndex=t=>(s+(d?l-t:t))%r,drawX=()=>{g!==m&&(t.lineTo(v,m),t.lineTo(v,g),t.lineTo(v,b))};for(c&&(h=o[pointIndex(0)],t.moveTo(h.x,h.y)),u=0;u<=l;++u){if(h=o[pointIndex(u)],h.skip)continue;const e=h.x,n=h.y,a=0|e;a===p?(n<g?g=n:n>m&&(m=n),v=(y*v+e)/++y):(drawX(),t.lineTo(e,n),p=a,y=0,g=m=n),b=n}drawX()}function _getSegmentMethod(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!(t._decimated||t._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||n)?fastPathSegment:pathSegment}ArcElement.id="arc",ArcElement.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},ArcElement.defaultRoutes={backgroundColor:"backgroundColor"};const it="function"==typeof Path2D;function draw(t,e,n,a){it&&!e.options.segment?function strokePathWithCache(t,e,n,a){let o=e._path;o||(o=e._path=new Path2D,e.path(o,n,a)&&o.closePath()),setStyle(t,e.options),t.stroke(o)}(t,e,n,a):function strokePathDirect(t,e,n,a){const{segments:o,options:r}=e,s=_getSegmentMethod(e);for(const l of o)setStyle(t,r,l.style),t.beginPath(),s(t,e,l,{start:n,end:n+a-1})&&t.closePath(),t.stroke()}(t,e,n,a)}class LineElement extends Element{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;_updateBezierControlPoints(this._points,n,t,a,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function _computeSegments(t,e){const n=t.points,a=t.options.spanGaps,o=n.length;if(!o)return[];const r=!!t._loop,{start:s,end:l}=function findStartAndEnd(t,e,n,a){let o=0,r=e-1;if(n&&!a)for(;o<e&&!t[o].skip;)o++;for(;o<e&&t[o].skip;)o++;for(o%=e,n&&(r+=o);r>o&&t[r%e].skip;)r--;return r%=e,{start:o,end:r}}(n,o,r,a);return splitByStyles(t,!0===a?[{start:s,end:l,loop:r}]:function solidSegments(t,e,n,a){const o=t.length,r=[];let s,l=e,c=t[e];for(s=e+1;s<=n;++s){const n=t[s%o];n.skip||n.stop?c.skip||(a=!1,r.push({start:e%o,end:(s-1)%o,loop:a}),e=l=n.stop?s:null):(l=s,c.skip&&(e=s)),c=n}return null!==l&&r.push({start:e%o,end:l%o,loop:a}),r}(n,s,l<s?l+o:l,!!t._fullLoop&&0===s&&l===o-1),n,e)}(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,a=t[e],o=this.points,r=_boundSegments(this,{property:e,start:a,end:a});if(!r.length)return;const s=[],l=function _getInterpolationMethod(t){return t.stepped?_steppedInterpolation:t.tension||"monotone"===t.cubicInterpolationMode?_bezierInterpolation:_pointInLine}(n);let c,d;for(c=0,d=r.length;c<d;++c){const{start:d,end:u}=r[c],h=o[d],p=o[u];if(h===p){s.push(h);continue}const g=l(h,p,Math.abs((a-h[e])/(p[e]-h[e])),n.stepped);g[e]=t[e],s.push(g)}return 1===s.length?s[0]:s}pathSegment(t,e,n){return _getSegmentMethod(this)(t,this,e,n)}path(t,e,n){const a=this.segments,o=_getSegmentMethod(this);let r=this._loop;e=e||0,n=n||this.points.length-e;for(const s of a)r&=o(t,this,s,{start:e,end:e+n-1});return!!r}draw(t,e,n,a){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),draw(t,this,n,a),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function inRange$1(t,e,n,a){const o=t.options,{[n]:r}=t.getProps([n],a);return Math.abs(e-r)<o.radius+o.hitRadius}LineElement.id="line",LineElement.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},LineElement.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},LineElement.descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};class PointElement extends Element{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){const a=this.options,{x:o,y:r}=this.getProps(["x","y"],n);return Math.pow(t-o,2)+Math.pow(e-r,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(t,e){return inRange$1(this,t,"x",e)}inYRange(t,e){return inRange$1(this,t,"y",e)}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){let e=(t=t||this.options||{}).radius||0;e=Math.max(e,e&&t.hoverRadius||0);return 2*(e+(e&&t.borderWidth||0))}draw(t,e){const n=this.options;this.skip||n.radius<.1||!_isPointInArea(this,e,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,drawPoint(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function getBarBounds(t,e){const{x:n,y:a,base:o,width:r,height:s}=t.getProps(["x","y","base","width","height"],e);let l,c,d,u,h;return t.horizontal?(h=s/2,l=Math.min(n,o),c=Math.max(n,o),d=a-h,u=a+h):(h=r/2,l=n-h,c=n+h,d=Math.min(a,o),u=Math.max(a,o)),{left:l,top:d,right:c,bottom:u}}function skipOrLimit(t,e,n,a){return t?0:_limitValue(e,n,a)}function boundingRects(t){const e=getBarBounds(t),n=e.right-e.left,a=e.bottom-e.top,o=function parseBorderWidth(t,e,n){const a=t.options.borderWidth,o=t.borderSkipped,r=toTRBL(a);return{t:skipOrLimit(o.top,r.top,0,n),r:skipOrLimit(o.right,r.right,0,e),b:skipOrLimit(o.bottom,r.bottom,0,n),l:skipOrLimit(o.left,r.left,0,e)}}(t,n/2,a/2),r=function parseBorderRadius(t,e,n){const{enableBorderRadius:a}=t.getProps(["enableBorderRadius"]),o=t.options.borderRadius,r=toTRBLCorners(o),s=Math.min(e,n),l=t.borderSkipped,c=a||isObject(o);return{topLeft:skipOrLimit(!c||l.top||l.left,r.topLeft,0,s),topRight:skipOrLimit(!c||l.top||l.right,r.topRight,0,s),bottomLeft:skipOrLimit(!c||l.bottom||l.left,r.bottomLeft,0,s),bottomRight:skipOrLimit(!c||l.bottom||l.right,r.bottomRight,0,s)}}(t,n/2,a/2);return{outer:{x:e.left,y:e.top,w:n,h:a,radius:r},inner:{x:e.left+o.l,y:e.top+o.t,w:n-o.l-o.r,h:a-o.t-o.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,r.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(o.b,o.r))}}}}function inRange(t,e,n,a){const o=null===e,r=null===n,s=t&&!(o&&r)&&getBarBounds(t,a);return s&&(o||_isBetween(e,s.left,s.right))&&(r||_isBetween(n,s.top,s.bottom))}function addNormalRectPath(t,e){t.rect(e.x,e.y,e.w,e.h)}function inflateRect(t,e,n={}){const a=t.x!==n.x?-e:0,o=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-a,s=(t.y+t.h!==n.y+n.h?e:0)-o;return{x:t.x+a,y:t.y+o,w:t.w+r,h:t.h+s,radius:t.radius}}PointElement.id="point",PointElement.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},PointElement.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class BarElement extends Element{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:a}}=this,{inner:o,outer:r}=boundingRects(this),s=function hasRadius(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}(r.radius)?addRoundedRectPath:addNormalRectPath;t.save(),r.w===o.w&&r.h===o.h||(t.beginPath(),s(t,inflateRect(r,e,o)),t.clip(),s(t,inflateRect(o,-e,r)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),s(t,inflateRect(o,e)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,e,n){return inRange(this,t,e,n)}inXRange(t,e){return inRange(this,t,null,e)}inYRange(t,e){return inRange(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:a,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+a)/2:e,y:o?n:(n+a)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}BarElement.id="bar",BarElement.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},BarElement.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var at=Object.freeze({__proto__:null,ArcElement,LineElement,PointElement,BarElement});function cleanDecimatedDataset(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{value:e})}}function cleanDecimatedData(t){t.data.datasets.forEach((t=>{cleanDecimatedDataset(t)}))}var ot={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled)return void cleanDecimatedData(t);const a=t.width;t.data.datasets.forEach(((e,o)=>{const{_data:r,indexAxis:s}=e,l=t.getDatasetMeta(o),c=r||e.data;if("y"===resolve([s,t.options.indexAxis]))return;if(!l.controller.supportsDecimation)return;const d=t.scales[l.xAxisID];if("linear"!==d.type&&"time"!==d.type)return;if(t.options.parsing)return;let{start:u,count:h}=function getStartAndCountOfVisiblePointsSimplified(t,e){const n=e.length;let a,o=0;const{iScale:r}=t,{min:s,max:l,minDefined:c,maxDefined:d}=r.getUserBounds();return c&&(o=_limitValue(_lookupByKey(e,r.axis,s).lo,0,n-1)),a=d?_limitValue(_lookupByKey(e,r.axis,l).hi+1,o,n)-o:n-o,{start:o,count:a}}(l,c);if(h<=(n.threshold||4*a))return void cleanDecimatedDataset(e);let p;switch(isNullOrUndef(r)&&(e._data=c,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),n.algorithm){case"lttb":p=function lttbDecimation(t,e,n,a,o){const r=o.samples||a;if(r>=n)return t.slice(e,e+n);const s=[],l=(n-2)/(r-2);let c=0;const d=e+n-1;let u,h,p,g,m,b=e;for(s[c++]=t[b],u=0;u<r-2;u++){let a,o=0,r=0;const d=Math.floor((u+1)*l)+1+e,v=Math.min(Math.floor((u+2)*l)+1,n)+e,y=v-d;for(a=d;a<v;a++)o+=t[a].x,r+=t[a].y;o/=y,r/=y;const x=Math.floor(u*l)+1+e,_=Math.min(Math.floor((u+1)*l)+1,n)+e,{x:O,y:S}=t[b];for(p=g=-1,a=x;a<_;a++)g=.5*Math.abs((O-o)*(t[a].y-S)-(O-t[a].x)*(r-S)),g>p&&(p=g,h=t[a],m=a);s[c++]=h,b=m}return s[c++]=t[d],s}(c,u,h,a,n);break;case"min-max":p=function minMaxDecimation(t,e,n,a){let o,r,s,l,c,d,u,h,p,g,m=0,b=0;const v=[],y=e+n-1,x=t[e].x,_=t[y].x-x;for(o=e;o<e+n;++o){r=t[o],s=(r.x-x)/_*a,l=r.y;const e=0|s;if(e===c)l<p?(p=l,d=o):l>g&&(g=l,u=o),m=(b*m+r.x)/++b;else{const n=o-1;if(!isNullOrUndef(d)&&!isNullOrUndef(u)){const e=Math.min(d,u),a=Math.max(d,u);e!==h&&e!==n&&v.push({...t[e],x:m}),a!==h&&a!==n&&v.push({...t[a],x:m})}o>0&&n!==h&&v.push(t[n]),v.push(r),c=e,b=0,p=g=l,d=u=h=o}}return v}(c,u,h,a);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}e._decimated=p}))},destroy(t){cleanDecimatedData(t)}};function _getBounds(t,e,n,a){if(a)return;let o=e[t],r=n[t];return"angle"===t&&(o=_normalizeAngle(o),r=_normalizeAngle(r)),{property:t,start:o,end:r}}function _findSegmentEnd(t,e,n){for(;e>t;e--){const t=n[e];if(!isNaN(t.x)&&!isNaN(t.y))break}return e}function _getEdge(t,e,n,a){return t&&e?a(t[n],e[n]):t?t[n]:e?e[n]:0}function _createBoundaryLine(t,e){let n=[],a=!1;return isArray(t)?(a=!0,n=t):n=function _pointsFromSegments(t,e){const{x:n=null,y:a=null}=t||{},o=e.points,r=[];return e.segments.forEach((({start:t,end:e})=>{e=_findSegmentEnd(t,e,o);const s=o[t],l=o[e];null!==a?(r.push({x:s.x,y:a}),r.push({x:l.x,y:a})):null!==n&&(r.push({x:n,y:s.y}),r.push({x:n,y:l.y}))})),r}(t,e),n.length?new LineElement({points:n,options:{tension:0},_loop:a,_fullLoop:a}):null}function _shouldApplyFill(t){return t&&!1!==t.fill}function _resolveTarget(t,e,n){let a=t[e].fill;const o=[e];let r;if(!n)return a;for(;!1!==a&&-1===o.indexOf(a);){if(!isNumberFinite(a))return a;if(r=t[a],!r)return!1;if(r.visible)return a;o.push(a),a=r.fill}return!1}function _decodeFill(t,e,n){const a=function parseFillOption(t){const e=t.options,n=e.fill;let a=valueOrDefault(n&&n.target,n);void 0===a&&(a=!!e.backgroundColor);if(!1===a||null===a)return!1;if(!0===a)return"origin";return a}(t);if(isObject(a))return!isNaN(a.value)&&a;let o=parseFloat(a);return isNumberFinite(o)&&Math.floor(o)===o?function decodeTargetIndex(t,e,n,a){"-"!==t&&"+"!==t||(n=e+n);if(n===e||n<0||n>=a)return!1;return n}(a[0],e,o,n):["origin","start","end","stack","shape"].indexOf(a)>=0&&a}function addPointsBelow(t,e,n){const a=[];for(let o=0;o<n.length;o++){const r=n[o],{first:s,last:l,point:c}=findPoint(r,e,"x");if(!(!c||s&&l))if(s)a.unshift(c);else if(t.push(c),!l)break}t.push(...a)}function findPoint(t,e,n){const a=t.interpolate(e,n);if(!a)return{};const o=a[n],r=t.segments,s=t.points;let l=!1,c=!1;for(let t=0;t<r.length;t++){const e=r[t],a=s[e.start][n],d=s[e.end][n];if(_isBetween(o,a,d)){l=o===a,c=o===d;break}}return{first:l,last:c,point:a}}class simpleArc{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){const{x:a,y:o,radius:r}=this;return e=e||{start:0,end:s},t.arc(a,o,r,e.end,e.start,!0),!n.bounds}interpolate(t){const{x:e,y:n,radius:a}=this,o=t.angle;return{x:e+Math.cos(o)*a,y:n+Math.sin(o)*a,angle:o}}}function _getTarget(t){const{chart:e,fill:n,line:a}=t;if(isNumberFinite(n))return function getLineByIndex(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}(e,n);if("stack"===n)return function _buildStackLine(t){const{scale:e,index:n,line:a}=t,o=[],r=a.segments,s=a.points,l=function getLinesBelow(t,e){const n=[],a=t.getMatchingVisibleMetas("line");for(let t=0;t<a.length;t++){const o=a[t];if(o.index===e)break;o.hidden||n.unshift(o.dataset)}return n}(e,n);l.push(_createBoundaryLine({x:null,y:e.bottom},a));for(let t=0;t<r.length;t++){const e=r[t];for(let t=e.start;t<=e.end;t++)addPointsBelow(o,s[t],l)}return new LineElement({points:o,options:{}})}(t);if("shape"===n)return!0;const o=function computeBoundary(t){if((t.scale||{}).getPointPositionForValue)return function computeCircularBoundary(t){const{scale:e,fill:n}=t,a=e.options,o=e.getLabels().length,r=a.reverse?e.max:e.min,s=function _getTargetValue(t,e,n){let a;return a="start"===t?n:"end"===t?e.options.reverse?e.min:e.max:isObject(t)?t.value:e.getBaseValue(),a}(n,e,r),l=[];if(a.grid.circular){const t=e.getPointPositionForValue(0,r);return new simpleArc({x:t.x,y:t.y,radius:e.getDistanceFromCenterForValue(s)})}for(let t=0;t<o;++t)l.push(e.getPointPositionForValue(t,s));return l}(t);return function computeLinearBoundary(t){const{scale:e={},fill:n}=t,a=function _getTargetPixel(t,e){let n=null;return"start"===t?n=e.bottom:"end"===t?n=e.top:isObject(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}(n,e);if(isNumberFinite(a)){const t=e.isHorizontal();return{x:t?a:null,y:t?null:a}}return null}(t)}(t);return o instanceof simpleArc?o:_createBoundaryLine(o,a)}function _drawfill(t,e,n){const a=_getTarget(e),{line:o,scale:r,axis:s}=e,l=o.options,c=l.fill,d=l.backgroundColor,{above:u=d,below:h=d}=c||{};a&&o.points.length&&(clipArea(t,n),function doFill(t,e){const{line:n,target:a,above:o,below:r,area:s,scale:l}=e,c=n._loop?"angle":e.axis;t.save(),"x"===c&&r!==o&&(clipVertical(t,a,s.top),fill(t,{line:n,target:a,color:o,scale:l,property:c}),t.restore(),t.save(),clipVertical(t,a,s.bottom));fill(t,{line:n,target:a,color:r,scale:l,property:c}),t.restore()}(t,{line:o,target:a,above:u,below:h,area:n,scale:r,axis:s}),unclipArea(t))}function clipVertical(t,e,n){const{segments:a,points:o}=e;let r=!0,s=!1;t.beginPath();for(const l of a){const{start:a,end:c}=l,d=o[a],u=o[_findSegmentEnd(a,c,o)];r?(t.moveTo(d.x,d.y),r=!1):(t.lineTo(d.x,n),t.lineTo(d.x,d.y)),s=!!e.pathSegment(t,l,{move:s}),s?t.closePath():t.lineTo(u.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function fill(t,e){const{line:n,target:a,property:o,color:r,scale:s}=e,l=function _segments(t,e,n){const a=t.segments,o=t.points,r=e.points,s=[];for(const t of a){let{start:a,end:l}=t;l=_findSegmentEnd(a,l,o);const c=_getBounds(n,o[a],o[l],t.loop);if(!e.segments){s.push({source:t,target:c,start:o[a],end:o[l]});continue}const d=_boundSegments(e,c);for(const e of d){const a=_getBounds(n,r[e.start],r[e.end],e.loop),l=_boundSegment(t,o,a);for(const t of l)s.push({source:t,target:e,start:{[n]:_getEdge(c,a,"start",Math.max)},end:{[n]:_getEdge(c,a,"end",Math.min)}})}}return s}(n,a,o);for(const{source:e,target:c,start:d,end:u}of l){const{style:{backgroundColor:l=r}={}}=e,h=!0!==a;t.save(),t.fillStyle=l,clipBounds(t,s,h&&_getBounds(o,d,u)),t.beginPath();const p=!!n.pathSegment(t,e);let g;if(h){p?t.closePath():interpolatedLineTo(t,a,u,o);const e=!!a.pathSegment(t,c,{move:p,reverse:!0});g=p&&e,g||interpolatedLineTo(t,a,d,o)}t.closePath(),t.fill(g?"evenodd":"nonzero"),t.restore()}}function clipBounds(t,e,n){const{top:a,bottom:o}=e.chart.chartArea,{property:r,start:s,end:l}=n||{};"x"===r&&(t.beginPath(),t.rect(s,a,l-s,o-a),t.clip())}function interpolatedLineTo(t,e,n,a){const o=e.interpolate(n,a);o&&t.lineTo(o.x,o.y)}var rt={id:"filler",afterDatasetsUpdate(t,e,n){const a=(t.data.datasets||[]).length,o=[];let r,s,l,c;for(s=0;s<a;++s)r=t.getDatasetMeta(s),l=r.dataset,c=null,l&&l.options&&l instanceof LineElement&&(c={visible:t.isDatasetVisible(s),index:s,fill:_decodeFill(l,s,a),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:l}),r.$filler=c,o.push(c);for(s=0;s<a;++s)c=o[s],c&&!1!==c.fill&&(c.fill=_resolveTarget(o,s,n.propagate))},beforeDraw(t,e,n){const a="beforeDraw"===n.drawTime,o=t.getSortedVisibleDatasetMetas(),r=t.chartArea;for(let e=o.length-1;e>=0;--e){const n=o[e].$filler;n&&(n.line.updateControlPoints(r,n.axis),a&&n.fill&&_drawfill(t.ctx,n,r))}},beforeDatasetsDraw(t,e,n){if("beforeDatasetsDraw"!==n.drawTime)return;const a=t.getSortedVisibleDatasetMetas();for(let e=a.length-1;e>=0;--e){const n=a[e].$filler;_shouldApplyFill(n)&&_drawfill(t.ctx,n,t.chartArea)}},beforeDatasetDraw(t,e,n){const a=e.meta.$filler;_shouldApplyFill(a)&&"beforeDatasetDraw"===n.drawTime&&_drawfill(t.ctx,a,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const getBoxSize=(t,e)=>{let{boxHeight:n=e,boxWidth:a=e}=t;return t.usePointStyle&&(n=Math.min(n,e),a=t.pointStyleWidth||Math.min(a,e)),{boxWidth:a,boxHeight:n,itemHeight:Math.max(e,n)}};class Legend extends Element{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=callback(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,n)=>t.sort(e,n,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const n=t.labels,a=toFont(n.font),o=a.size,r=this._computeTitleHeight(),{boxWidth:s,itemHeight:l}=getBoxSize(n,o);let c,d;e.font=a.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(r,o,s,l)+10):(d=this.maxHeight,c=this._fitCols(r,o,s,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,a){const{ctx:o,maxWidth:r,options:{labels:{padding:s}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=a+s;let u=t;o.textAlign="left",o.textBaseline="middle";let h=-1,p=-d;return this.legendItems.forEach(((t,g)=>{const m=n+e/2+o.measureText(t.text).width;(0===g||c[c.length-1]+m+2*s>r)&&(u+=d,c[c.length-(g>0?0:1)]=0,p+=d,h++),l[g]={left:0,top:p,row:h,width:m,height:a},c[c.length-1]+=m+s})),u}_fitCols(t,e,n,a){const{ctx:o,maxHeight:r,options:{labels:{padding:s}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=r-t;let u=s,h=0,p=0,g=0,m=0;return this.legendItems.forEach(((t,r)=>{const b=n+e/2+o.measureText(t.text).width;r>0&&p+a+2*s>d&&(u+=h+s,c.push({width:h,height:p}),g+=h+s,m++,h=p=0),l[r]={left:g,top:p,col:m,width:b,height:a},h=Math.max(h,b),p+=a+s})),u+=h,c.push({width:h,height:p}),u}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:a},rtl:o}}=this,r=getRtlAdapter(o,this.left,this.width);if(this.isHorizontal()){let o=0,s=_alignStartEnd(n,this.left+a,this.right-this.lineWidths[o]);for(const l of e)o!==l.row&&(o=l.row,s=_alignStartEnd(n,this.left+a,this.right-this.lineWidths[o])),l.top+=this.top+t+a,l.left=r.leftForLtr(r.x(s),l.width),s+=l.width+a}else{let o=0,s=_alignStartEnd(n,this.top+t+a,this.bottom-this.columnSizes[o].height);for(const l of e)l.col!==o&&(o=l.col,s=_alignStartEnd(n,this.top+t+a,this.bottom-this.columnSizes[o].height)),l.top=s,l.left+=this.left+a,l.left=r.leftForLtr(r.x(l.left),l.width),s+=l.height+a}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;clipArea(t,this),this._draw(),unclipArea(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:a}=this,{align:o,labels:r}=t,s=M.color,l=getRtlAdapter(t.rtl,this.left,this.width),c=toFont(r.font),{color:d,padding:u}=r,h=c.size,p=h/2;let g;this.drawTitle(),a.textAlign=l.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=c.string;const{boxWidth:m,boxHeight:b,itemHeight:v}=getBoxSize(r,h),y=this.isHorizontal(),x=this._computeTitleHeight();g=y?{x:_alignStartEnd(o,this.left+u,this.right-n[0]),y:this.top+u+x,line:0}:{x:this.left+u,y:_alignStartEnd(o,this.top+x+u,this.bottom-e[0].height),line:0},overrideTextDirection(this.ctx,t.textDirection);const _=v+u;this.legendItems.forEach(((O,S)=>{a.strokeStyle=O.fontColor||d,a.fillStyle=O.fontColor||d;const w=a.measureText(O.text).width,P=l.textAlign(O.textAlign||(O.textAlign=r.textAlign)),C=m+p+w;let E=g.x,k=g.y;l.setWidth(this.width),y?S>0&&E+C+u>this.right&&(k=g.y+=_,g.line++,E=g.x=_alignStartEnd(o,this.left+u,this.right-n[g.line])):S>0&&k+_>this.bottom&&(E=g.x=E+e[g.line].width+u,g.line++,k=g.y=_alignStartEnd(o,this.top+x+u,this.bottom-e[g.line].height));!function(t,e,n){if(isNaN(m)||m<=0||isNaN(b)||b<0)return;a.save();const o=valueOrDefault(n.lineWidth,1);if(a.fillStyle=valueOrDefault(n.fillStyle,s),a.lineCap=valueOrDefault(n.lineCap,"butt"),a.lineDashOffset=valueOrDefault(n.lineDashOffset,0),a.lineJoin=valueOrDefault(n.lineJoin,"miter"),a.lineWidth=o,a.strokeStyle=valueOrDefault(n.strokeStyle,s),a.setLineDash(valueOrDefault(n.lineDash,[])),r.usePointStyle){const s={radius:b*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:o},c=l.xPlus(t,m/2);drawPointLegend(a,s,c,e+p,r.pointStyleWidth&&m)}else{const r=e+Math.max((h-b)/2,0),s=l.leftForLtr(t,m),c=toTRBLCorners(n.borderRadius);a.beginPath(),Object.values(c).some((t=>0!==t))?addRoundedRectPath(a,{x:s,y:r,w:m,h:b,radius:c}):a.rect(s,r,m,b),a.fill(),0!==o&&a.stroke()}a.restore()}(l.x(E),k,O),E=((t,e,n,a)=>t===(a?"left":"right")?n:"center"===t?(e+n)/2:e)(P,E+m+p,y?E+C:this.right,t.rtl),function(t,e,n){renderText(a,n.text,t,e+v/2,c,{strikethrough:n.hidden,textAlign:l.textAlign(n.textAlign)})}(l.x(E),k,O),y?g.x+=C+u:g.y+=_})),restoreTextDirection(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=toFont(e.font),a=toPadding(e.padding);if(!e.display)return;const o=getRtlAdapter(t.rtl,this.left,this.width),r=this.ctx,s=e.position,l=n.size/2,c=a.top+l;let d,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),d=this.top+c,u=_alignStartEnd(t.align,u,this.right-h);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);d=c+_alignStartEnd(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const p=_alignStartEnd(s,u,u+h);r.textAlign=o.textAlign(_toLeftRightCenter(s)),r.textBaseline="middle",r.strokeStyle=e.color,r.fillStyle=e.color,r.font=n.string,renderText(r,e.text,p,d,n)}_computeTitleHeight(){const t=this.options.title,e=toFont(t.font),n=toPadding(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,a,o;if(_isBetween(t,this.left,this.right)&&_isBetween(e,this.top,this.bottom))for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(a=o[n],_isBetween(t,a.left,a.left+a.width)&&_isBetween(e,a.top,a.top+a.height))return this.legendItems[n];return null}handleEvent(t){const e=this.options;if(!function isListened(t,e){if(("mousemove"===t||"mouseout"===t)&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const r=this._hoveredItem,s=(o=n,null!==(a=r)&&null!==o&&a.datasetIndex===o.datasetIndex&&a.index===o.index);r&&!s&&callback(e.onLeave,[t,r,this],this),this._hoveredItem=n,n&&!s&&callback(e.onHover,[t,n,this],this)}else n&&callback(e.onClick,[t,n,this],this);var a,o}}var st={id:"legend",_element:Legend,start(t,e,n){const a=t.legend=new Legend({ctx:t.ctx,options:n,chart:t});K.configure(t,a,n),K.addBox(t,a)},stop(t){K.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const a=t.legend;K.configure(t,a,n),a.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const a=e.datasetIndex,o=n.chart;o.isDatasetVisible(a)?(o.hide(a),e.hidden=!0):(o.show(a),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:a,textAlign:o,color:r}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const s=t.controller.getStyle(n?0:void 0),l=toPadding(s.borderWidth);return{text:e[t.index].label,fillStyle:s.backgroundColor,fontColor:r,hidden:!t.visible,lineCap:s.borderCapStyle,lineDash:s.borderDash,lineDashOffset:s.borderDashOffset,lineJoin:s.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:s.borderColor,pointStyle:a||s.pointStyle,rotation:s.rotation,textAlign:o||s.textAlign,borderRadius:0,datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Title extends Element{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const a=isArray(n.text)?n.text.length:1;this._padding=toPadding(n.padding);const o=a*toFont(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:n,bottom:a,right:o,options:s}=this,l=s.align;let c,d,u,h=0;return this.isHorizontal()?(d=_alignStartEnd(l,n,o),u=e+t,c=o-n):("left"===s.position?(d=n+t,u=_alignStartEnd(l,a,e),h=-.5*r):(d=o-t,u=_alignStartEnd(l,e,a),h=.5*r),c=a-e),{titleX:d,titleY:u,maxWidth:c,rotation:h}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=toFont(e.font),a=n.lineHeight/2+this._padding.top,{titleX:o,titleY:r,maxWidth:s,rotation:l}=this._drawArgs(a);renderText(t,e.text,0,0,n,{color:e.color,maxWidth:s,rotation:l,textAlign:_toLeftRightCenter(e.align),textBaseline:"middle",translation:[o,r]})}}var lt={id:"title",_element:Title,start(t,e,n){!function createTitle(t,e){const n=new Title({ctx:t.ctx,options:e,chart:t});K.configure(t,n,e),K.addBox(t,n),t.titleBlock=n}(t,n)},stop(t){const e=t.titleBlock;K.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const a=t.titleBlock;K.configure(t,a,n),a.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ct=new WeakMap;var dt={id:"subtitle",start(t,e,n){const a=new Title({ctx:t.ctx,options:n,chart:t});K.configure(t,a,n),K.addBox(t,a),ct.set(t,a)},stop(t){K.removeBox(t,ct.get(t)),ct.delete(t)},beforeUpdate(t,e,n){const a=ct.get(t);K.configure(t,a,n),a.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ut={average(t){if(!t.length)return!1;let e,n,a=0,o=0,r=0;for(e=0,n=t.length;e<n;++e){const n=t[e].element;if(n&&n.hasValue()){const t=n.tooltipPosition();a+=t.x,o+=t.y,++r}}return{x:a/r,y:o/r}},nearest(t,e){if(!t.length)return!1;let n,a,o,r=e.x,s=e.y,l=Number.POSITIVE_INFINITY;for(n=0,a=t.length;n<a;++n){const a=t[n].element;if(a&&a.hasValue()){const t=distanceBetweenPoints(e,a.getCenterPoint());t<l&&(l=t,o=a)}}if(o){const t=o.tooltipPosition();r=t.x,s=t.y}return{x:r,y:s}}};function pushOrConcat(t,e){return e&&(isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function splitNewlines(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function createTooltipItem(t,e){const{element:n,datasetIndex:a,index:o}=e,r=t.getDatasetMeta(a).controller,{label:s,value:l}=r.getLabelAndValue(o);return{chart:t,label:s,parsed:r.getParsed(o),raw:t.data.datasets[a].data[o],formattedValue:l,dataset:r.getDataset(),dataIndex:o,datasetIndex:a,element:n}}function getTooltipSize(t,e){const n=t.chart.ctx,{body:a,footer:o,title:r}=t,{boxWidth:s,boxHeight:l}=e,c=toFont(e.bodyFont),d=toFont(e.titleFont),u=toFont(e.footerFont),h=r.length,p=o.length,g=a.length,m=toPadding(e.padding);let b=m.height,v=0,y=a.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(y+=t.beforeBody.length+t.afterBody.length,h&&(b+=h*d.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),y){b+=g*(e.displayColors?Math.max(l,c.lineHeight):c.lineHeight)+(y-g)*c.lineHeight+(y-1)*e.bodySpacing}p&&(b+=e.footerMarginTop+p*u.lineHeight+(p-1)*e.footerSpacing);let x=0;const maxLineWidth=function(t){v=Math.max(v,n.measureText(t).width+x)};return n.save(),n.font=d.string,each(t.title,maxLineWidth),n.font=c.string,each(t.beforeBody.concat(t.afterBody),maxLineWidth),x=e.displayColors?s+2+e.boxPadding:0,each(a,(t=>{each(t.before,maxLineWidth),each(t.lines,maxLineWidth),each(t.after,maxLineWidth)})),x=0,n.font=u.string,each(t.footer,maxLineWidth),n.restore(),v+=m.width,{width:v,height:b}}function determineXAlign(t,e,n,a){const{x:o,width:r}=n,{width:s,chartArea:{left:l,right:c}}=t;let d="center";return"center"===a?d=o<=(l+c)/2?"left":"right":o<=r/2?d="left":o>=s-r/2&&(d="right"),function doesNotFitWithAlign(t,e,n,a){const{x:o,width:r}=a,s=n.caretSize+n.caretPadding;return"left"===t&&o+r+s>e.width||"right"===t&&o-r-s<0||void 0}(d,t,e,n)&&(d="center"),d}function determineAlignment(t,e,n){const a=n.yAlign||e.yAlign||function determineYAlign(t,e){const{y:n,height:a}=e;return n<a/2?"top":n>t.height-a/2?"bottom":"center"}(t,n);return{xAlign:n.xAlign||e.xAlign||determineXAlign(t,e,n,a),yAlign:a}}function getBackgroundPoint(t,e,n,a){const{caretSize:o,caretPadding:r,cornerRadius:s}=t,{xAlign:l,yAlign:c}=n,d=o+r,{topLeft:u,topRight:h,bottomLeft:p,bottomRight:g}=toTRBLCorners(s);let m=function alignX(t,e){let{x:n,width:a}=t;return"right"===e?n-=a:"center"===e&&(n-=a/2),n}(e,l);const b=function alignY(t,e,n){let{y:a,height:o}=t;return"top"===e?a+=n:a-="bottom"===e?o+n:o/2,a}(e,c,d);return"center"===c?"left"===l?m+=d:"right"===l&&(m-=d):"left"===l?m-=Math.max(u,p)+o:"right"===l&&(m+=Math.max(h,g)+o),{x:_limitValue(m,0,a.width-e.width),y:_limitValue(b,0,a.height-e.height)}}function getAlignedX(t,e,n){const a=toPadding(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-a.right:t.x+a.left}function getBeforeAfterBodyLines(t){return pushOrConcat([],splitNewlines(t))}function overrideCallbacks(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}class Tooltip extends Element{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&e.options.animation&&n.animations,o=new Animations(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=function createTooltipContext(t,e,n){return createContext(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:n}=e,a=n.beforeTitle.apply(this,[t]),o=n.title.apply(this,[t]),r=n.afterTitle.apply(this,[t]);let s=[];return s=pushOrConcat(s,splitNewlines(a)),s=pushOrConcat(s,splitNewlines(o)),s=pushOrConcat(s,splitNewlines(r)),s}getBeforeBody(t,e){return getBeforeAfterBodyLines(e.callbacks.beforeBody.apply(this,[t]))}getBody(t,e){const{callbacks:n}=e,a=[];return each(t,(t=>{const e={before:[],lines:[],after:[]},o=overrideCallbacks(n,t);pushOrConcat(e.before,splitNewlines(o.beforeLabel.call(this,t))),pushOrConcat(e.lines,o.label.call(this,t)),pushOrConcat(e.after,splitNewlines(o.afterLabel.call(this,t))),a.push(e)})),a}getAfterBody(t,e){return getBeforeAfterBodyLines(e.callbacks.afterBody.apply(this,[t]))}getFooter(t,e){const{callbacks:n}=e,a=n.beforeFooter.apply(this,[t]),o=n.footer.apply(this,[t]),r=n.afterFooter.apply(this,[t]);let s=[];return s=pushOrConcat(s,splitNewlines(a)),s=pushOrConcat(s,splitNewlines(o)),s=pushOrConcat(s,splitNewlines(r)),s}_createItems(t){const e=this._active,n=this.chart.data,a=[],o=[],r=[];let s,l,c=[];for(s=0,l=e.length;s<l;++s)c.push(createTooltipItem(this.chart,e[s]));return t.filter&&(c=c.filter(((e,a,o)=>t.filter(e,a,o,n)))),t.itemSort&&(c=c.sort(((e,a)=>t.itemSort(e,a,n)))),each(c,(e=>{const n=overrideCallbacks(t.callbacks,e);a.push(n.labelColor.call(this,e)),o.push(n.labelPointStyle.call(this,e)),r.push(n.labelTextColor.call(this,e))})),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=r,this.dataPoints=c,c}update(t,e){const n=this.options.setContext(this.getContext()),a=this._active;let o,r=[];if(a.length){const t=ut[n.position].call(this,a,this._eventPosition);r=this._createItems(n),this.title=this.getTitle(r,n),this.beforeBody=this.getBeforeBody(r,n),this.body=this.getBody(r,n),this.afterBody=this.getAfterBody(r,n),this.footer=this.getFooter(r,n);const e=this._size=getTooltipSize(this,n),s=Object.assign({},t,e),l=determineAlignment(this.chart,n,s),c=getBackgroundPoint(n,s,l,this.chart);this.xAlign=l.xAlign,this.yAlign=l.yAlign,o={opacity:1,x:c.x,y:c.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(o={opacity:0});this._tooltipItems=r,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,a){const o=this.getCaretPosition(t,n,a);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,n){const{xAlign:a,yAlign:o}=this,{caretSize:r,cornerRadius:s}=n,{topLeft:l,topRight:c,bottomLeft:d,bottomRight:u}=toTRBLCorners(s),{x:h,y:p}=t,{width:g,height:m}=e;let b,v,y,x,_,O;return"center"===o?(_=p+m/2,"left"===a?(b=h,v=b-r,x=_+r,O=_-r):(b=h+g,v=b+r,x=_-r,O=_+r),y=b):(v="left"===a?h+Math.max(l,d)+r:"right"===a?h+g-Math.max(c,u)-r:this.caretX,"top"===o?(x=p,_=x-r,b=v-r,y=v+r):(x=p+m,_=x+r,b=v+r,y=v-r),O=x),{x1:b,x2:v,x3:y,y1:x,y2:_,y3:O}}drawTitle(t,e,n){const a=this.title,o=a.length;let r,s,l;if(o){const c=getRtlAdapter(n.rtl,this.x,this.width);for(t.x=getAlignedX(this,n.titleAlign,n),e.textAlign=c.textAlign(n.titleAlign),e.textBaseline="middle",r=toFont(n.titleFont),s=n.titleSpacing,e.fillStyle=n.titleColor,e.font=r.string,l=0;l<o;++l)e.fillText(a[l],c.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+s,l+1===o&&(t.y+=n.titleMarginBottom-s)}}_drawColorBox(t,e,n,a,o){const r=this.labelColors[n],s=this.labelPointStyles[n],{boxHeight:l,boxWidth:c,boxPadding:d}=o,u=toFont(o.bodyFont),h=getAlignedX(this,"left",o),p=a.x(h),g=l<u.lineHeight?(u.lineHeight-l)/2:0,m=e.y+g;if(o.usePointStyle){const e={radius:Math.min(c,l)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},n=a.leftForLtr(p,c)+c/2,d=m+l/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,drawPoint(t,e,n,d),t.strokeStyle=r.borderColor,t.fillStyle=r.backgroundColor,drawPoint(t,e,n,d)}else{t.lineWidth=isObject(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,t.strokeStyle=r.borderColor,t.setLineDash(r.borderDash||[]),t.lineDashOffset=r.borderDashOffset||0;const e=a.leftForLtr(p,c-d),n=a.leftForLtr(a.xPlus(p,1),c-d-2),s=toTRBLCorners(r.borderRadius);Object.values(s).some((t=>0!==t))?(t.beginPath(),t.fillStyle=o.multiKeyBackground,addRoundedRectPath(t,{x:e,y:m,w:c,h:l,radius:s}),t.fill(),t.stroke(),t.fillStyle=r.backgroundColor,t.beginPath(),addRoundedRectPath(t,{x:n,y:m+1,w:c-2,h:l-2,radius:s}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(e,m,c,l),t.strokeRect(e,m,c,l),t.fillStyle=r.backgroundColor,t.fillRect(n,m+1,c-2,l-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:a}=this,{bodySpacing:o,bodyAlign:r,displayColors:s,boxHeight:l,boxWidth:c,boxPadding:d}=n,u=toFont(n.bodyFont);let h=u.lineHeight,p=0;const g=getRtlAdapter(n.rtl,this.x,this.width),fillLineOfText=function(n){e.fillText(n,g.x(t.x+p),t.y+h/2),t.y+=h+o},m=g.textAlign(r);let b,v,y,x,_,O,S;for(e.textAlign=r,e.textBaseline="middle",e.font=u.string,t.x=getAlignedX(this,m,n),e.fillStyle=n.bodyColor,each(this.beforeBody,fillLineOfText),p=s&&"right"!==m?"center"===r?c/2+d:c+2+d:0,x=0,O=a.length;x<O;++x){for(b=a[x],v=this.labelTextColors[x],e.fillStyle=v,each(b.before,fillLineOfText),y=b.lines,s&&y.length&&(this._drawColorBox(e,t,x,g,n),h=Math.max(u.lineHeight,l)),_=0,S=y.length;_<S;++_)fillLineOfText(y[_]),h=u.lineHeight;each(b.after,fillLineOfText)}p=0,h=u.lineHeight,each(this.afterBody,fillLineOfText),t.y-=o}drawFooter(t,e,n){const a=this.footer,o=a.length;let r,s;if(o){const l=getRtlAdapter(n.rtl,this.x,this.width);for(t.x=getAlignedX(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=l.textAlign(n.footerAlign),e.textBaseline="middle",r=toFont(n.footerFont),e.fillStyle=n.footerColor,e.font=r.string,s=0;s<o;++s)e.fillText(a[s],l.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+n.footerSpacing}}drawBackground(t,e,n,a){const{xAlign:o,yAlign:r}=this,{x:s,y:l}=t,{width:c,height:d}=n,{topLeft:u,topRight:h,bottomLeft:p,bottomRight:g}=toTRBLCorners(a.cornerRadius);e.fillStyle=a.backgroundColor,e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.beginPath(),e.moveTo(s+u,l),"top"===r&&this.drawCaret(t,e,n,a),e.lineTo(s+c-h,l),e.quadraticCurveTo(s+c,l,s+c,l+h),"center"===r&&"right"===o&&this.drawCaret(t,e,n,a),e.lineTo(s+c,l+d-g),e.quadraticCurveTo(s+c,l+d,s+c-g,l+d),"bottom"===r&&this.drawCaret(t,e,n,a),e.lineTo(s+p,l+d),e.quadraticCurveTo(s,l+d,s,l+d-p),"center"===r&&"left"===o&&this.drawCaret(t,e,n,a),e.lineTo(s,l+u),e.quadraticCurveTo(s,l,s+u,l),e.closePath(),e.fill(),a.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,a=n&&n.x,o=n&&n.y;if(a||o){const n=ut[t.position].call(this,this._active,this._eventPosition);if(!n)return;const r=this._size=getTooltipSize(this,t),s=Object.assign({},n,this._size),l=determineAlignment(e,t,s),c=getBackgroundPoint(t,s,l,e);a._to===c.x&&o._to===c.y||(this.xAlign=l.xAlign,this.yAlign=l.yAlign,this.width=r.width,this.height=r.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const r=toPadding(e.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&s&&(t.save(),t.globalAlpha=n,this.drawBackground(o,t,a,e),overrideTextDirection(t,e.textDirection),o.y+=r.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),restoreTextDirection(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,a=t.map((({datasetIndex:t,index:e})=>{const n=this.chart.getDatasetMeta(t);if(!n)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:n.data[e],index:e}})),o=!_elementsEqual(n,a),r=this._positionChanged(a,e);(o||r)&&(this._active=a,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,n=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],r=this._getActiveElements(t,o,e,n),s=this._positionChanged(r,t),l=e||!_elementsEqual(r,o)||s;return l&&(this._active=r,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),l}_getActiveElements(t,e,n,a){const o=this.options;if("mouseout"===t.type)return[];if(!a)return e;const r=this.chart.getElementsAtEventForMode(t,o.mode,o,n);return o.reverse&&r.reverse(),r}_positionChanged(t,e){const{caretX:n,caretY:a,options:o}=this,r=ut[o.position].call(this,t,e);return!1!==r&&(n!==r.x||a!==r.y)}}Tooltip.positioners=ut;var ht={id:"tooltip",_element:Tooltip,positioners:ut,afterInit(t,e,n){n&&(t.tooltip=new Tooltip({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",n))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:noop,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,a=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(a>0&&e.dataIndex<a)return n[e.dataIndex]}return""},afterTitle:noop,beforeBody:noop,beforeLabel:noop,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return isNullOrUndef(n)||(e+=n),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:noop,afterBody:noop,beforeFooter:noop,footer:noop,afterFooter:noop}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},pt=Object.freeze({__proto__:null,Decimation:ot,Filler:rt,Legend:st,SubTitle:dt,Title:lt,Tooltip:ht});function findOrAddLabel(t,e,n,a){const o=t.indexOf(e);if(-1===o)return((t,e,n,a)=>("string"==typeof e?(n=t.push(e)-1,a.unshift({index:n,label:e})):isNaN(e)&&(n=null),n))(t,e,n,a);return o!==t.lastIndexOf(e)?n:o}class CategoryScale extends Scale{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:n,label:a}of e)t[n]===a&&t.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(isNullOrUndef(t))return null;const n=this.getLabels();return((t,e)=>null===t?null:_limitValue(Math.round(t),0,e))(e=isFinite(e)&&n[e]===t?e:findOrAddLabel(n,t,valueOrDefault(e,t),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(n=0),e||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,a=[];let o=this.getLabels();o=0===t&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let n=t;n<=e;n++)a.push({value:n});return a}getLabelForValue(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function generateTicks$1(t,e){const n=[],{bounds:a,step:o,min:r,max:s,precision:l,count:c,maxTicks:d,maxDigits:u,includeBounds:h}=t,p=o||1,g=d-1,{min:m,max:b}=e,v=!isNullOrUndef(r),y=!isNullOrUndef(s),x=!isNullOrUndef(c),_=(b-m)/(u+1);let O,S,w,P,C=niceNum((b-m)/g/p)*p;if(C<1e-14&&!v&&!y)return[{value:m},{value:b}];P=Math.ceil(b/C)-Math.floor(m/C),P>g&&(C=niceNum(P*C/g/p)*p),isNullOrUndef(l)||(O=Math.pow(10,l),C=Math.ceil(C*O)/O),"ticks"===a?(S=Math.floor(m/C)*C,w=Math.ceil(b/C)*C):(S=m,w=b),v&&y&&o&&function almostWhole(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}((s-r)/o,C/1e3)?(P=Math.round(Math.min((s-r)/C,d)),C=(s-r)/P,S=r,w=s):x?(S=v?r:S,w=y?s:w,P=c-1,C=(w-S)/P):(P=(w-S)/C,P=almostEquals(P,Math.round(P),C/1e3)?Math.round(P):Math.ceil(P));const E=Math.max(_decimalPlaces(C),_decimalPlaces(S));O=Math.pow(10,isNullOrUndef(l)?E:l),S=Math.round(S*O)/O,w=Math.round(w*O)/O;let k=0;for(v&&(h&&S!==r?(n.push({value:r}),S<r&&k++,almostEquals(Math.round((S+k*C)*O)/O,r,relativeLabelSize(r,_,t))&&k++):S<r&&k++);k<P;++k)n.push({value:Math.round((S+k*C)*O)/O});return y&&h&&w!==s?n.length&&almostEquals(n[n.length-1].value,s,relativeLabelSize(s,_,t))?n[n.length-1].value=s:n.push({value:s}):y&&w!==s||n.push({value:w}),n}function relativeLabelSize(t,e,{horizontal:n,minRotation:a}){const o=toRadians(a),r=(n?Math.sin(o):Math.cos(o))||.001,s=.75*e*(""+t).length;return Math.min(e/r,s)}CategoryScale.id="category",CategoryScale.defaults={ticks:{callback:CategoryScale.prototype.getLabelForValue}};class LinearScaleBase extends Scale{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return isNullOrUndef(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:a,max:o}=this;const setMin=t=>a=e?a:t,setMax=t=>o=n?o:t;if(t){const t=m(a),e=m(o);t<0&&e<0?setMax(0):t>0&&e>0&&setMin(0)}if(a===o){let e=1;(o>=Number.MAX_SAFE_INTEGER||a<=Number.MIN_SAFE_INTEGER)&&(e=Math.abs(.05*o)),setMax(o+e),t||setMin(a-e)}this.min=a,this.max=o}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:n,stepSize:a}=t;return a?(e=Math.ceil(this.max/a)-Math.floor(this.min/a)+1,e>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${a} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3)):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a=generateTicks$1({maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&_setMinAndMaxByKey(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const a=(n-e)/Math.max(t.length-1,1)/2;e-=a,n+=a}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return formatNumber(t,this.chart.options.locale,this.options.ticks.format)}}class LinearScale extends LinearScaleBase{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=isNumberFinite(t)?t:0,this.max=isNumberFinite(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=toRadians(this.options.ticks.minRotation),a=(t?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/a))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}function isMajor(t){return 1===t/Math.pow(10,Math.floor(g(t)))}LinearScale.id="linear",LinearScale.defaults={ticks:{callback:W.formatters.numeric}};class LogarithmicScale extends Scale{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=LinearScaleBase.prototype.parse.apply(this,[t,e]);if(0!==n)return isNumberFinite(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=isNumberFinite(t)?Math.max(0,t):null,this.max=isNumberFinite(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,a=this.max;const setMin=e=>n=t?n:e,setMax=t=>a=e?a:t,exp=(t,e)=>Math.pow(10,Math.floor(g(t))+e);n===a&&(n<=0?(setMin(1),setMax(10)):(setMin(exp(n,-1)),setMax(exp(a,1)))),n<=0&&setMin(exp(a,-1)),a<=0&&setMax(exp(n,1)),this._zero&&this.min!==this._suggestedMin&&n===exp(this.min,0)&&setMin(exp(n,-1)),this.min=n,this.max=a}buildTicks(){const t=this.options,e=function generateTicks(t,e){const n=Math.floor(g(e.max)),a=Math.ceil(e.max/Math.pow(10,n)),o=[];let r=finiteOrDefault(t.min,Math.pow(10,Math.floor(g(e.min)))),s=Math.floor(g(r)),l=Math.floor(r/Math.pow(10,s)),c=s<0?Math.pow(10,Math.abs(s)):1;do{o.push({value:r,major:isMajor(r)}),++l,10===l&&(l=1,++s,c=s>=0?1:c),r=Math.round(l*Math.pow(10,s)*c)/c}while(s<n||s===n&&l<a);const d=finiteOrDefault(t.max,r);return o.push({value:d,major:isMajor(r)}),o}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&_setMinAndMaxByKey(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":formatNumber(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=g(t),this._valueRange=g(this.max)-g(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(g(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function getTickBackdropHeight(t){const e=t.ticks;if(e.display&&t.display){const t=toPadding(e.backdropPadding);return valueOrDefault(e.font&&e.font.size,M.font.size)+t.height}return 0}function determineLimits(t,e,n,a,o){return t===a||t===o?{start:e-n/2,end:e+n/2}:t<a||t>o?{start:e-n,end:e}:{start:e,end:e+n}}function fitWithPointLabels(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),a=[],o=[],s=t._pointLabels.length,l=t.options.pointLabels,c=l.centerPointLabels?r/s:0;for(let r=0;r<s;r++){const s=l.setContext(t.getPointLabelContext(r));o[r]=s.padding;const u=t.getPointPosition(r,t.drawingArea+o[r],c),g=toFont(s.font),m=(d=t.ctx,h=g,p=isArray(p=t._pointLabels[r])?p:[p],{w:_longestText(d,h.string,p),h:p.length*h.lineHeight});a[r]=m;const b=_normalizeAngle(t.getIndexAngle(r)+c),v=Math.round(toDegrees(b));updateLimits(n,e,b,determineLimits(v,u.x,m.w,0,180),determineLimits(v,u.y,m.h,90,270))}var d,h,p;t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=function buildPointLabelItems(t,e,n){const a=[],o=t._pointLabels.length,s=t.options,l=getTickBackdropHeight(s)/2,c=t.drawingArea,d=s.pointLabels.centerPointLabels?r/o:0;for(let r=0;r<o;r++){const o=t.getPointPosition(r,c+l+n[r],d),s=Math.round(toDegrees(_normalizeAngle(o.angle+u))),h=e[r],p=yForAngle(o.y,h.h,s),g=getTextAlignForAngle(s),m=leftForTextAlign(o.x,h.w,g);a.push({x:o.x,y:p,textAlign:g,left:m,top:p,right:m+h.w,bottom:p+h.h})}return a}(t,a,o)}function updateLimits(t,e,n,a,o){const r=Math.abs(Math.sin(n)),s=Math.abs(Math.cos(n));let l=0,c=0;a.start<e.l?(l=(e.l-a.start)/r,t.l=Math.min(t.l,e.l-l)):a.end>e.r&&(l=(a.end-e.r)/r,t.r=Math.max(t.r,e.r+l)),o.start<e.t?(c=(e.t-o.start)/s,t.t=Math.min(t.t,e.t-c)):o.end>e.b&&(c=(o.end-e.b)/s,t.b=Math.max(t.b,e.b+c))}function getTextAlignForAngle(t){return 0===t||180===t?"center":t<180?"left":"right"}function leftForTextAlign(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function yForAngle(t,e,n){return 90===n||270===n?t-=e/2:(n>270||n<90)&&(t-=e),t}function pathRadiusLine(t,e,n,a){const{ctx:o}=t;if(n)o.arc(t.xCenter,t.yCenter,e,0,s);else{let n=t.getPointPosition(0,e);o.moveTo(n.x,n.y);for(let r=1;r<a;r++)n=t.getPointPosition(r,e),o.lineTo(n.x,n.y)}}LogarithmicScale.id="logarithmic",LogarithmicScale.defaults={ticks:{callback:W.formatters.logarithmic,major:{enabled:!0}}};class RadialLinearScale extends LinearScaleBase{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=toPadding(getTickBackdropHeight(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=isNumberFinite(t)&&!isNaN(t)?t:0,this.max=isNumberFinite(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/getTickBackdropHeight(this.options))}generateTickLabels(t){LinearScaleBase.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(((t,e)=>{const n=callback(this.options.pointLabels.callback,[t,e],this);return n||0===n?n:""})).filter(((t,e)=>this.chart.getDataVisibility(e)))}fit(){const t=this.options;t.display&&t.pointLabels.display?fitWithPointLabels(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,a){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,a))}getIndexAngle(t){return _normalizeAngle(t*(s/(this._pointLabels.length||1))+toRadians(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(isNullOrUndef(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(isNullOrUndef(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return function createPointLabelContext(t,e,n){return createContext(t,{label:n,index:e,type:"pointLabel"})}(this.getContext(),t,n)}}getPointPosition(t,e,n=0){const a=this.getIndexAngle(t)-u+n;return{x:Math.cos(a)*e+this.xCenter,y:Math.sin(a)*e+this.yCenter,angle:a}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:a,bottom:o}=this._pointLabelItems[t];return{left:e,top:n,right:a,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),pathRadiusLine(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:a}=e,o=this._pointLabels.length;let r,s,l;if(e.pointLabels.display&&function drawPointLabels(t,e){const{ctx:n,options:{pointLabels:a}}=t;for(let o=e-1;o>=0;o--){const e=a.setContext(t.getPointLabelContext(o)),r=toFont(e.font),{x:s,y:l,textAlign:c,left:d,top:u,right:h,bottom:p}=t._pointLabelItems[o],{backdropColor:g}=e;if(!isNullOrUndef(g)){const t=toTRBLCorners(e.borderRadius),a=toPadding(e.backdropPadding);n.fillStyle=g;const o=d-a.left,r=u-a.top,s=h-d+a.width,l=p-u+a.height;Object.values(t).some((t=>0!==t))?(n.beginPath(),addRoundedRectPath(n,{x:o,y:r,w:s,h:l,radius:t}),n.fill()):n.fillRect(o,r,s,l)}renderText(n,t._pointLabels[o],s,l+r.lineHeight/2,r,{color:e.color,textAlign:c,textBaseline:"middle"})}}(this,o),a.display&&this.ticks.forEach(((t,e)=>{if(0!==e){s=this.getDistanceFromCenterForValue(t.value);!function drawRadiusLine(t,e,n,a){const o=t.ctx,r=e.circular,{color:s,lineWidth:l}=e;!r&&!a||!s||!l||n<0||(o.save(),o.strokeStyle=s,o.lineWidth=l,o.setLineDash(e.borderDash),o.lineDashOffset=e.borderDashOffset,o.beginPath(),pathRadiusLine(t,n,r,a),o.closePath(),o.stroke(),o.restore())}(this,a.setContext(this.getContext(e-1)),s,o)}})),n.display){for(t.save(),r=o-1;r>=0;r--){const a=n.setContext(this.getPointLabelContext(r)),{color:o,lineWidth:c}=a;c&&o&&(t.lineWidth=c,t.strokeStyle=o,t.setLineDash(a.borderDash),t.lineDashOffset=a.borderDashOffset,s=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),l=this.getPointPosition(r,s),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const a=this.getIndexAngle(0);let o,r;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(a),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach(((a,s)=>{if(0===s&&!e.reverse)return;const l=n.setContext(this.getContext(s)),c=toFont(l.font);if(o=this.getDistanceFromCenterForValue(this.ticks[s].value),l.showLabelBackdrop){t.font=c.string,r=t.measureText(a.label).width,t.fillStyle=l.backdropColor;const e=toPadding(l.backdropPadding);t.fillRect(-r/2-e.left,-o-c.size/2-e.top,r+e.width,c.size+e.height)}renderText(t,a.label,0,-o,c,{color:l.color})})),t.restore()}drawTitle(){}}RadialLinearScale.id="radialLinear",RadialLinearScale.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:W.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}},RadialLinearScale.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},RadialLinearScale.descriptors={angleLines:{_fallback:"grid"}};const ft={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},gt=Object.keys(ft);function sorter(t,e){return t-e}function parse(t,e){if(isNullOrUndef(e))return null;const n=t._adapter,{parser:a,round:o,isoWeekday:r}=t._parseOpts;let s=e;return"function"==typeof a&&(s=a(s)),isNumberFinite(s)||(s="string"==typeof a?n.parse(s,a):n.parse(s)),null===s?null:(o&&(s="week"!==o||!isNumber(r)&&!0!==r?n.startOf(s,o):n.startOf(s,"isoWeek",r)),+s)}function determineUnitForAutoTicks(t,e,n,a){const o=gt.length;for(let r=gt.indexOf(t);r<o-1;++r){const t=ft[gt[r]],o=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((n-e)/(o*t.size))<=a)return gt[r]}return gt[o-1]}function addTick(t,e,n){if(n){if(n.length){const{lo:a,hi:o}=_lookup(n,e);t[n[a]>=e?n[a]:n[o]]=!0}}else t[e]=!0}function ticksFromTimestamps(t,e,n){const a=[],o={},r=e.length;let s,l;for(s=0;s<r;++s)l=e[s],o[l]=s,a.push({value:l,major:!1});return 0!==r&&n?function setMajorTicks(t,e,n,a){const o=t._adapter,r=+o.startOf(e[0].value,a),s=e[e.length-1].value;let l,c;for(l=r;l<=s;l=+o.add(l,1,a))c=n[l],c>=0&&(e[c].major=!0);return e}(t,a,o,n):a}class TimeScale extends Scale{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e){const n=t.time||(t.time={}),a=this._adapter=new Z._date(t.adapters.date);a.init(e),mergeIf(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:parse(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:a,max:o,minDefined:r,maxDefined:s}=this.getUserBounds();function _applyBounds(t){r||isNaN(t.min)||(a=Math.min(a,t.min)),s||isNaN(t.max)||(o=Math.max(o,t.max))}r&&s||(_applyBounds(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||_applyBounds(this.getMinMax(!1))),a=isNumberFinite(a)&&!isNaN(a)?a:+e.startOf(Date.now(),n),o=isNumberFinite(o)&&!isNaN(o)?o:+e.endOf(Date.now(),n)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,a="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,r=function _filterBetween(t,e,n){let a=0,o=t.length;for(;a<o&&t[a]<e;)a++;for(;o>a&&t[o-1]>n;)o--;return a>0||o<t.length?t.slice(a,o):t}(a,o,this.max);return this._unit=e.unit||(n.autoSkip?determineUnitForAutoTicks(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):function determineUnitForFormatting(t,e,n,a,o){for(let r=gt.length-1;r>=gt.indexOf(n);r--){const n=gt[r];if(ft[n].common&&t._adapter.diff(o,a,n)>=e-1)return n}return gt[n?gt.indexOf(n):0]}(this,r.length,e.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function determineMajorUnit(t){for(let e=gt.indexOf(t)+1,n=gt.length;e<n;++e)if(ft[gt[e]].common)return gt[e]}(this._unit):void 0,this.initOffsets(a),t.reverse&&r.reverse(),ticksFromTimestamps(this,r,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(t){let e,n,a=0,o=0;this.options.offset&&t.length&&(e=this.getDecimalForValue(t[0]),a=1===t.length?1-e:(this.getDecimalForValue(t[1])-e)/2,n=this.getDecimalForValue(t[t.length-1]),o=1===t.length?n:(n-this.getDecimalForValue(t[t.length-2]))/2);const r=t.length<3?.5:.25;a=_limitValue(a,0,r),o=_limitValue(o,0,r),this._offsets={start:a,end:o,factor:1/(a+1+o)}}_generate(){const t=this._adapter,e=this.min,n=this.max,a=this.options,o=a.time,r=o.unit||determineUnitForAutoTicks(o.minUnit,e,n,this._getLabelCapacity(e)),s=valueOrDefault(o.stepSize,1),l="week"===r&&o.isoWeekday,c=isNumber(l)||!0===l,d={};let u,h,p=e;if(c&&(p=+t.startOf(p,"isoWeek",l)),p=+t.startOf(p,c?"day":r),t.diff(n,e,r)>1e5*s)throw new Error(e+" and "+n+" are too far apart with stepSize of "+s+" "+r);const g="data"===a.ticks.source&&this.getDataTimestamps();for(u=p,h=0;u<n;u=+t.add(u,s,r),h++)addTick(d,u,g);return u!==n&&"ticks"!==a.bounds&&1!==h||addTick(d,u,g),Object.keys(d).sort(((t,e)=>t-e)).map((t=>+t))}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}_tickFormatFunction(t,e,n,a){const o=this.options,r=o.time.displayFormats,s=this._unit,l=this._majorUnit,c=s&&r[s],d=l&&r[l],u=n[e],h=l&&d&&u&&u.major,p=this._adapter.format(t,a||(h?d:c)),g=o.ticks.callback;return g?callback(g,[p,e,n],this):p}generateTickLabels(t){let e,n,a;for(e=0,n=t.length;e<n;++e)a=t[e],a.label=this._tickFormatFunction(a.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,a=toRadians(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(a),r=Math.sin(a),s=this._resolveTickFontOptions(0).size;return{w:n*o+s*r,h:n*r+s*o}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,a=n[e.unit]||n.millisecond,o=this._tickFormatFunction(t,0,ticksFromTimestamps(this,[t],this._majorUnit),a),r=this._getLabelSize(o),s=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return s>0?s:1}getDataTimestamps(){let t,e,n=this._cache.data||[];if(n.length)return n;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(t=0,e=a.length;t<e;++t)n=n.concat(a[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const a=this.getLabels();for(e=0,n=a.length;e<n;++e)t.push(parse(this,a[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return _arrayUnique(t.sort(sorter))}}function chart_interpolate(t,e,n){let a,o,r,s,l=0,c=t.length-1;n?(e>=t[l].pos&&e<=t[c].pos&&({lo:l,hi:c}=_lookupByKey(t,"pos",e)),({pos:a,time:r}=t[l]),({pos:o,time:s}=t[c])):(e>=t[l].time&&e<=t[c].time&&({lo:l,hi:c}=_lookupByKey(t,"time",e)),({time:a,pos:r}=t[l]),({time:o,pos:s}=t[c]));const d=o-a;return d?r+(s-r)*(e-a)/d:r}TimeScale.id="time",TimeScale.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};class TimeSeriesScale extends TimeScale{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=chart_interpolate(e,this.min),this._tableRange=chart_interpolate(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,a=[],o=[];let r,s,l,c,d;for(r=0,s=t.length;r<s;++r)c=t[r],c>=e&&c<=n&&a.push(c);if(a.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(r=0,s=a.length;r<s;++r)d=a[r+1],l=a[r-1],c=a[r],Math.round((d+l)/2)!==c&&o.push({time:c,pos:r/(s-1)});return o}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return t=e.length&&n.length?this.normalize(e.concat(n)):e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(chart_interpolate(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return chart_interpolate(this._table,n*this._tableRange+this._minPos,!0)}}TimeSeriesScale.id="timeseries",TimeSeriesScale.defaults=TimeScale.defaults;const mt=[H,at,pt,Object.freeze({__proto__:null,CategoryScale,LinearScale,LogarithmicScale,RadialLinearScale,TimeScale,TimeSeriesScale})]}}]);