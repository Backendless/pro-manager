<xml xmlns="http://www.w3.org/1999/xhtml"><block type="root_block_ui_builder_button_onClick_handler" id="JOJ1vtiQhF3s%$Tfy4n*" deletable="false" x="120" y="94"><statement name="statements_code"><block type="set_object_property" id="-VqIdTISp)Tal,C$Fzt1"><value name="object"><block type="root_block_ui_builder_common__context_blocks_pageData" id="zIAr!nzlwn[Kk*V4.#dr" bl_meta="{&quot;label&quot;:&quot;Page Data&quot;}"></block></value><value name="propName"><shadow type="text" id="fMu1HY{SgcaVzj}{zB}y"><field name="TEXT">upgradeStart</field></shadow></value><value name="propValue"><block type="logic_boolean" id="3$79.TnBYcNx5EB43j%U"><field name="BOOL">TRUE</field></block></value><next><block type="set_object_property" id="ls7O]B*TZN6qFnp.8x[6" inline="true"><value name="object"><block type="root_block_ui_builder_common__context_blocks_pageData" id="v,eRGaQW~uYD+pw9f,Ry" bl_meta="{&quot;label&quot;:&quot;Page Data&quot;}"></block></value><value name="propName"><shadow type="text" id="rgb:b-+)6U]~QYh1k0o^"><field name="TEXT">btnUpgradeDisabled</field></shadow></value><value name="propValue"><block type="logic_boolean" id="ktM!cxCvsvVA~hS[FJ:O"><field name="BOOL">TRUE</field></block></value><next><block type="set_object_property" id=".HWn`/nr)Pbaq=7VxBt7" inline="true"><value name="object"><block type="root_block_ui_builder_common__context_blocks_pageData" id="-Vk?TuM5A)yHv;H9nR1N" bl_meta="{&quot;label&quot;:&quot;Page Data&quot;}"></block></value><value name="propName"><shadow type="text" id="R!S12A5tAJ}*DYNmB91e"><field name="TEXT">btnUpgradeLabel</field></shadow></value><value name="propValue"><block type="text" id="9usP9mL~ghA/1AU@}jFC"><field name="TEXT">Upgrading...</field></block></value><next><block type="set_object_property" id="-+_Vc3/Mkn%:Q%B-z,nL" inline="true"><value name="object"><block type="ui_common_blocks__get_component_data_style" id="+Gaa9|F*t/]Br?2!8LZH" bl_meta="{&quot;label&quot;:&quot;Get component style&quot;}"><field name="componentUid">'d61f05ceb764b89f8c44a8c320457ad6'</field></block></value><value name="propName"><shadow type="text" id="z%|D06XLrl/BrB6%(@`{"><field name="TEXT">opacity</field></shadow></value><value name="propValue"><block type="text" id="ZezQd;_`V]%o~zd^-.LT"><field name="TEXT">0.5</field></block></value><next><block type="controls_if" id="ukXpG;;~dAuv=:K0.NNr" disabled="true"><value name="IF0"><block type="get_object_property" id="b/s*pM,(uJ/DRonyhWu?"><value name="prop_name"><shadow type="text" id="=4^6fw9M#{|;!Qi?9ZF?"><field name="TEXT">previousUpgrade</field></shadow></value><value name="object"><block type="root_block_ui_builder_common__context_blocks_appData" id="`rY%ly}[m|z#:j17@9%6" bl_meta="{&quot;label&quot;:&quot;App Data&quot;}"></block></value></block></value><statement name="DO0"><block type="controls_if" id="FCG0Hh!0C{IHH)7t_;EV"><value name="IF0"><block type="get_object_property" id="%$v(vbt??D)yg[TSe|}("><value name="prop_name"><shadow type="text" id="EUtwpzQ+r|JsaI,JNuoU"><field name="TEXT">connected</field></shadow></value><value name="object"><block type="get_object_property" id="A|9i!AYv!QIEkwDD63g8" inline="false"><value name="prop_name"><shadow type="text" id="pfx[^]ZCwDz*EhZ*AJeZ"><field name="TEXT">opensSoketCurrentUpgrade</field></shadow></value><value name="object"><block type="root_block_ui_builder_common__context_blocks_appData" id="x{ZmRu.+zNWyqbBC|]$Q" bl_meta="{&quot;label&quot;:&quot;App Data&quot;}"></block></value></block></value></block></value><statement name="DO0"><block type="custom_js_code" id="-WRe6%ARBd3l$5R.+S+]"><mutation output="false"><arg arg-name="serviceName"></arg><code>" \n  socketCurrentUpgrade.emit ('service-logs:unsubscribe', {\n    \"serviceName\":`${serviceName}`,\n    \"channelName\":`${serviceName}-log`\n  });\n  \n  socketCurrentUpgrade.disconnect();\n \n    \n "</code></mutation><field name="name">stopSocket</field><value name="serviceName"><block type="get_object_property" id="|OYnh$%iLt.T5y:BR|]w"><value name="prop_name"><shadow type="text" id=")65}{k1Zqo[-IPFWsK?m"><field name="TEXT">previousUpgrade</field></shadow></value><value name="object"><block type="root_block_ui_builder_common__context_blocks_appData" id=")#w{M06K@3a:M(S0=K^P" bl_meta="{&quot;label&quot;:&quot;App Data&quot;}"></block></value></block></value></block></statement></block></statement><next><block type="try_catch" id="x-{g^wbyiA3^qi`459lj"><statement name="try"><block type="variables_set" id="R,$ZArh]qu-Rk)$e#k#r"><field name="VAR">currentUpgradeJob</field><value name="VALUE"><block type="codeless_function_block_696a14dd8d2f85be7023c2c4441a65a5" id="a/u2S#kG:?,+qAX0N?km" bl_meta="{&quot;fn&quot;:&quot;ProManagerAPI&quot;,&quot;label&quot;:&quot;Custom Function - ProManagerAPI&quot;}"><mutation has_output="true"></mutation><field name="connections_toggler">TRUE</field><value name="method"><block type="text" id="2cXeE`bgRM[Q@@D@1$H`"><field name="TEXT">put</field></block></value><value name="path"><block type="text" id="kqu0r@x{DC[;e{u94Mal"><field name="TEXT">/upgrade</field></block></value><value name="body"><block type="create_object" id="HV7#+39@,9a6$FTNe.WB"><mutation><properties><item id="property" prop-name="version"></item></properties></mutation><value name="create_object_mutator_container_properties_stack_property0"><block type="get_object_property" id="aTOSIB~mo4ZdM9(yZ^:q" inline="false"><value name="prop_name"><shadow type="text" id="*r|M:zw9_BPD%NkkCmcu"><field name="TEXT">version</field></shadow></value><value name="object"><block type="root_block_ui_builder_common__context_blocks_pageData" id="7cXv$+$?6^]pYWy-e,@#" bl_meta="{&quot;label&quot;:&quot;Page Data&quot;}"></block></value></block></value></block></value></block></value><next><block type="set_object_property" id="MK2|sMv5Q;N!,nInI+vv" inline="true"><value name="object"><block type="root_block_ui_builder_common__context_blocks_appData" id="oH]f+b1}d$OYB){mhikk" bl_meta="{&quot;label&quot;:&quot;App Data&quot;}"></block></value><value name="propName"><shadow type="text" id="PokV5$bI(Bs+A38M8P9y"><field name="TEXT">logСurrentUpgradeData</field></shadow></value><value name="propValue"><block type="lists_create_with" id="vW;lEdUixA{K8Qbd{)}}"><mutation items="1"></mutation><value name="ADD0"><block type="text" id="R.ps-fgJk8Ty,jRMtDg*"><field name="TEXT">Loading...</field></block></value></block></value><next><block type="set_object_property" id="Aw.{7uTDVf4~]KHZC7y1" inline="true"><value name="object"><block type="root_block_ui_builder_common__context_blocks_pageData" id="Fib)a.w/^ad5d`H*7o]." bl_meta="{&quot;label&quot;:&quot;Page Data&quot;}"></block></value><value name="propName"><shadow type="text" id="XGRpcJ{9Npdo7h%G?mN4"><field name="TEXT">startUpdateMenu</field></shadow></value><value name="propValue"><block type="logic_boolean" id="UmWNW$Tb`eCU,L|{v=xu"><field name="BOOL">TRUE</field></block></value><next><block type="set_object_property" id="Pmw%v_Brk5LhA^GK:5?:"><value name="object"><block type="root_block_ui_builder_common__context_blocks_appData" id="Kb.!`^C$!kz@a!CzjEK5" bl_meta="{&quot;label&quot;:&quot;App Data&quot;}"></block></value><value name="propName"><shadow type="text" id="P;pWY%BM7B6qZb1%rj31"><field name="TEXT">jobsList</field></shadow></value><value name="propValue"><block type="codeless_function_block_696a14dd8d2f85be7023c2c4441a65a5" id="4O?BOD@DR]!hij(QOw{|" bl_meta="{&quot;fn&quot;:&quot;ProManagerAPI&quot;,&quot;label&quot;:&quot;Custom Function - ProManagerAPI&quot;}"><mutation has_output="true"></mutation><field name="connections_toggler">TRUE</field><value name="method"><block type="text" id="6[,U*[2H((K7+Xhv_!7$"><field name="TEXT">get</field></block></value><value name="path"><block type="text" id="]jHwq;b{=}pi4G.t{LN{"><field name="TEXT">/upgrade/jobs</field></block></value></block></value></block></next></block></next></block></next></block></statement><statement name="catch"><block type="codeless_function_block_8f16ba2ef5c9c7a7b32d569b3762f6c4" id="J68LzhbBo+S22N%9h}K}" bl_meta="{&quot;fn&quot;:&quot;showMessage&quot;,&quot;label&quot;:&quot;Custom Function - showMessage&quot;}"><mutation has_output="false"></mutation><field name="connections_toggler">FALSE</field><value name="pageData"><block type="root_block_ui_builder_common__context_blocks_pageData" id="=i,RlJiJ%JZT^c4.|O)X" bl_meta="{&quot;label&quot;:&quot;Page Data&quot;}"></block></value><value name="message"><block type="get_object_property" id="4Or#a4|q~F,dwH!U@D*g"><value name="prop_name"><shadow type="text" id="8{.peM@Dirhp.*Cl8q^v"><field name="TEXT">message</field></shadow></value><value name="object"><block type="variables_get" id="R|{Hqreg?nZ+U202H902"><field name="VAR">error</field></block></value></block></value><value name="color"><block type="text" id="o`eWWS3A|SF0bte!`];:"><field name="TEXT">rgba(231, 76, 60, 0.93)</field></block></value><value name="alert"><block type="ui_common_blocks__get_component_by_id" id=",^7KVtk;h/mUEFbeb4p6" bl_meta="{&quot;label&quot;:&quot;Get component by id&quot;}"><field name="componentUid">'1921a9cd7ebbed5892b11a47806e6baa'</field></block></value><value name="styleAlert"><block type="ui_common_blocks__get_component_data_style" id="#m)kcjT]?O@dFnO@1etP" bl_meta="{&quot;label&quot;:&quot;Get component style&quot;}"><field name="componentUid">'1921a9cd7ebbed5892b11a47806e6baa'</field></block></value><value name="styleAlertText"><block type="ui_common_blocks__get_component_data_style" id="ptm`^;HAq,jQ_yVQI?1*" bl_meta="{&quot;label&quot;:&quot;Get component style&quot;}"><field name="componentUid">'4eda51021b746238c2714d9f1947b5c5'</field></block></value></block></statement><statement name="finally"><block type="set_object_property" id="2s},^SHG8f{,H4VjvqBD" inline="true"><value name="object"><block type="ui_common_blocks__get_component_data_style" id="dtNy./5:DnAPvuJ_sW52" bl_meta="{&quot;label&quot;:&quot;Get component style&quot;}"><field name="componentUid">'d61f05ceb764b89f8c44a8c320457ad6'</field></block></value><value name="propName"><shadow type="text" id="s;PvLvBe#y92::u$$s%K"><field name="TEXT">opacity</field></shadow></value><value name="propValue"><block type="text" id="+=6R8-0Xn(5/@)KI3clM"><field name="TEXT">1</field></block></value><next><block type="set_object_property" id="=8zXm@TWu#T|5y1tVi4M" inline="true"><value name="object"><block type="root_block_ui_builder_common__context_blocks_pageData" id="h$SF$fL1c#T#|)#7cTwf" bl_meta="{&quot;label&quot;:&quot;Page Data&quot;}"></block></value><value name="propName"><shadow type="text" id="^s*~]m9Xtc/6[D;tD-~h"><field name="TEXT">btnUpgradeLabel</field></shadow></value><value name="propValue"><block type="text" id="p{d1+hq$Z*Xc)zzfyf@f"><field name="TEXT">Upgrade</field></block></value><next><block type="set_object_property" id="LR8Ahwn4K]:W;0.^3xl;" inline="true"><value name="object"><block type="root_block_ui_builder_common__context_blocks_pageData" id="GjY;ZI3VEgn])L.Ok:^G" bl_meta="{&quot;label&quot;:&quot;Page Data&quot;}"></block></value><value name="propName"><shadow type="text" id="J{Gg%yHD#.k]w!c9vBjb"><field name="TEXT">btnUpgradeDisabled</field></shadow></value><value name="propValue"><block type="logic_boolean" id="5.yr7V^~CD,f[+%~L[}_"><field name="BOOL">FALSE</field></block></value><next><block type="set_object_property" id="7*J*!{C0SI$M-P.pSjZ)" inline="true"><value name="object"><block type="root_block_ui_builder_common__context_blocks_pageData" id="`3///WdE9y2]u+hGODi*" bl_meta="{&quot;label&quot;:&quot;Page Data&quot;}"></block></value><value name="propName"><shadow type="text" id="1evr;a=pj*r_/4=Au3ve"><field name="TEXT">startUpdateMenu</field></shadow></value><value name="propValue"><block type="logic_boolean" id="6@/A9!q4XB?%FVzb!Cb)"><field name="BOOL">FALSE</field></block></value></block></next></block></next></block></next></block></statement><next><block type="timer_wait" id="kT+b]NPL`=a_P}d*Y-l5"><value name="time"><shadow type="math_number" id="7aRWQFykrdMtm/CJG1zB"><field name="NUM">3000</field></shadow></value><next><block type="lists_getIndex" id="B@sqr%WFLva74*~#Wrm6"><mutation statement="true" at="false"></mutation><field name="MODE">REMOVE</field><field name="WHERE">FIRST</field><value name="VALUE"><block type="get_object_property" id="UEA6$gha7@h.k3[H:x.G" inline="false"><value name="prop_name"><shadow type="text" id="y|*qFJl+VUP89JiCq2F9"><field name="TEXT">logСurrentUpgradeData</field></shadow></value><value name="object"><block type="root_block_ui_builder_common__context_blocks_appData" id="j0RQq7lKuC)uJXDvo-i+" bl_meta="{&quot;label&quot;:&quot;App Data&quot;}"></block></value></block></value><next><block type="set_object_property" id="Rb5`Fl/+JSii[KIG@V(,"><value name="object"><block type="root_block_ui_builder_common__context_blocks_appData" id="J=|ft~sbLLcmY0OpK.!2" bl_meta="{&quot;label&quot;:&quot;App Data&quot;}"></block></value><value name="propName"><shadow type="text" id="9KyU%~B({;[?7MHBf5wV"><field name="TEXT">opensSoketCurrentUpgrade</field></shadow></value><value name="propValue"><block type="custom_js_code" id="ia?r]}G]R]}BU!OVjztQ"><mutation output="true"><arg arg-name="logsArray"></arg><arg arg-name="serviceName"></arg><arg arg-name="podName"></arg><code>"const io = await BackendlessUI.requireModule('https://cdn.jsdelivr.net/npm/socket.io-client@4.4.0/dist/socket.io.min.js');\n\n  socketCurrentUpgrade = io.connect('http://localhost:5051', { transports : ['websocket'] });\n\n  socketCurrentUpgrade.on (`${serviceName}-log`, function (data) {\n    logsArray.push (data);\n  });\n        \n  socketCurrentUpgrade.emit ('service-logs:subscribe', {\n    \"serviceName\":`${serviceName}`,\n    \"podName\":`${podName}`,\n    \"channelName\": `${serviceName}-log`\n  });\n  \n  \n  return socketCurrentUpgrade"</code></mutation><field name="name">getSocketUpgradeData</field><value name="logsArray"><block type="get_object_property" id="3}|TTc:rfoTbBk)-N;Y_"><value name="prop_name"><shadow type="text" id="jt2[_LhzdF{%Y}.MpWc,"><field name="TEXT">logСurrentUpgradeData</field></shadow></value><value name="object"><block type="root_block_ui_builder_common__context_blocks_appData" id="*NX;1T4V5LSA$4mXcTK!" bl_meta="{&quot;label&quot;:&quot;App Data&quot;}"></block></value></block></value><value name="serviceName"><block type="get_object_property" id="{u#:({-HE_b:PVEye18Q" inline="false"><value name="prop_name"><shadow type="text" id="Wo.ASwaQ8*9x30d4o:|m"><field name="TEXT">jobName</field></shadow></value><value name="object"><block type="variables_get" id="by=7|MEwLhKKSC+JHu8%"><field name="VAR">currentUpgradeJob</field></block></value></block></value><value name="podName"><block type="get_object_property" id="G)eIq`]OBvt[052.t(QT" inline="false"><value name="prop_name"><shadow type="text" id="mE}fz#z,uQEmI;,PuMdb"><field name="TEXT">podName</field></shadow></value><value name="object"><block type="variables_get" id="%K$lVj4#}^O_Z`,4gncd"><field name="VAR">currentUpgradeJob</field></block></value></block></value></block></value><next><block type="set_object_property" id="q)]_N~h}K)$txT~,s*I%"><value name="object"><block type="root_block_ui_builder_common__context_blocks_appData" id="$H/Q|Nx#qSANg*^L3$}," bl_meta="{&quot;label&quot;:&quot;App Data&quot;}"></block></value><value name="propName"><shadow type="text" id="[]wX,xPs7Si{Sg;m`.;o"><field name="TEXT">previousUpgrade</field></shadow></value><value name="propValue"><block type="get_object_property" id="t|9z+L;OT0r3:R4#|+zk" inline="false"><value name="prop_name"><shadow type="text" id="Jg`sC9R?jUig1]:,6HH3"><field name="TEXT">jobName</field></shadow></value><value name="object"><block type="variables_get" id="zkHrbicWT~-c`QbH$urj"><field name="VAR">currentUpgradeJob</field></block></value></block></value><next><block type="timer_wait" id="aSiHHLp{lf,4E?zYTQ$F"><value name="time"><shadow type="math_number" id="#m]wEIsS7+mOY8Hcc%{2"><field name="NUM">3000</field></shadow></value><next><block type="custom_js_code" id=".|1G.#7wGia.EqGpb*/S"><mutation output="false"><arg arg-name="serviceName"></arg><code>" \n  socketCurrentUpgrade.emit ('service-logs:unsubscribe', {\n    \"serviceName\":`${serviceName}`,\n    \"channelName\":`${serviceName}-log`\n  });\n  \n  socketCurrentUpgrade.disconnect();\n \n    \n "</code></mutation><field name="name">stopSocket</field><value name="serviceName"><block type="get_object_property" id="Wc`=A`c/Rm/f%rPX@4f*"><value name="prop_name"><shadow type="text" id="959HMmxa{XjZ(+|i3rSD"><field name="TEXT">previousUpgrade</field></shadow></value><value name="object"><block type="root_block_ui_builder_common__context_blocks_appData" id="`opuVk6?pK_#x$+6/f=@" bl_meta="{&quot;label&quot;:&quot;App Data&quot;}"></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>