<xml xmlns="http://www.w3.org/1999/xhtml"><block type="root_block_ui_builder_page_onEnter_handler" id="NA%V}q}w9Ts-q9a^TcMd" deletable="false" x="20" y="50"><statement name="statements_code"><block type="custom_js_code" id="6+kgZ_I0J^=WjT_.Ho,V"><mutation output="false"><code>"logClear = false;\nlogStopFollow = false;\nlogOriginalText = '';\nlogFileText = ''"</code></mutation><field name="name">init_custom_logic</field><next><block type="set_object_property" id="aG}g7o}xf?^VXO?y6js,"><value name="object"><block type="root_block_ui_builder_common__context_blocks_pageData" id="12eh,ly^Z~CW,!+bB;x(" bl_meta="{&quot;label&quot;:&quot;Page Data&quot;}"></block></value><value name="propName"><shadow type="text" id="#Ktf!7{?ctSC3~K9#etf"><field name="TEXT">followBtnLabel</field></shadow></value><value name="propValue"><block type="text" id="A3#q$88^sNO;jeNoujz9"><field name="TEXT">Pause Log Updates</field></block></value><next><block type="set_object_property" id="UVMD1ag/ylpLKm8pqlu/"><value name="object"><block type="root_block_ui_builder_common__context_blocks_pageData" id="+P3(,8;:%faPXEHC3ZJ_" bl_meta="{&quot;label&quot;:&quot;Page Data&quot;}"></block></value><value name="propName"><shadow type="text" id="]IPr]eME)ecR~_F,,0R-"><field name="TEXT">downloadBtnLabel</field></shadow></value><value name="propValue"><block type="text" id="ToPOQl1Q0lgn=F;7;+(!"><field name="TEXT">Download</field></block></value><next><block type="local_storage_delete" id="|*A(9;TCoW]NGogQBaV^"><value name="key"><shadow type="text" id="i.[cN_e]DEn.#YXf5w0t"><field name="TEXT">originLoad</field></shadow></value><next><block type="controls_if" id="IHV_mi!A5TX]N4Ti?F5n"><value name="IF0"><block type="logic_negate" id="^iv*ne5Fgcq]@DFPdA:+"><value name="BOOL"><block type="get_object_property" id=".qmHi8(mZXX7jA6%.ER{"><value name="prop_name"><shadow type="text" id="LA4Exs;e,E=LY#3w$xH}"><field name="TEXT">serviceName</field></shadow></value><value name="object"><block type="root_block_ui_builder_common__context_blocks_pageData" id="U,FyB?iU@)l3[j~6}v$s" bl_meta="{&quot;label&quot;:&quot;Page Data&quot;}"></block></value></block></value></block></value><statement name="DO0"><block type="set_object_property" id="v|_dyK)f1DpJezlO8?DD"><value name="object"><block type="root_block_ui_builder_common__context_blocks_pageData" id="-Ur^vs$#o_Uds,ARr`bT" bl_meta="{&quot;label&quot;:&quot;Page Data&quot;}"></block></value><value name="propName"><shadow type="text" id="N^d+~]fpx%5_G[4;fs`S"><field name="TEXT">serviceName</field></shadow></value><value name="propValue"><block type="text" id="P{jd`liVVNZg.Bc0I:0S"><field name="TEXT">bl-server</field></block></value></block></statement><next><block type="variables_set" id="AJyNga;!iz5(U2Af4IHQ"><field name="VAR">origin</field><value name="VALUE"><block type="codeless_function_block_1e23a48a29f82b3fc1f647fd98cb53f6" id="f=2qOsD#c!8AR;:TtN9n" bl_meta="{&quot;fn&quot;:&quot;getSocketOrigin&quot;,&quot;label&quot;:&quot;Custom Function - getSocketOrigin&quot;}"><mutation has_output="true"></mutation><field name="connections_toggler">TRUE</field></block></value><next><block type="set_object_property" id=":8p``8Xt?j1QEu2K9IK4"><value name="object"><block type="root_block_ui_builder_common__context_blocks_appData" id="|K35}[LWM(uE5-3Vli{D" bl_meta="{&quot;label&quot;:&quot;App Data&quot;}"></block></value><value name="propName"><shadow type="text" id="v(.;Wg8R+vROy:sqe]@{"><field name="TEXT">openSocket</field></shadow></value><value name="propValue"><block type="custom_js_code" id="uChCms5_^LkQ3=wp@1V@"><mutation output="true"><arg arg-name="serviceName"></arg><arg arg-name="host"></arg><code>"const io = await BackendlessUI.requireModule('https://cdn.jsdelivr.net/npm/socket.io-client@4.4.0/dist/socket.io.min.js');\n\n  const output = document.querySelector('.ServerLogs__ContentLogs');\n  output.innerHTML = '';\n \n  logOriginalText = '';\n  logFileText = ''\n  \n  socket = io.connect(`${host}`, { transports : ['websocket'] });\n\n  socket.on (`${serviceName}-logs`, function (data) {\n    logFileText = logFileText + data;\n    let dataWithBr = insertBr(data);\n    logOriginalText = logOriginalText + dataWithBr;\n\n     output.innerHTML = `${output.innerHTML}${dataWithBr}`;\n     \n     if(!logStopFollow) {\n       output.scrollTop = output.scrollHeight;\n     }\n  });\n        \n  socket.emit ('service-logs:subscribe', {\n    \"serviceName\":`${serviceName}`,\n    \"channelName\": `${serviceName}-logs`\n  });\n  \n  return socket\n  \n  function insertBr (str) {\n    const regex = /\\n/g;\n    return str.replace(regex, '&lt;br&gt;');\n  }\n  \n  \n"</code></mutation><field name="name">getSocketIoData</field><value name="serviceName"><block type="get_object_property" id="|6)-db#FDhUM|%?X]}MR"><value name="prop_name"><shadow type="text" id="F]04:NJeKO./I5LWW,3{"><field name="TEXT">serviceName</field></shadow></value><value name="object"><block type="root_block_ui_builder_common__context_blocks_pageData" id="/De_5?-x+j{+VBBfTB=T" bl_meta="{&quot;label&quot;:&quot;Page Data&quot;}"></block></value></block></value><value name="host"><block type="variables_get" id="9WD$qxj;%]n6l#{v+b2e"><field name="VAR">origin</field></block></value></block></value><next><block type="set_object_property" id="mL#!jY!M6?8d4mrm]q%8"><value name="object"><block type="root_block_ui_builder_common__context_blocks_appData" id="{2J=`:E%({(L_nJq1Mzv" bl_meta="{&quot;label&quot;:&quot;App Data&quot;}"></block></value><value name="propName"><shadow type="text" id="4p;K1*S8,RXlAn`Km_k9"><field name="TEXT">previousService</field></shadow></value><value name="propValue"><block type="get_object_property" id="9-bclUcNaX!tt2VCr7(O"><value name="prop_name"><shadow type="text" id="eK|*n@TjL.!ooy}uBk0="><field name="TEXT">serviceName</field></shadow></value><value name="object"><block type="root_block_ui_builder_common__context_blocks_pageData" id=";*6YEMGC!t#|`igLGvFs" bl_meta="{&quot;label&quot;:&quot;Page Data&quot;}"></block></value></block></value><next><block type="set_object_property" id=",O$u!423c|bG[FaQk))y"><value name="object"><block type="root_block_ui_builder_common__context_blocks_pageData" id="b!HP2(EQ8ke*m,7D*lp{" bl_meta="{&quot;label&quot;:&quot;Page Data&quot;}"></block></value><value name="propName"><shadow type="text" id=":3WH@@Ipq!b^!;v4/lA."><field name="TEXT">logsTab</field></shadow></value><value name="propValue"><block type="logic_boolean" id="xth;_$,:Rdy3LGJ;aQ51"><field name="BOOL">TRUE</field></block></value><next><block type="set_object_property" id="=_d(9d{8}|P|yM6_lIn1"><value name="object"><block type="root_block_ui_builder_common__context_blocks_appData" id="@$F*@mYdAj`x*@pxIS?/" bl_meta="{&quot;label&quot;:&quot;App Data&quot;}"></block></value><value name="propName"><shadow type="text" id="Fh#Yo0kJ~8-q;J6?FFEV"><field name="TEXT">logsTab</field></shadow></value><value name="propValue"><block type="get_object_property" id="LN_cA2i4jWzt]9H(cI%1"><value name="prop_name"><shadow type="text" id="UkPxI(m@.,4`;BLg0jk1"><field name="TEXT">logsTab</field></shadow></value><value name="object"><block type="root_block_ui_builder_common__context_blocks_pageData" id="y7Flwev!pnK@[Zd^#2cl" bl_meta="{&quot;label&quot;:&quot;Page Data&quot;}"></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>